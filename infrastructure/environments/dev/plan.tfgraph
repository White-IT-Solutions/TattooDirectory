{"format_version":"1.2","terraform_version":"1.12.2","variables":{"allowed_countries":{"value":["GB"]},"api_cors_allowed_origins":{"value":["http://localhost:3000","https://dev.yourapp.com"]},"app_version":{"value":"dev-build"},"audit_account_id":{"value":"098819594789"},"aws_region":{"value":"eu-west-2"},"backup_enabled":{"value":false},"backup_retention_days":{"value":7},"common_tags":{"value":{}},"cost_centre":{"value":"Portfolio Project"},"default_data_classification":{"value":"Internal"},"domain_name":{"value":""},"enable_advanced_monitoring":{"value":false},"enable_cloudtrail_insights":{"value":false},"enable_config_remediation":{"value":false},"enable_conformance_packs":{"value":false},"enable_cross_region_replication":{"value":false},"enable_deletion_protection":{"value":false},"environment":{"value":"dev"},"infra_account_id":{"value":"773595699997"},"lambda_memory_size":{"value":256},"log_archive_account_id":{"value":"224425919836"},"log_retention_days":{"value":14},"managed_by":{"value":"Terraform"},"nat_gateway_count":{"value":1},"notification_email":{"value":"joseph.white1208@gmail.com"},"opensearch_instance_count":{"value":1},"opensearch_instance_type":{"value":"t3.micro.search"},"opensearch_master_instance_count":{"value":null},"opensearch_master_instance_type":{"value":null},"owner_email":{"value":"joseph.white1208@gmail.com"},"project_name":{"value":"tattoo-artist-directory"},"replica_aws_region":{"value":"eu-west-1"},"scraper_image_tag":{"value":"latest"}},"planned_values":{"root_module":{"resources":[{"address":"aws_iam_policy.github_actions_cicd","mode":"managed","type":"aws_iam_policy","name":"github_actions_cicd","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"tattoo-artist-directory-dev-github-actions-cicd-policy","path":"/cicd/","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags_all":{}}},{"address":"aws_iam_role_policy_attachment.github_actions_cicd","mode":"managed","type":"aws_iam_role_policy_attachment","name":"github_actions_cicd","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"GitHubActionsTerraformRole"},"sensitive_values":{}},{"address":"aws_iam_user.security_analyst","mode":"managed","type":"aws_iam_user","name":"security_analyst","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"force_destroy":false,"name":"tattoo-artist-directory-dev-security-analyst","path":"/users/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-security-analyst","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-security-analyst","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_ssm_parameter.lambda_artifacts_bucket_name","mode":"managed","type":"aws_ssm_parameter","name":"lambda_artifacts_bucket_name","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allowed_pattern":null,"description":"The name of the S3 bucket used to store Lambda deployment artifacts.","name":"/tattoo-artist-directory-dev/lambda-artifacts-bucket-name","overwrite":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-artifacts-bucket-name","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-artifacts-bucket-name","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"type":"SecureString","value_wo":null,"value_wo_version":null},"sensitive_values":{"tags":{},"tags_all":{},"value":true,"value_wo":true}}],"child_modules":[{"resources":[{"address":"module.api.aws_apigatewayv2_api.main","mode":"managed","type":"aws_apigatewayv2_api","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_key_selection_expression":"$request.header.x-api-key","body":null,"cors_configuration":[{"allow_credentials":false,"allow_headers":["authorization","content-type","x-amz-date","x-amz-security-token","x-amz-user-agent","x-api-key"],"allow_methods":["*"],"allow_origins":["http://localhost:3000","https://dev.yourapp.com"],"expose_headers":["date","keep-alive"],"max_age":86400}],"credentials_arn":null,"description":"HTTP API for tattoo-artist-directory","disable_execute_api_endpoint":null,"fail_on_warnings":null,"name":"tattoo-artist-directory-dev-api","protocol_type":"HTTP","route_key":null,"route_selection_expression":"$request.method $request.path","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"target":null,"version":null},"sensitive_values":{"cors_configuration":[{"allow_headers":[false,false,false,false,false,false],"allow_methods":[false],"allow_origins":[false,false],"expose_headers":[false,false]}],"tags":{},"tags_all":{}}},{"address":"module.api.aws_apigatewayv2_integration.lambda","mode":"managed","type":"aws_apigatewayv2_integration","name":"lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"connection_id":null,"connection_type":"INTERNET","content_handling_strategy":null,"credentials_arn":null,"description":null,"integration_method":"POST","integration_subtype":null,"integration_type":"AWS_PROXY","passthrough_behavior":null,"payload_format_version":"1.0","request_parameters":null,"request_templates":null,"response_parameters":[],"template_selection_expression":null,"timeout_milliseconds":30000,"tls_config":[]},"sensitive_values":{"response_parameters":[],"tls_config":[]}},{"address":"module.api.aws_apigatewayv2_route.artist_by_id","mode":"managed","type":"aws_apigatewayv2_route","name":"artist_by_id","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_key_required":false,"authorization_scopes":null,"authorization_type":"NONE","authorizer_id":null,"model_selection_expression":null,"operation_name":null,"request_models":null,"request_parameter":[],"route_key":"GET /artists/{id}","route_response_selection_expression":null},"sensitive_values":{"request_parameter":[]}},{"address":"module.api.aws_apigatewayv2_route.artists","mode":"managed","type":"aws_apigatewayv2_route","name":"artists","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_key_required":false,"authorization_scopes":null,"authorization_type":"NONE","authorizer_id":null,"model_selection_expression":null,"operation_name":null,"request_models":null,"request_parameter":[],"route_key":"GET /artists","route_response_selection_expression":null},"sensitive_values":{"request_parameter":[]}},{"address":"module.api.aws_apigatewayv2_route.health","mode":"managed","type":"aws_apigatewayv2_route","name":"health","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_key_required":false,"authorization_scopes":null,"authorization_type":"NONE","authorizer_id":null,"model_selection_expression":null,"operation_name":null,"request_models":null,"request_parameter":[],"route_key":"GET /health","route_response_selection_expression":null},"sensitive_values":{"request_parameter":[]}},{"address":"module.api.aws_apigatewayv2_route.proxy","mode":"managed","type":"aws_apigatewayv2_route","name":"proxy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_key_required":false,"authorization_scopes":null,"authorization_type":"AWS_IAM","authorizer_id":null,"model_selection_expression":null,"operation_name":null,"request_models":null,"request_parameter":[],"route_key":"ANY /{proxy+}","route_response_selection_expression":null},"sensitive_values":{"request_parameter":[]}},{"address":"module.api.aws_apigatewayv2_route.search","mode":"managed","type":"aws_apigatewayv2_route","name":"search","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"api_key_required":false,"authorization_scopes":null,"authorization_type":"NONE","authorizer_id":null,"model_selection_expression":null,"operation_name":null,"request_models":null,"request_parameter":[],"route_key":"GET /search","route_response_selection_expression":null},"sensitive_values":{"request_parameter":[]}},{"address":"module.api.aws_apigatewayv2_stage.main","mode":"managed","type":"aws_apigatewayv2_stage","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_log_settings":[{"format":"{\"errorMessage\":\"$context.error.message\",\"errorType\":\"$context.error.messageString\",\"httpMethod\":\"$context.httpMethod\",\"ip\":\"$context.identity.sourceIp\",\"protocol\":\"$context.protocol\",\"requestId\":\"$context.requestId\",\"requestTime\":\"$context.requestTime\",\"responseLength\":\"$context.responseLength\",\"routeKey\":\"$context.routeKey\",\"status\":\"$context.status\"}"}],"auto_deploy":true,"client_certificate_id":null,"default_route_settings":[{"data_trace_enabled":false,"detailed_metrics_enabled":false,"throttling_burst_limit":100,"throttling_rate_limit":50}],"description":null,"name":"dev","route_settings":[],"stage_variables":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-stage","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-stage","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"access_log_settings":[{}],"default_route_settings":[{}],"route_settings":[],"tags":{},"tags_all":{}}},{"address":"module.api.aws_lambda_permission.api_gateway","mode":"managed","type":"aws_lambda_permission","name":"api_gateway","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"tattoo-artist-directory-dev-api-handler","function_url_auth_type":null,"principal":"apigateway.amazonaws.com","principal_org_id":null,"qualifier":null,"source_account":null,"statement_id":"AllowExecutionFromAPIGateway"},"sensitive_values":{}}],"address":"module.api"},{"resources":[{"address":"module.app_monitoring.aws_cloudwatch_dashboard.main","mode":"managed","type":"aws_cloudwatch_dashboard","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dashboard_name":"tattoo-artist-directory-dev-overview"},"sensitive_values":{}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.api_gateway_4xx_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"api_gateway_4xx_errors","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors API Gateway 4XX errors","alarm_name":"tattoo-artist-directory-dev-api-4xx-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"4XXError","metric_query":[],"namespace":"AWS/ApiGatewayV2","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-4xx-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-4xx-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":10,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.api_gateway_5xx_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"api_gateway_5xx_errors","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors API Gateway 5XX errors","alarm_name":"tattoo-artist-directory-dev-api-5xx-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"5XXError","metric_query":[],"namespace":"AWS/ApiGatewayV2","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-5xx-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-5xx-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":5,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.api_gateway_latency","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"api_gateway_latency","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors API Gateway latency","alarm_name":"tattoo-artist-directory-dev-api-latency","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"IntegrationLatency","metric_query":[],"namespace":"AWS/ApiGatewayV2","ok_actions":null,"period":300,"statistic":"Average","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-latency","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-latency","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":5000,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.dynamodb_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"dynamodb_errors","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors DynamoDB system errors","alarm_name":"tattoo-artist-directory-dev-dynamodb-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"TableName":"tattoo-artist-directory-dev-main"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"SystemErrors","metric_query":[],"namespace":"AWS/DynamoDB","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-dynamodb-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-dynamodb-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":0,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.dynamodb_throttles","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"dynamodb_throttles","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors DynamoDB throttled requests","alarm_name":"tattoo-artist-directory-dev-dynamodb-throttles","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"TableName":"tattoo-artist-directory-dev-main"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"ThrottledRequests","metric_query":[],"namespace":"AWS/DynamoDB","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-dynamodb-throttles","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-dynamodb-throttles","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":0,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_duration[\"api_handler\"]","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_duration","index":"api_handler","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function api_handler duration","alarm_name":"tattoo-artist-directory-dev-lambda-api_handler-duration","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-api-handler"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Duration","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Average","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-api_handler-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-api_handler-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":25000,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_duration[\"discover_studios\"]","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_duration","index":"discover_studios","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function discover_studios duration","alarm_name":"tattoo-artist-directory-dev-lambda-discover_studios-duration","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-discover-studios"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Duration","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Average","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-discover_studios-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-discover_studios-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":25000,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_duration[\"dynamodb_sync\"]","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_duration","index":"dynamodb_sync","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function dynamodb_sync duration","alarm_name":"tattoo-artist-directory-dev-lambda-dynamodb_sync-duration","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-dynamodb-sync"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Duration","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Average","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-dynamodb_sync-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-dynamodb_sync-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":25000,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_duration[\"find_artists\"]","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_duration","index":"find_artists","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function find_artists duration","alarm_name":"tattoo-artist-directory-dev-lambda-find_artists-duration","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-find-artists"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Duration","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Average","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-find_artists-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-find_artists-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":25000,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_duration[\"queue_scraping\"]","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_duration","index":"queue_scraping","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function queue_scraping duration","alarm_name":"tattoo-artist-directory-dev-lambda-queue_scraping-duration","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-queue-scraping"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Duration","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Average","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-queue_scraping-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-queue_scraping-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":25000,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_duration[\"rotate_nat_gateway_eip\"]","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_duration","index":"rotate_nat_gateway_eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function rotate_nat_gateway_eip duration","alarm_name":"tattoo-artist-directory-dev-lambda-rotate_nat_gateway_eip-duration","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-rotate-eip"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Duration","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Average","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-rotate_nat_gateway_eip-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-rotate_nat_gateway_eip-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":25000,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_errors[\"api_handler\"]","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_errors","index":"api_handler","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function api_handler errors","alarm_name":"tattoo-artist-directory-dev-lambda-api_handler-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-api-handler"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-api_handler-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-api_handler-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":5,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_errors[\"discover_studios\"]","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_errors","index":"discover_studios","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function discover_studios errors","alarm_name":"tattoo-artist-directory-dev-lambda-discover_studios-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-discover-studios"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-discover_studios-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-discover_studios-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":5,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_errors[\"dynamodb_sync\"]","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_errors","index":"dynamodb_sync","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function dynamodb_sync errors","alarm_name":"tattoo-artist-directory-dev-lambda-dynamodb_sync-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-dynamodb-sync"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-dynamodb_sync-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-dynamodb_sync-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":5,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_errors[\"find_artists\"]","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_errors","index":"find_artists","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function find_artists errors","alarm_name":"tattoo-artist-directory-dev-lambda-find_artists-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-find-artists"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-find_artists-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-find_artists-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":5,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_errors[\"queue_scraping\"]","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_errors","index":"queue_scraping","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function queue_scraping errors","alarm_name":"tattoo-artist-directory-dev-lambda-queue_scraping-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-queue-scraping"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-queue_scraping-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-queue_scraping-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":5,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_errors[\"rotate_nat_gateway_eip\"]","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_errors","index":"rotate_nat_gateway_eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function rotate_nat_gateway_eip errors","alarm_name":"tattoo-artist-directory-dev-lambda-rotate_nat_gateway_eip-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-rotate-eip"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-rotate_nat_gateway_eip-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-rotate_nat_gateway_eip-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":5,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.opensearch_cluster_status","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"opensearch_cluster_status","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors OpenSearch cluster status","alarm_name":"tattoo-artist-directory-dev-opensearch-cluster-status","comparison_operator":"LessThanThreshold","datapoints_to_alarm":null,"dimensions":{"ClientId":"773595699997","DomainName":"tattoo-artist-directo-search"},"evaluation_periods":1,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"ClusterStatus.green","metric_query":[],"namespace":"AWS/ES","ok_actions":null,"period":60,"statistic":"Maximum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-cluster-status","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-cluster-status","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":1,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.opensearch_cpu_utilization","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"opensearch_cpu_utilization","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors OpenSearch CPU utilization","alarm_name":"tattoo-artist-directory-dev-opensearch-cpu","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"ClientId":"773595699997","DomainName":"tattoo-artist-directo-search"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"CPUUtilization","metric_query":[],"namespace":"AWS/ES","ok_actions":null,"period":300,"statistic":"Average","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-cpu","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-cpu","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":80,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_cloudwatch_query_definition.api_errors","mode":"managed","type":"aws_cloudwatch_query_definition","name":"api_errors","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"log_group_names":["/aws/apigateway/tattoo-artist-directory-dev-api"],"name":"tattoo-artist-directory-dev-api-errors","query_string":"fields @timestamp, @message, status, errorMessage, errorType\r\n| filter status \u003e= 400\r\n| sort @timestamp desc\r\n| limit 100\r\n"},"sensitive_values":{"log_group_names":[false]}},{"address":"module.app_monitoring.aws_cloudwatch_query_definition.lambda_errors","mode":"managed","type":"aws_cloudwatch_query_definition","name":"lambda_errors","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"log_group_names":[],"name":"tattoo-artist-directory-dev-lambda-errors","query_string":"fields @timestamp, @message, @requestId\r\n| filter @message like /ERROR/\r\n| sort @timestamp desc\r\n| limit 100\r\n"},"sensitive_values":{"log_group_names":[]}},{"address":"module.app_monitoring.aws_cloudwatch_query_definition.performance_analysis","mode":"managed","type":"aws_cloudwatch_query_definition","name":"performance_analysis","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"log_group_names":["/aws/apigateway/tattoo-artist-directory-dev-api"],"name":"tattoo-artist-directory-dev-performance-analysis","query_string":"fields @timestamp, responseLength, requestTime, httpMethod, routeKey\r\n| filter responseLength \u003e 1000000 or requestTime \u003e 5000\r\n| sort @timestamp desc\r\n| limit 50\r\n"},"sensitive_values":{"log_group_names":[false]}},{"address":"module.app_monitoring.aws_sns_topic.critical_alerts","mode":"managed","type":"aws_sns_topic","name":"critical_alerts","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"tattoo-artist-directory-dev-critical-alerts","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-critical-alerts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-critical-alerts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_sns_topic.warning_alerts","mode":"managed","type":"aws_sns_topic","name":"warning_alerts","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"tattoo-artist-directory-dev-warning-alerts","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-warning-alerts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-warning-alerts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.app_monitoring.aws_sns_topic_subscription.critical_email[0]","mode":"managed","type":"aws_sns_topic_subscription","name":"critical_email","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint":"joseph.white1208@gmail.com","endpoint_auto_confirms":false,"filter_policy":null,"protocol":"email","raw_message_delivery":false,"redrive_policy":null,"replay_policy":null,"subscription_role_arn":null},"sensitive_values":{}},{"address":"module.app_monitoring.aws_sns_topic_subscription.warning_email[0]","mode":"managed","type":"aws_sns_topic_subscription","name":"warning_email","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint":"joseph.white1208@gmail.com","endpoint_auto_confirms":false,"filter_policy":null,"protocol":"email","raw_message_delivery":false,"redrive_policy":null,"replay_policy":null,"subscription_role_arn":null},"sensitive_values":{}}],"address":"module.app_monitoring"},{"resources":[{"address":"module.app_security.aws_secretsmanager_secret.app_secrets","mode":"managed","type":"aws_secretsmanager_secret","name":"app_secrets","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Application secrets for tattoo-artist-directory","force_overwrite_replica_secret":false,"name":"tattoo-artist-directory-dev-app-secrets","recovery_window_in_days":0,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-app-secrets","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-app-secrets","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"replica":[],"tags":{},"tags_all":{}}},{"address":"module.app_security.aws_secretsmanager_secret.opensearch_master","mode":"managed","type":"aws_secretsmanager_secret","name":"opensearch_master","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"OpenSearch master user credentials","force_overwrite_replica_secret":false,"name":"tattoo-artist-directory-dev-opensearch-master","recovery_window_in_days":0,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-master","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-master","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"replica":[],"tags":{},"tags_all":{}}},{"address":"module.app_security.aws_secretsmanager_secret_version.app_secrets","mode":"managed","type":"aws_secretsmanager_secret_version","name":"app_secrets","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"secret_binary":null,"secret_string_wo":null,"secret_string_wo_version":null},"sensitive_values":{"secret_binary":true,"secret_string":true,"secret_string_wo":true,"version_stages":[]}},{"address":"module.app_security.aws_secretsmanager_secret_version.opensearch_master","mode":"managed","type":"aws_secretsmanager_secret_version","name":"opensearch_master","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"secret_binary":null,"secret_string_wo":null,"secret_string_wo_version":null},"sensitive_values":{"secret_binary":true,"secret_string":true,"secret_string_wo":true,"version_stages":[]}},{"address":"module.app_security.aws_wafv2_web_acl.enhanced_frontend","mode":"managed","type":"aws_wafv2_web_acl","name":"enhanced_frontend","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"association_config":[],"captcha_config":[],"challenge_config":[],"custom_response_body":[],"data_protection_config":[],"default_action":[{"allow":[{"custom_request_handling":[]}],"block":[]}],"description":null,"name":"tattoo-artist-directory-dev-enhanced-frontend-waf","rule":[{"action":[{"allow":[],"block":[{"custom_response":[]}],"captcha":[],"challenge":[],"count":[]}],"captcha_config":[],"challenge_config":[],"name":"APIRateLimitRule","override_action":[],"priority":6,"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[],"not_statement":[],"or_statement":[],"rate_based_statement":[{"aggregate_key_type":"IP","custom_key":[],"evaluation_window_sec":300,"forwarded_ip_config":[],"limit":500,"scope_down_statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[{"field_to_match":[{"all_query_arguments":[],"body":[],"cookies":[],"header_order":[],"headers":[],"ja3_fingerprint":[],"ja4_fingerprint":[],"json_body":[],"method":[],"query_string":[],"single_header":[],"single_query_argument":[],"uri_fragment":[],"uri_path":[{}]}],"positional_constraint":"STARTS_WITH","search_string":"/v1/artists","text_transformation":[{"priority":0,"type":"NONE"}]}],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"not_statement":[],"or_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}]}],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"APIRateLimitRuleMetric","sampled_requests_enabled":true}]},{"action":[{"allow":[],"block":[{"custom_response":[]}],"captcha":[],"challenge":[],"count":[]}],"captcha_config":[],"challenge_config":[],"name":"GeneralRateLimitRule","override_action":[],"priority":7,"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[],"not_statement":[],"or_statement":[],"rate_based_statement":[{"aggregate_key_type":"IP","custom_key":[],"evaluation_window_sec":300,"forwarded_ip_config":[],"limit":2000,"scope_down_statement":[]}],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"GeneralRateLimit","sampled_requests_enabled":true}]},{"action":[],"captcha_config":[],"challenge_config":[],"name":"AWSManagedRulesAmazonIpReputationList","override_action":[{"count":[],"none":[{}]}],"priority":5,"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"name":"AWSManagedRulesAmazonIpReputationList","rule_action_override":[],"scope_down_statement":[],"vendor_name":"AWS","version":""}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"AmazonIpReputationListMetric","sampled_requests_enabled":true}]},{"action":[],"captcha_config":[],"challenge_config":[],"name":"AWSManagedRulesAnonymousIpListRuleSet","override_action":[{"count":[],"none":[{}]}],"priority":3,"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"name":"AWSManagedRulesAnonymousIpListRuleSet","rule_action_override":[],"scope_down_statement":[],"vendor_name":"AWS","version":""}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"AnonymousIpListRuleSetMetric","sampled_requests_enabled":true}]},{"action":[],"captcha_config":[],"challenge_config":[],"name":"AWSManagedRulesCommonRuleSet","override_action":[{"count":[],"none":[{}]}],"priority":1,"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"name":"AWSManagedRulesCommonRuleSet","rule_action_override":[],"scope_down_statement":[],"vendor_name":"AWS","version":""}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"CommonRuleSetMetric","sampled_requests_enabled":true}]},{"action":[],"captcha_config":[],"challenge_config":[],"name":"AWSManagedRulesKnownBadInputsRuleSet","override_action":[{"count":[],"none":[{}]}],"priority":2,"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"name":"AWSManagedRulesKnownBadInputsRuleSet","rule_action_override":[],"scope_down_statement":[],"vendor_name":"AWS","version":""}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"KnownBadInputsRuleSetMetric","sampled_requests_enabled":true}]},{"action":[],"captcha_config":[],"challenge_config":[],"name":"AWSManagedRulesUnixRuleSet","override_action":[{"count":[],"none":[{}]}],"priority":4,"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"name":"AWSManagedRulesUnixRuleSet","rule_action_override":[],"scope_down_statement":[],"vendor_name":"AWS","version":""}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"UnixRuleSetMetric","sampled_requests_enabled":true}]}],"rule_json":null,"scope":"CLOUDFRONT","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-enhanced-frontend-waf","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-enhanced-frontend-waf","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"token_domains":null,"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"tattoo-artist-directory-dev-EnhancedWAF","sampled_requests_enabled":true}]},"sensitive_values":{"association_config":[],"captcha_config":[],"challenge_config":[],"custom_response_body":[],"data_protection_config":[],"default_action":[{"allow":[{"custom_request_handling":[]}],"block":[]}],"rule":[{"action":[{"allow":[],"block":[{"custom_response":[]}],"captcha":[],"challenge":[],"count":[]}],"captcha_config":[],"challenge_config":[],"override_action":[],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[],"not_statement":[],"or_statement":[],"rate_based_statement":[{"custom_key":[],"forwarded_ip_config":[],"scope_down_statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[{"field_to_match":[{"all_query_arguments":[],"body":[],"cookies":[],"header_order":[],"headers":[],"ja3_fingerprint":[],"ja4_fingerprint":[],"json_body":[],"method":[],"query_string":[],"single_header":[],"single_query_argument":[],"uri_fragment":[],"uri_path":[{}]}],"text_transformation":[{}]}],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"not_statement":[],"or_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}]}],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]},{"action":[{"allow":[],"block":[{"custom_response":[]}],"captcha":[],"challenge":[],"count":[]}],"captcha_config":[],"challenge_config":[],"override_action":[],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[],"not_statement":[],"or_statement":[],"rate_based_statement":[{"custom_key":[],"forwarded_ip_config":[],"scope_down_statement":[]}],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]},{"action":[],"captcha_config":[],"challenge_config":[],"override_action":[{"count":[],"none":[{}]}],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"rule_action_override":[],"scope_down_statement":[]}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]},{"action":[],"captcha_config":[],"challenge_config":[],"override_action":[{"count":[],"none":[{}]}],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"rule_action_override":[],"scope_down_statement":[]}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]},{"action":[],"captcha_config":[],"challenge_config":[],"override_action":[{"count":[],"none":[{}]}],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"rule_action_override":[],"scope_down_statement":[]}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]},{"action":[],"captcha_config":[],"challenge_config":[],"override_action":[{"count":[],"none":[{}]}],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"rule_action_override":[],"scope_down_statement":[]}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]},{"action":[],"captcha_config":[],"challenge_config":[],"override_action":[{"count":[],"none":[{}]}],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"rule_action_override":[],"scope_down_statement":[]}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]}],"tags":{},"tags_all":{},"visibility_config":[{}]}},{"address":"module.app_security.aws_wafv2_web_acl_logging_configuration.enhanced_frontend","mode":"managed","type":"aws_wafv2_web_acl_logging_configuration","name":"enhanced_frontend","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"logging_filter":[],"redacted_fields":[{"method":[],"query_string":[],"single_header":[{"name":"authorization"}],"uri_path":[]},{"method":[],"query_string":[],"single_header":[{"name":"cookie"}],"uri_path":[]}]},"sensitive_values":{"log_destination_configs":[],"logging_filter":[],"redacted_fields":[{"method":[],"query_string":[],"single_header":[{}],"uri_path":[]},{"method":[],"query_string":[],"single_header":[{}],"uri_path":[]}]}}],"address":"module.app_security"},{"resources":[{"address":"module.app_storage.aws_dynamodb_table.denylist","mode":"managed","type":"aws_dynamodb_table","name":"denylist","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"attribute":[{"name":"id","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"id","import_table":[],"local_secondary_index":[],"name":"tattoo-artist-directory-dev-denylist","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false}],"range_key":null,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[{"enabled":true}],"stream_enabled":null,"table_class":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-denylist-table","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-denylist-table","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"sensitive_values":{"attribute":[{}],"global_secondary_index":[],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{}],"replica":[],"server_side_encryption":[{}],"tags":{},"tags_all":{},"ttl":[]}},{"address":"module.app_storage.aws_dynamodb_table.idempotency","mode":"managed","type":"aws_dynamodb_table","name":"idempotency","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"attribute":[{"name":"id","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"id","import_table":[],"local_secondary_index":[],"name":"tattoo-artist-directory-dev-idempotency","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":true}],"range_key":null,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[{"enabled":true}],"stream_enabled":null,"table_class":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-idempotency-table","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-idempotency-table","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"ttl":[{"attribute_name":"expiry","enabled":true}]},"sensitive_values":{"attribute":[{}],"global_secondary_index":[],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{}],"replica":[],"server_side_encryption":[{}],"tags":{},"tags_all":{},"ttl":[{}]}},{"address":"module.app_storage.aws_dynamodb_table.main","mode":"managed","type":"aws_dynamodb_table","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"attribute":[{"name":"GSI1PK","type":"S"},{"name":"GSI1SK","type":"S"},{"name":"PK","type":"S"},{"name":"SK","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[{"hash_key":"GSI1PK","name":"GSI1","non_key_attributes":[],"on_demand_throughput":[],"projection_type":"ALL","range_key":"GSI1SK"}],"hash_key":"PK","import_table":[],"local_secondary_index":[],"name":"tattoo-artist-directory-dev-main","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false}],"range_key":"SK","replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[{"enabled":true}],"stream_enabled":true,"stream_view_type":"NEW_AND_OLD_IMAGES","table_class":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-main-table","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-main-table","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"sensitive_values":{"attribute":[{},{},{},{}],"global_secondary_index":[{"non_key_attributes":[],"on_demand_throughput":[]}],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{}],"replica":[],"server_side_encryption":[{}],"tags":{},"tags_all":{},"ttl":[]}},{"address":"module.app_storage.aws_s3_bucket.main[\"frontend\"]","mode":"managed","type":"aws_s3_bucket","name":"main","index":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"force_destroy":true,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"Frontend static assets","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-frontend","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"Frontend static assets","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-frontend","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}},{"address":"module.app_storage.aws_s3_bucket.main[\"frontend_backup\"]","mode":"managed","type":"aws_s3_bucket","name":"main","index":"frontend_backup","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"force_destroy":true,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"Frontend backup static assets","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-frontend_backup","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"Frontend backup static assets","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-frontend_backup","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}},{"address":"module.app_storage.aws_s3_bucket.main[\"lambda_artifacts\"]","mode":"managed","type":"aws_s3_bucket","name":"main","index":"lambda_artifacts","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"force_destroy":true,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"Lambda deployment packages","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda_artifacts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"Lambda deployment packages","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda_artifacts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}},{"address":"module.app_storage.aws_s3_bucket_lifecycle_configuration.main[\"frontend\"]","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"main","index":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"rule":[{"abort_incomplete_multipart_upload":[{"days_after_initiation":7}],"expiration":[{"date":null,"days":90,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"delete_old_versions","noncurrent_version_expiration":[{"newer_noncurrent_versions":null,"noncurrent_days":30}],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"sensitive_values":{"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[]}]}},{"address":"module.app_storage.aws_s3_bucket_lifecycle_configuration.main[\"frontend_backup\"]","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"main","index":"frontend_backup","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"rule":[{"abort_incomplete_multipart_upload":[{"days_after_initiation":7}],"expiration":[{"date":null,"days":90,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"delete_old_versions","noncurrent_version_expiration":[{"newer_noncurrent_versions":null,"noncurrent_days":30}],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"sensitive_values":{"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[]}]}},{"address":"module.app_storage.aws_s3_bucket_lifecycle_configuration.main[\"lambda_artifacts\"]","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"main","index":"lambda_artifacts","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"rule":[{"abort_incomplete_multipart_upload":[{"days_after_initiation":7}],"expiration":[{"date":null,"days":90,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"cleanup_old_lambda_versions","noncurrent_version_expiration":[{"newer_noncurrent_versions":null,"noncurrent_days":30}],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"sensitive_values":{"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[]}]}},{"address":"module.app_storage.aws_s3_bucket_logging.main[\"frontend\"]","mode":"managed","type":"aws_s3_bucket_logging","name":"main","index":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"target_grant":[],"target_object_key_format":[],"target_prefix":"frontend-access-logs/"},"sensitive_values":{"target_grant":[],"target_object_key_format":[]}},{"address":"module.app_storage.aws_s3_bucket_logging.main[\"frontend_backup\"]","mode":"managed","type":"aws_s3_bucket_logging","name":"main","index":"frontend_backup","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"target_grant":[],"target_object_key_format":[],"target_prefix":"frontend-backup-access-logs/"},"sensitive_values":{"target_grant":[],"target_object_key_format":[]}},{"address":"module.app_storage.aws_s3_bucket_logging.main[\"lambda_artifacts\"]","mode":"managed","type":"aws_s3_bucket_logging","name":"main","index":"lambda_artifacts","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"target_grant":[],"target_object_key_format":[],"target_prefix":"lambda-artifacts-access-logs/"},"sensitive_values":{"target_grant":[],"target_object_key_format":[]}},{"address":"module.app_storage.aws_s3_bucket_notification.main[\"frontend\"]","mode":"managed","type":"aws_s3_bucket_notification","name":"main","index":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"eventbridge":false,"lambda_function":[],"queue":[],"topic":[{"events":["s3:ObjectCreated:*"],"filter_prefix":null,"filter_suffix":null,"id":"s3-frontend-object-created-notifications"}]},"sensitive_values":{"lambda_function":[],"queue":[],"topic":[{"events":[false]}]}},{"address":"module.app_storage.aws_s3_bucket_notification.main[\"frontend_backup\"]","mode":"managed","type":"aws_s3_bucket_notification","name":"main","index":"frontend_backup","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"eventbridge":false,"lambda_function":[],"queue":[],"topic":[{"events":["s3:ObjectCreated:*"],"filter_prefix":null,"filter_suffix":null,"id":"s3-frontend_backup-object-created-notifications"}]},"sensitive_values":{"lambda_function":[],"queue":[],"topic":[{"events":[false]}]}},{"address":"module.app_storage.aws_s3_bucket_notification.main[\"lambda_artifacts\"]","mode":"managed","type":"aws_s3_bucket_notification","name":"main","index":"lambda_artifacts","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"eventbridge":false,"lambda_function":[],"queue":[],"topic":[{"events":["s3:ObjectCreated:*"],"filter_prefix":null,"filter_suffix":null,"id":"s3-lambda_artifacts-object-created-notifications"}]},"sensitive_values":{"lambda_function":[],"queue":[],"topic":[{"events":[false]}]}},{"address":"module.app_storage.aws_s3_bucket_policy.frontend_policies[\"frontend\"]","mode":"managed","type":"aws_s3_bucket_policy","name":"frontend_policies","index":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"sensitive_values":{}},{"address":"module.app_storage.aws_s3_bucket_policy.frontend_policies[\"frontend_backup\"]","mode":"managed","type":"aws_s3_bucket_policy","name":"frontend_policies","index":"frontend_backup","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"sensitive_values":{}},{"address":"module.app_storage.aws_s3_bucket_public_access_block.main[\"frontend\"]","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"main","index":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_public_acls":true,"block_public_policy":true,"ignore_public_acls":true,"restrict_public_buckets":true},"sensitive_values":{}},{"address":"module.app_storage.aws_s3_bucket_public_access_block.main[\"frontend_backup\"]","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"main","index":"frontend_backup","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_public_acls":true,"block_public_policy":true,"ignore_public_acls":true,"restrict_public_buckets":true},"sensitive_values":{}},{"address":"module.app_storage.aws_s3_bucket_public_access_block.main[\"lambda_artifacts\"]","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"main","index":"lambda_artifacts","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_public_acls":true,"block_public_policy":true,"ignore_public_acls":true,"restrict_public_buckets":true},"sensitive_values":{}},{"address":"module.app_storage.aws_s3_bucket_server_side_encryption_configuration.main[\"frontend\"]","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"main","index":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"bucket_key_enabled":true}]},"sensitive_values":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}},{"address":"module.app_storage.aws_s3_bucket_server_side_encryption_configuration.main[\"frontend_backup\"]","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"main","index":"frontend_backup","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"bucket_key_enabled":true}]},"sensitive_values":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}},{"address":"module.app_storage.aws_s3_bucket_server_side_encryption_configuration.main[\"lambda_artifacts\"]","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"main","index":"lambda_artifacts","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"bucket_key_enabled":true}]},"sensitive_values":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}},{"address":"module.app_storage.aws_s3_bucket_versioning.main[\"frontend\"]","mode":"managed","type":"aws_s3_bucket_versioning","name":"main","index":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"sensitive_values":{"versioning_configuration":[{}]}},{"address":"module.app_storage.aws_s3_bucket_versioning.main[\"frontend_backup\"]","mode":"managed","type":"aws_s3_bucket_versioning","name":"main","index":"frontend_backup","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"sensitive_values":{"versioning_configuration":[{}]}},{"address":"module.app_storage.aws_s3_bucket_versioning.main[\"lambda_artifacts\"]","mode":"managed","type":"aws_s3_bucket_versioning","name":"main","index":"lambda_artifacts","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"sensitive_values":{"versioning_configuration":[{}]}},{"address":"module.app_storage.aws_sns_topic.s3_events","mode":"managed","type":"aws_sns_topic","name":"s3_events","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"tattoo-artist-directory-dev-s3-events","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-s3-events","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-s3-events","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.app_storage.aws_sns_topic_policy.s3_events","mode":"managed","type":"aws_sns_topic_policy","name":"s3_events","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"sensitive_values":{}},{"address":"module.app_storage.data.aws_iam_policy_document.frontend_bucket_policy[\"frontend\"]","mode":"data","type":"aws_iam_policy_document","name":"frontend_bucket_policy","index":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["s3:GetObject"],"condition":[{"test":"StringEquals","values":["arn:aws:cloudfront::773595699997:distribution/*"],"variable":"aws:SourceArn"}],"effect":null,"not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":["cloudfront.amazonaws.com"],"type":"Service"}],"resources":[null],"sid":"AllowCloudFrontServicePrincipal"},{"actions":["s3:*"],"condition":[{"test":"Bool","values":["false"],"variable":"aws:SecureTransport"}],"effect":"Deny","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":["*"],"type":"AWS"}],"resources":[null,null],"sid":"DenyInsecureTransport"}],"version":null},"sensitive_values":{"statement":[{"actions":[false],"condition":[{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[false]},{"actions":[false],"condition":[{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[false,false]}]}},{"address":"module.app_storage.data.aws_iam_policy_document.frontend_bucket_policy[\"frontend_backup\"]","mode":"data","type":"aws_iam_policy_document","name":"frontend_bucket_policy","index":"frontend_backup","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["s3:GetObject"],"condition":[{"test":"StringEquals","values":["arn:aws:cloudfront::773595699997:distribution/*"],"variable":"aws:SourceArn"}],"effect":null,"not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":["cloudfront.amazonaws.com"],"type":"Service"}],"resources":[null],"sid":"AllowCloudFrontServicePrincipal"},{"actions":["s3:*"],"condition":[{"test":"Bool","values":["false"],"variable":"aws:SecureTransport"}],"effect":"Deny","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":["*"],"type":"AWS"}],"resources":[null,null],"sid":"DenyInsecureTransport"}],"version":null},"sensitive_values":{"statement":[{"actions":[false],"condition":[{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[false]},{"actions":[false],"condition":[{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[false,false]}]}}],"address":"module.app_storage"},{"resources":[{"address":"module.audit_foundation.aws_kms_alias.audit","mode":"managed","type":"aws_kms_alias","name":"audit","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"alias/tattoo-artist-directory-dev-audit"},"sensitive_values":{}},{"address":"module.audit_foundation.aws_kms_alias.logs","mode":"managed","type":"aws_kms_alias","name":"logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"alias/tattoo-artist-directory-dev-logs"},"sensitive_values":{}},{"address":"module.audit_foundation.aws_kms_key.audit","mode":"managed","type":"aws_kms_key","name":"audit","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bypass_policy_lockout_safety_check":false,"custom_key_store_id":null,"customer_master_key_spec":"SYMMETRIC_DEFAULT","deletion_window_in_days":7,"description":"Audit KMS key for tattoo-artist-directory-dev - encrypts logs and backups","enable_key_rotation":true,"is_enabled":true,"key_usage":"ENCRYPT_DECRYPT","policy":"{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::098819594789:root\"},\"Resource\":\"*\",\"Sid\":\"Enable IAM User Permissions\"},{\"Action\":[\"kms:Encrypt\",\"kms:Decrypt\",\"kms:ReEncrypt*\",\"kms:GenerateDataKey*\",\"kms:DescribeKey\"],\"Condition\":{\"StringEquals\":{\"aws:SourceAccount\":[\"773595699997\",\"098819594789\"]}},\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"s3.amazonaws.com\",\"cloudtrail.amazonaws.com\",\"config.amazonaws.com\",\"backup.amazonaws.com\",\"vpc-flow-logs.amazonaws.com\"]},\"Resource\":\"*\",\"Sid\":\"Allow AWS Services from Infrastructure Account\"},{\"Action\":[\"kms:Encrypt\",\"kms:Decrypt\",\"kms:ReEncrypt*\",\"kms:GenerateDataKey*\",\"kms:DescribeKey\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::773595699997:root\"},\"Resource\":\"*\",\"Sid\":\"Allow Cross-Account Access from Infrastructure Account\"}],\"Version\":\"2012-10-17\"}","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-audit-key","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-audit-key","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"},"timeouts":null,"xks_key_id":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.audit_foundation.aws_kms_key.logs","mode":"managed","type":"aws_kms_key","name":"logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bypass_policy_lockout_safety_check":false,"custom_key_store_id":null,"customer_master_key_spec":"SYMMETRIC_DEFAULT","deletion_window_in_days":7,"description":"KMS key for CloudWatch logs encryption in the Audit account","enable_key_rotation":true,"is_enabled":true,"key_usage":"ENCRYPT_DECRYPT","policy":"{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::098819594789:root\"},\"Resource\":\"*\",\"Sid\":\"Enable IAM User Permissions\"},{\"Action\":[\"kms:Encrypt\",\"kms:Decrypt\",\"kms:ReEncrypt*\",\"kms:GenerateDataKey*\",\"kms:DescribeKey\"],\"Condition\":{\"ArnEquals\":{\"kms:EncryptionContext:aws:logs:arn\":\"arn:aws:logs:eu-west-2:098819594789:*\"}},\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"logs.eu-west-2.amazonaws.com\"},\"Resource\":\"*\",\"Sid\":\"Allow CloudWatch Logs within Audit Account\"},{\"Action\":[\"kms:Encrypt\",\"kms:Decrypt\",\"kms:ReEncrypt*\",\"kms:GenerateDataKey*\",\"kms:DescribeKey\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::773595699997:root\"},\"Resource\":\"*\",\"Sid\":\"Allow Cross-Account Use from Infrastructure Account\"}],\"Version\":\"2012-10-17\"}","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-logs-key","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-logs-key","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"},"timeouts":null,"xks_key_id":null},"sensitive_values":{"tags":{},"tags_all":{}}}],"address":"module.audit_foundation"},{"resources":[{"address":"module.audit_governance.aws_cloudwatch_dashboard.compliance","mode":"managed","type":"aws_cloudwatch_dashboard","name":"compliance","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dashboard_body":"{\"widgets\":[{\"height\":6,\"properties\":{\"metrics\":[[\"AWS/Config\",\"ComplianceByConfigRule\",\"ConfigRuleName\",\"tattoo-artist-directory-dev-s3-bucket-public-access-prohibited\"],[\".\",\".\",\".\",\"tattoo-artist-directory-dev-dynamodb-table-encryption-enabled\"],[\".\",\".\",\".\",\"tattoo-artist-directory-dev-lambda-function-public-access-prohibited\"],[\".\",\".\",\".\",\"tattoo-artist-directory-dev-cloudfront-viewer-policy-https\"]],\"period\":300,\"region\":\"eu-west-2\",\"stacked\":false,\"title\":\"Config Rule Compliance Status\",\"view\":\"timeSeries\"},\"type\":\"metric\",\"width\":12,\"x\":0,\"y\":0}]}","dashboard_name":"tattoo-artist-directory-dev-compliance-dashboard"},"sensitive_values":{}},{"address":"module.audit_governance.aws_config_configuration_aggregator.organization[0]","mode":"managed","type":"aws_config_configuration_aggregator","name":"organization","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_aggregation_source":[],"name":"tattoo-artist-directory-dev-config-aggregator","organization_aggregation_source":[{"all_regions":true,"regions":null}],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-aggregator","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-aggregator","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"sensitive_values":{"account_aggregation_source":[],"organization_aggregation_source":[{}],"tags":{},"tags_all":{}}},{"address":"module.audit_governance.aws_iam_role.config_aggregator[0]","mode":"managed","type":"aws_iam_role","name":"config_aggregator","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"config.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-config-aggregator-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-aggregator-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-aggregator-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.audit_governance.aws_iam_role_policy.config_aggregator[0]","mode":"managed","type":"aws_iam_role_policy","name":"config_aggregator","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"tattoo-artist-directory-dev-config-aggregator-policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"organizations:EnableAWSServiceAccess\",\"organizations:ListAccounts\",\"organizations:ListAWSServiceAccessForOrganization\",\"organizations:ListDelegatedAdministrators\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"config:PutAggregator\",\"config:GetComplianceDetailsByConfigRule\",\"config:GetComplianceDetailsByResource\",\"config:GetComplianceSummaryByConfigRule\",\"config:GetComplianceSummaryByResourceType\",\"config:GetConfigurationAggregator\",\"config:GetDiscoveredResourceCounts\",\"config:GetResourceConfigHistory\",\"config:ListDiscoveredResources\",\"config:ValidateConfigurationRecorder\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"},"sensitive_values":{}}],"address":"module.audit_governance"},{"resources":[{"address":"module.central_logging.aws_cloudwatch_log_group.api_gateway","mode":"managed","type":"aws_cloudwatch_log_group","name":"api_gateway","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"/aws/apigateway/tattoo-artist-directory-dev-api","retention_in_days":14,"skip_destroy":false,"tags":{"Account":"Security","Compliance":"Required","CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","LogType":"APIGateway","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-gateway-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"Account":"Security","Compliance":"Required","CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","LogType":"APIGateway","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-gateway-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.central_logging.aws_cloudwatch_log_group.firehose_waf_errors","mode":"managed","type":"aws_cloudwatch_log_group","name":"firehose_waf_errors","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"/aws/kinesisfirehose/tattoo-artist-directory-dev-waf-delivery-errors","retention_in_days":30,"skip_destroy":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-firehose-waf-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-firehose-waf-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.central_logging.aws_cloudwatch_log_group.incident_response","mode":"managed","type":"aws_cloudwatch_log_group","name":"incident_response","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"/aws/lambda/incident-response-tattoo-artist-directory-dev","retention_in_days":90,"skip_destroy":false,"tags":{"Account":"Security","Compliance":"Required","CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","LogType":"IncidentResponse","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-incident-response-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"Account":"Security","Compliance":"Required","CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","LogType":"IncidentResponse","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-incident-response-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.central_logging.aws_cloudwatch_log_group.security_tools","mode":"managed","type":"aws_cloudwatch_log_group","name":"security_tools","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"/aws/security/tattoo-artist-directory-dev","retention_in_days":90,"skip_destroy":false,"tags":{"Account":"Security","Compliance":"Required","CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","LogType":"SecurityTools","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-security-tools-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"Account":"Security","Compliance":"Required","CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","LogType":"SecurityTools","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-security-tools-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.central_logging.aws_iam_policy.firehose_waf","mode":"managed","type":"aws_iam_policy","name":"firehose_waf","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"tattoo-artist-directory-dev-firehose-waf-policy","path":"/","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"sensitive_values":{"tags_all":{}}},{"address":"module.central_logging.aws_iam_role.firehose_waf","mode":"managed","type":"aws_iam_role","name":"firehose_waf","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"firehose.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-firehose-waf-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-firehose-waf-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-firehose-waf-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.central_logging.aws_iam_role_policy_attachment.firehose_waf","mode":"managed","type":"aws_iam_role_policy_attachment","name":"firehose_waf","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"tattoo-artist-directory-dev-firehose-waf-role"},"sensitive_values":{}},{"address":"module.central_logging.aws_kinesis_firehose_delivery_stream.waf_logs","mode":"managed","type":"aws_kinesis_firehose_delivery_stream","name":"waf_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"destination":"extended_s3","elasticsearch_configuration":[],"extended_s3_configuration":[{"buffering_interval":300,"buffering_size":5,"cloudwatch_logging_options":[{"enabled":true,"log_group_name":"/aws/kinesisfirehose/tattoo-artist-directory-dev-waf-delivery-errors","log_stream_name":"S3Delivery"}],"compression_format":"GZIP","custom_time_zone":"UTC","data_format_conversion_configuration":[],"dynamic_partitioning_configuration":[],"error_output_prefix":"waf-logs-errors/!{firehose:error-output-type}/year=!{timestamp:yyyy}/month=!{timestamp:MM}/day=!{timestamp:dd}/hour=!{timestamp:HH}/","file_extension":null,"prefix":"waf-logs/year=!{timestamp:yyyy}/month=!{timestamp:MM}/day=!{timestamp:dd}/hour=!{timestamp:HH}/","processing_configuration":[],"s3_backup_configuration":[],"s3_backup_mode":"Disabled"}],"http_endpoint_configuration":[],"iceberg_configuration":[],"kinesis_source_configuration":[],"msk_source_configuration":[],"name":"aws-waf-logs-tattoo-artist-directory-dev","opensearch_configuration":[],"opensearchserverless_configuration":[],"redshift_configuration":[],"server_side_encryption":[{"enabled":true,"key_type":"CUSTOMER_MANAGED_CMK"}],"snowflake_configuration":[],"splunk_configuration":[],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"aws-waf-logs-tattoo-artist-directory-dev","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"aws-waf-logs-tattoo-artist-directory-dev","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"},"timeouts":null},"sensitive_values":{"elasticsearch_configuration":[],"extended_s3_configuration":[{"cloudwatch_logging_options":[{}],"data_format_conversion_configuration":[],"dynamic_partitioning_configuration":[],"processing_configuration":[],"s3_backup_configuration":[]}],"http_endpoint_configuration":[],"iceberg_configuration":[],"kinesis_source_configuration":[],"msk_source_configuration":[],"opensearch_configuration":[],"opensearchserverless_configuration":[],"redshift_configuration":[],"server_side_encryption":[{}],"snowflake_configuration":[],"splunk_configuration":[],"tags":{},"tags_all":{}}}],"address":"module.central_logging"},{"resources":[{"address":"module.central_security.aws_accessanalyzer_analyzer.main","mode":"managed","type":"aws_accessanalyzer_analyzer","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"analyzer_name":"tattoo-artist-directory-dev-access-analyzer","configuration":[],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-access-analyzer","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-access-analyzer","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"},"type":"ORGANIZATION"},"sensitive_values":{"configuration":[],"tags":{},"tags_all":{}}},{"address":"module.central_security.aws_guardduty_detector.main","mode":"managed","type":"aws_guardduty_detector","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"enable":true,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-guardduty-detector","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-guardduty-detector","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"sensitive_values":{"datasources":[],"tags":{},"tags_all":{}}},{"address":"module.central_security.aws_guardduty_organization_configuration.main","mode":"managed","type":"aws_guardduty_organization_configuration","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"auto_enable":true,"auto_enable_organization_members":"ALL","datasources":[{"kubernetes":[{"audit_logs":[{"enable":false}]}],"malware_protection":[{"scan_ec2_instance_with_findings":[{"ebs_volumes":[{"auto_enable":false}]}]}],"s3_logs":[{"auto_enable":true}]}]},"sensitive_values":{"datasources":[{"kubernetes":[{"audit_logs":[{}]}],"malware_protection":[{"scan_ec2_instance_with_findings":[{"ebs_volumes":[{}]}]}],"s3_logs":[{}]}]}},{"address":"module.central_security.aws_iam_policy.log_reader","mode":"managed","type":"aws_iam_policy","name":"log_reader","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"tattoo-artist-directory-dev-LogArchiveReadAccessPolicy","path":"/","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"sensitive_values":{"tags_all":{}}},{"address":"module.central_security.aws_iam_role.log_auditor","mode":"managed","type":"aws_iam_role","name":"log_auditor","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-LogAuditorRole","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-LogAuditorRole","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","iam.amazonaws.com/role-purpose":"log-auditing"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-LogAuditorRole","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources","iam.amazonaws.com/role-purpose":"log-auditing"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.central_security.aws_iam_role_policy_attachment.log_auditor_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"log_auditor_attachment","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"tattoo-artist-directory-dev-LogAuditorRole"},"sensitive_values":{}},{"address":"module.central_security.aws_securityhub_account.main","mode":"managed","type":"aws_securityhub_account","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"auto_enable_controls":true,"control_finding_generator":"SECURITY_CONTROL","enable_default_standards":false},"sensitive_values":{}},{"address":"module.central_security.aws_securityhub_organization_configuration.main","mode":"managed","type":"aws_securityhub_organization_configuration","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"auto_enable":true,"timeouts":null},"sensitive_values":{"organization_configuration":[]}},{"address":"module.central_security.aws_securityhub_standards_subscription.cis","mode":"managed","type":"aws_securityhub_standards_subscription","name":"cis","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"standards_arn":"arn:aws:securityhub:us-east-1::standards/cis-aws-foundations-benchmark/v/1.2.0","timeouts":null},"sensitive_values":{}},{"address":"module.central_security.aws_securityhub_standards_subscription.foundational_security","mode":"managed","type":"aws_securityhub_standards_subscription","name":"foundational_security","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"standards_arn":"arn:aws:securityhub:::ruleset/aws-foundational-security-best-practices/v/1.0.0","timeouts":null},"sensitive_values":{}}],"address":"module.central_security"},{"resources":[{"address":"module.compute.aws_cloudwatch_log_group.ecs_cluster","mode":"managed","type":"aws_cloudwatch_log_group","name":"ecs_cluster","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"/aws/ecs/cluster/tattoo-artist-directory-dev","retention_in_days":14,"skip_destroy":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-cluster-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-cluster-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.compute.aws_cloudwatch_log_group.scraper","mode":"managed","type":"aws_cloudwatch_log_group","name":"scraper","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"/aws/ecs/tattoo-artist-directory-dev-scraper","retention_in_days":14,"skip_destroy":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-scraper-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-scraper-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.compute.aws_cloudwatch_log_group.step_functions","mode":"managed","type":"aws_cloudwatch_log_group","name":"step_functions","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"/aws/stepfunctions/tattoo-artist-directory-dev-data-aggregation","retention_in_days":14,"skip_destroy":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-step-functions-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-step-functions-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.compute.aws_ecs_cluster.main","mode":"managed","type":"aws_ecs_cluster","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"configuration":[{"execute_command_configuration":[{"log_configuration":[{"cloud_watch_encryption_enabled":true,"cloud_watch_log_group_name":"/aws/ecs/cluster/tattoo-artist-directory-dev","s3_bucket_encryption_enabled":null,"s3_bucket_name":null,"s3_key_prefix":null}],"logging":"OVERRIDE"}],"managed_storage_configuration":[]}],"name":"tattoo-artist-directory-dev-cluster","service_connect_defaults":[],"setting":[{"name":"containerInsights","value":"enabled"}],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-cluster","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-cluster","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"configuration":[{"execute_command_configuration":[{"log_configuration":[{}]}],"managed_storage_configuration":[]}],"service_connect_defaults":[],"setting":[{}],"tags":{},"tags_all":{}}},{"address":"module.compute.aws_ecs_task_definition.scraper","mode":"managed","type":"aws_ecs_task_definition","name":"scraper","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"cpu":"256","ephemeral_storage":[],"family":"tattoo-artist-directory-dev-scraper","inference_accelerator":[],"ipc_mode":null,"memory":"512","network_mode":"awsvpc","pid_mode":null,"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"runtime_platform":[],"skip_destroy":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-scraper-task","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-scraper-task","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"track_latest":false,"volume":[]},"sensitive_values":{"ephemeral_storage":[],"inference_accelerator":[],"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":[false],"runtime_platform":[],"tags":{},"tags_all":{},"volume":[]}},{"address":"module.compute.aws_iam_policy.api_handler_dynamodb","mode":"managed","type":"aws_iam_policy","name":"api_handler_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"tattoo-artist-directory-dev-api-handler-dynamodb-policy","path":"/","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags_all":{}}},{"address":"module.compute.aws_iam_policy.discover_studios_dynamodb","mode":"managed","type":"aws_iam_policy","name":"discover_studios_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"tattoo-artist-directory-dev-discover-studios-dynamodb-policy","path":"/","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags_all":{}}},{"address":"module.compute.aws_iam_policy.dynamodb_sync_stream","mode":"managed","type":"aws_iam_policy","name":"dynamodb_sync_stream","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"tattoo-artist-directory-dev-dynamodb-sync-stream-policy","path":"/","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags_all":{}}},{"address":"module.compute.aws_iam_policy.ecs_task_dynamodb","mode":"managed","type":"aws_iam_policy","name":"ecs_task_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"tattoo-artist-directory-dev-ecs-task-dynamodb-policy","path":"/","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags_all":{}}},{"address":"module.compute.aws_iam_policy.find_artists_dynamodb","mode":"managed","type":"aws_iam_policy","name":"find_artists_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"name":"tattoo-artist-directory-dev-find-artists-dynamodb-policy","path":"/","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags_all":{}}},{"address":"module.compute.aws_iam_policy.step_functions","mode":"managed","type":"aws_iam_policy","name":"step_functions","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Policy for Step Functions state machine","name":"tattoo-artist-directory-dev-step-functions-policy","path":"/","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags_all":{}}},{"address":"module.compute.aws_iam_role_policy_attachment.api_handler_dynamodb","mode":"managed","type":"aws_iam_role_policy_attachment","name":"api_handler_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"tattoo-artist-directory-dev-lambda-api-role"},"sensitive_values":{}},{"address":"module.compute.aws_iam_role_policy_attachment.discover_studios_dynamodb","mode":"managed","type":"aws_iam_role_policy_attachment","name":"discover_studios_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"tattoo-artist-directory-dev-lambda-discover-studios-role"},"sensitive_values":{}},{"address":"module.compute.aws_iam_role_policy_attachment.dynamodb_sync_stream","mode":"managed","type":"aws_iam_role_policy_attachment","name":"dynamodb_sync_stream","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"tattoo-artist-directory-dev-lambda-sync-role"},"sensitive_values":{}},{"address":"module.compute.aws_iam_role_policy_attachment.ecs_task_dynamodb","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ecs_task_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"tattoo-artist-directory-dev-ecs-task-role"},"sensitive_values":{}},{"address":"module.compute.aws_iam_role_policy_attachment.find_artists_dynamodb","mode":"managed","type":"aws_iam_role_policy_attachment","name":"find_artists_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"tattoo-artist-directory-dev-lambda-find-artists-role"},"sensitive_values":{}},{"address":"module.compute.aws_iam_role_policy_attachment.step_functions_custom","mode":"managed","type":"aws_iam_role_policy_attachment","name":"step_functions_custom","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"tattoo-artist-directory-dev-step-functions-role"},"sensitive_values":{}},{"address":"module.compute.aws_lambda_function.api_handler","mode":"managed","type":"aws_lambda_function","name":"api_handler","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["arm64"],"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[{}],"file_system_config":[],"filename":null,"function_name":"tattoo-artist-directory-dev-api-handler","handler":"index.handler","image_config":[],"image_uri":null,"layers":null,"memory_size":256,"package_type":"Zip","publish":false,"replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":10,"runtime":"nodejs20.x","s3_key":"lambda-artifacts/api-handler.zip","skip_destroy":false,"snap_start":[],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-handler","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-handler","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeout":30,"timeouts":null,"tracing_config":[{"mode":"Active"}],"vpc_config":[{"ipv6_allowed_for_dual_stack":false}]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"logging_config":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[],"subnet_ids":[]}]}},{"address":"module.compute.aws_lambda_function.discover_studios","mode":"managed","type":"aws_lambda_function","name":"discover_studios","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["arm64"],"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[{"variables":{"AWS_NODEJS_CONNECTION_REUSE_ENABLED":"1","ENVIRONMENT":"dev","PROJECT_NAME":"tattoo-artist-directory"}}],"file_system_config":[],"filename":null,"function_name":"tattoo-artist-directory-dev-discover-studios","handler":"index.handler","image_config":[],"image_uri":null,"layers":null,"memory_size":256,"package_type":"Zip","publish":false,"replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":5,"runtime":"nodejs20.x","s3_key":"lambda-artifacts/discover-studios.zip","skip_destroy":false,"snap_start":[],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-discover-studios","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-discover-studios","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeout":300,"timeouts":null,"tracing_config":[{"mode":"Active"}],"vpc_config":[{"ipv6_allowed_for_dual_stack":false}]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"logging_config":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[],"subnet_ids":[]}]}},{"address":"module.compute.aws_lambda_function.dynamodb_sync","mode":"managed","type":"aws_lambda_function","name":"dynamodb_sync","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["arm64"],"code_signing_config_arn":null,"dead_letter_config":[{}],"description":null,"environment":[{}],"file_system_config":[],"filename":null,"function_name":"tattoo-artist-directory-dev-dynamodb-sync","handler":"index.handler","image_config":[],"image_uri":null,"layers":null,"memory_size":256,"package_type":"Zip","publish":false,"replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":5,"runtime":"nodejs20.x","s3_key":"lambda-artifacts/dynamodb-sync.zip","skip_destroy":false,"snap_start":[],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-dynamodb-sync","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-dynamodb-sync","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeout":300,"timeouts":null,"tracing_config":[{"mode":"Active"}],"vpc_config":[{"ipv6_allowed_for_dual_stack":false}]},"sensitive_values":{"architectures":[false],"dead_letter_config":[{}],"environment":[{"variables":{}}],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"logging_config":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[],"subnet_ids":[]}]}},{"address":"module.compute.aws_lambda_function.find_artists","mode":"managed","type":"aws_lambda_function","name":"find_artists","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["arm64"],"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[{"variables":{"AWS_NODEJS_CONNECTION_REUSE_ENABLED":"1","ENVIRONMENT":"dev","PROJECT_NAME":"tattoo-artist-directory"}}],"file_system_config":[],"filename":null,"function_name":"tattoo-artist-directory-dev-find-artists","handler":"index.handler","image_config":[],"image_uri":null,"layers":null,"memory_size":256,"package_type":"Zip","publish":false,"replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":5,"runtime":"nodejs20.x","s3_key":"lambda-artifacts/find-artists.zip","skip_destroy":false,"snap_start":[],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-find-artists","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-find-artists","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeout":300,"timeouts":null,"tracing_config":[{"mode":"Active"}],"vpc_config":[{"ipv6_allowed_for_dual_stack":false}]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"logging_config":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[],"subnet_ids":[]}]}},{"address":"module.compute.aws_lambda_function.queue_scraping","mode":"managed","type":"aws_lambda_function","name":"queue_scraping","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["arm64"],"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[{}],"file_system_config":[],"filename":null,"function_name":"tattoo-artist-directory-dev-queue-scraping","handler":"index.handler","image_config":[],"image_uri":null,"layers":null,"memory_size":256,"package_type":"Zip","publish":false,"replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":5,"runtime":"nodejs20.x","s3_key":"lambda-artifacts/queue-scraping.zip","skip_destroy":false,"snap_start":[],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-queue-scraping","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-queue-scraping","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeout":300,"timeouts":null,"tracing_config":[{"mode":"Active"}],"vpc_config":[{"ipv6_allowed_for_dual_stack":false}]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"logging_config":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[],"subnet_ids":[]}]}},{"address":"module.compute.aws_lambda_function.rotate_nat_gateway_eip","mode":"managed","type":"aws_lambda_function","name":"rotate_nat_gateway_eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["arm64"],"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[{"variables":{"NAT_GATEWAY_TAG_VALUE":"tattoo-artist-directory-dev-nat-","SNS_TOPIC_ARN":"arn:aws:sns:eu-west-2:773595699997:tattoo-artist-directory-dev-critical-alerts"}}],"file_system_config":[],"filename":null,"function_name":"tattoo-artist-directory-dev-rotate-eip","handler":"rotate-nat-gateway-eip.lambda_handler","image_config":[],"image_uri":null,"layers":null,"memory_size":256,"package_type":"Zip","publish":false,"replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":2,"runtime":"python3.12","s3_key":"lambda-artifacts/rotate-nat-gateway-eip.zip","skip_destroy":false,"snap_start":[],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-rotate-eip","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Purpose":"Operational Runbook","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-rotate-eip","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Purpose":"Operational Runbook","Version":"dev-build"},"timeout":60,"timeouts":null,"tracing_config":[{"mode":"Active"}],"vpc_config":[{"ipv6_allowed_for_dual_stack":false}]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"logging_config":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[],"subnet_ids":[]}]}},{"address":"module.compute.aws_lambda_function_url.rotate_eip","mode":"managed","type":"aws_lambda_function_url","name":"rotate_eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"authorization_type":"AWS_IAM","cors":[],"function_name":"tattoo-artist-directory-dev-rotate-eip","invoke_mode":"BUFFERED","qualifier":null,"timeouts":null},"sensitive_values":{"cors":[]}},{"address":"module.compute.aws_sfn_state_machine.data_aggregation","mode":"managed","type":"aws_sfn_state_machine","name":"data_aggregation","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"logging_configuration":[{"include_execution_data":true,"level":"ERROR"}],"name":"tattoo-artist-directory-dev-data-aggregation","publish":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-data-aggregation-sm","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-data-aggregation-sm","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"tracing_configuration":[{"enabled":true}],"type":"STANDARD"},"sensitive_values":{"encryption_configuration":[],"logging_configuration":[{}],"tags":{},"tags_all":{},"tracing_configuration":[{}]}},{"address":"module.compute.aws_sqs_queue.lambda_sync_dlq","mode":"managed","type":"aws_sqs_queue","name":"lambda_sync_dlq","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"content_based_deduplication":false,"delay_seconds":0,"fifo_queue":false,"max_message_size":262144,"message_retention_seconds":1209600,"name":"tattoo-artist-directory-dev-lambda-sync-dlq","receive_wait_time_seconds":0,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-sync-dlq","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-sync-dlq","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"visibility_timeout_seconds":30},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.compute.aws_sqs_queue.scraping_dlq","mode":"managed","type":"aws_sqs_queue","name":"scraping_dlq","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"content_based_deduplication":false,"delay_seconds":0,"fifo_queue":false,"max_message_size":262144,"message_retention_seconds":1209600,"name":"tattoo-artist-directory-dev-scraping-dlq","receive_wait_time_seconds":0,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-scraping-dlq","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-scraping-dlq","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"visibility_timeout_seconds":30},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.compute.aws_sqs_queue.scraping_queue","mode":"managed","type":"aws_sqs_queue","name":"scraping_queue","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"content_based_deduplication":false,"delay_seconds":0,"fifo_queue":false,"max_message_size":262144,"message_retention_seconds":1209600,"name":"tattoo-artist-directory-dev-scraping-queue","receive_wait_time_seconds":0,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-scraping-queue","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-scraping-queue","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"visibility_timeout_seconds":300},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.compute.aws_sqs_queue_policy.scraping_queue","mode":"managed","type":"aws_sqs_queue_policy","name":"scraping_queue","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"sensitive_values":{}},{"address":"module.compute.data.aws_s3_object.lambda_artifacts[\"api_handler\"]","mode":"data","type":"aws_s3_object","name":"lambda_artifacts","index":"api_handler","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"checksum_mode":null,"key":"lambda-artifacts/api-handler.zip","range":null},"sensitive_values":{"metadata":{},"tags":{}}},{"address":"module.compute.data.aws_s3_object.lambda_artifacts[\"discover_studios\"]","mode":"data","type":"aws_s3_object","name":"lambda_artifacts","index":"discover_studios","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"checksum_mode":null,"key":"lambda-artifacts/discover-studios.zip","range":null},"sensitive_values":{"metadata":{},"tags":{}}},{"address":"module.compute.data.aws_s3_object.lambda_artifacts[\"dynamodb_sync\"]","mode":"data","type":"aws_s3_object","name":"lambda_artifacts","index":"dynamodb_sync","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"checksum_mode":null,"key":"lambda-artifacts/dynamodb-sync.zip","range":null},"sensitive_values":{"metadata":{},"tags":{}}},{"address":"module.compute.data.aws_s3_object.lambda_artifacts[\"find_artists\"]","mode":"data","type":"aws_s3_object","name":"lambda_artifacts","index":"find_artists","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"checksum_mode":null,"key":"lambda-artifacts/find-artists.zip","range":null},"sensitive_values":{"metadata":{},"tags":{}}},{"address":"module.compute.data.aws_s3_object.lambda_artifacts[\"queue_scraping\"]","mode":"data","type":"aws_s3_object","name":"lambda_artifacts","index":"queue_scraping","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"checksum_mode":null,"key":"lambda-artifacts/queue-scraping.zip","range":null},"sensitive_values":{"metadata":{},"tags":{}}},{"address":"module.compute.data.aws_s3_object.lambda_artifacts[\"rotate_nat_gateway_eip\"]","mode":"data","type":"aws_s3_object","name":"lambda_artifacts","index":"rotate_nat_gateway_eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"checksum_mode":null,"key":"lambda-artifacts/rotate-nat-gateway-eip.zip","range":null},"sensitive_values":{"metadata":{},"tags":{}}}],"address":"module.compute"},{"resources":[{"address":"module.delivery.aws_cloudfront_distribution.frontend","mode":"managed","type":"aws_cloudfront_distribution","name":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"aliases":null,"comment":null,"custom_error_response":[{"error_caching_min_ttl":null,"error_code":403,"response_code":200,"response_page_path":"/index.html"},{"error_caching_min_ttl":null,"error_code":404,"response_code":200,"response_page_path":"/index.html"}],"default_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"658327ea-f89d-4fab-a63d-7e88639e58f6","cached_methods":["GET","HEAD"],"compress":true,"field_level_encryption_id":null,"forwarded_values":[],"function_association":[],"lambda_function_association":[],"min_ttl":0,"origin_request_policy_id":"88a5eaf4-2fd4-4709-b370-b4c650ea3fcf","realtime_log_config_arn":null,"smooth_streaming":null,"target_origin_id":"S3-origin-group","viewer_protocol_policy":"redirect-to-https"}],"default_root_object":"index.html","enabled":true,"http_version":"http2","is_ipv6_enabled":true,"logging_config":[{"include_cookies":false,"prefix":"cloudfront-access-logs/"}],"ordered_cache_behavior":[{"allowed_methods":["DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT"],"cache_policy_id":"4135ea2d-6df8-44a3-9df3-4b5a84be39ad","cached_methods":["GET","HEAD","OPTIONS"],"compress":false,"field_level_encryption_id":null,"forwarded_values":[],"function_association":[],"lambda_function_association":[],"min_ttl":0,"origin_request_policy_id":"216adef6-5c7f-47e4-b989-5492eafa07d3","path_pattern":"/v1/*","realtime_log_config_arn":null,"smooth_streaming":null,"trusted_key_groups":null,"trusted_signers":null,"viewer_protocol_policy":"redirect-to-https"}],"origin":[{"connection_attempts":3,"connection_timeout":10,"custom_header":[],"custom_origin_config":[{"http_port":80,"https_port":443,"origin_keepalive_timeout":5,"origin_protocol_policy":"https-only","origin_read_timeout":30,"origin_ssl_protocols":["TLSv1.2"]}],"origin_access_control_id":"","origin_path":"/dev","origin_shield":[],"s3_origin_config":[],"vpc_origin_config":[]},{"connection_attempts":3,"connection_timeout":10,"custom_header":[],"custom_origin_config":[],"origin_path":"","origin_shield":[],"s3_origin_config":[],"vpc_origin_config":[]},{"connection_attempts":3,"connection_timeout":10,"custom_header":[],"custom_origin_config":[],"origin_path":"","origin_shield":[],"s3_origin_config":[],"vpc_origin_config":[]}],"origin_group":[{"failover_criteria":[{"status_codes":[403,404,500,502,503,504]}],"member":[{},{}],"origin_id":"S3-origin-group"}],"price_class":"PriceClass_100","restrictions":[{"geo_restriction":[{"locations":["GB"],"restriction_type":"whitelist"}]}],"retain_on_delete":false,"staging":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-frontend-distribution","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-frontend-distribution","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"viewer_certificate":[{"acm_certificate_arn":null,"cloudfront_default_certificate":true,"iam_certificate_id":null,"minimum_protocol_version":"TLSv1","ssl_support_method":null}],"wait_for_deployment":true},"sensitive_values":{"custom_error_response":[{},{}],"default_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[],"function_association":[],"grpc_config":[],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]}],"logging_config":[{}],"ordered_cache_behavior":[{"allowed_methods":[false,false,false,false,false,false,false],"cached_methods":[false,false,false],"forwarded_values":[],"function_association":[],"grpc_config":[],"lambda_function_association":[]}],"origin":[{"custom_header":[],"custom_origin_config":[{"origin_ssl_protocols":[false]}],"origin_shield":[],"s3_origin_config":[],"vpc_origin_config":[]},{"custom_header":[],"custom_origin_config":[],"origin_shield":[],"s3_origin_config":[],"vpc_origin_config":[]},{"custom_header":[],"custom_origin_config":[],"origin_shield":[],"s3_origin_config":[],"vpc_origin_config":[]}],"origin_group":[{"failover_criteria":[{"status_codes":[false,false,false,false,false,false]}],"member":[{},{}]}],"restrictions":[{"geo_restriction":[{"locations":[false]}]}],"tags":{},"tags_all":{},"trusted_key_groups":[],"trusted_signers":[],"viewer_certificate":[{}]}},{"address":"module.delivery.aws_cloudfront_origin_access_control.frontend","mode":"managed","type":"aws_cloudfront_origin_access_control","name":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"OAC for frontend S3 bucket","name":"tattoo-artist-directory-dev-frontend-oac","origin_access_control_origin_type":"s3","signing_behavior":"always","signing_protocol":"sigv4"},"sensitive_values":{}},{"address":"module.delivery.aws_cloudfront_response_headers_policy.security_headers","mode":"managed","type":"aws_cloudfront_response_headers_policy","name":"security_headers","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"comment":"Adds security headers like HSTS, CSP, and X-Frame-Options","cors_config":[],"custom_headers_config":[],"name":"tattoo-artist-directory-dev-security-headers","remove_headers_config":[],"security_headers_config":[{"content_security_policy":[],"content_type_options":[{"override":true}],"frame_options":[{"frame_option":"DENY","override":true}],"referrer_policy":[],"strict_transport_security":[{"access_control_max_age_sec":31536000,"include_subdomains":true,"override":true,"preload":true}],"xss_protection":[{"mode_block":true,"override":true,"protection":true,"report_uri":null}]}],"server_timing_headers_config":[]},"sensitive_values":{"cors_config":[],"custom_headers_config":[],"remove_headers_config":[],"security_headers_config":[{"content_security_policy":[],"content_type_options":[{}],"frame_options":[{}],"referrer_policy":[],"strict_transport_security":[{}],"xss_protection":[{}]}],"server_timing_headers_config":[]}}],"address":"module.delivery"},{"resources":[{"address":"module.foundation.aws_kms_alias.main","mode":"managed","type":"aws_kms_alias","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"alias/tattoo-artist-directory-dev-main"},"sensitive_values":{}},{"address":"module.foundation.aws_kms_key.main","mode":"managed","type":"aws_kms_key","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bypass_policy_lockout_safety_check":false,"custom_key_store_id":null,"customer_master_key_spec":"SYMMETRIC_DEFAULT","deletion_window_in_days":7,"description":"Main KMS key for tattoo-artist-directory-dev","enable_key_rotation":true,"is_enabled":true,"key_usage":"ENCRYPT_DECRYPT","policy":"{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::773595699997:root\"},\"Resource\":\"*\",\"Sid\":\"Enable IAM User Permissions\"},{\"Action\":\"kms:Decrypt\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"s3.amazonaws.com\"},\"Resource\":\"*\",\"Sid\":\"Allow S3 Replication to Decrypt from Source\"}],\"Version\":\"2012-10-17\"}","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-main-key","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-main-key","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"xks_key_id":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.foundation.random_id.suffix","mode":"managed","type":"random_id","name":"suffix","provider_name":"registry.terraform.io/hashicorp/random","schema_version":0,"values":{"byte_length":4,"keepers":null,"prefix":null},"sensitive_values":{}},{"address":"module.foundation.random_password.app_secrets","mode":"managed","type":"random_password","name":"app_secrets","provider_name":"registry.terraform.io/hashicorp/random","schema_version":3,"values":{"keepers":null,"length":32,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"numeric":true,"override_special":null,"special":true,"upper":true},"sensitive_values":{"bcrypt_hash":true,"result":true}},{"address":"module.foundation.random_password.opensearch_master","mode":"managed","type":"random_password","name":"opensearch_master","provider_name":"registry.terraform.io/hashicorp/random","schema_version":3,"values":{"keepers":null,"length":16,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"numeric":true,"override_special":null,"special":true,"upper":true},"sensitive_values":{"bcrypt_hash":true,"result":true}}],"address":"module.foundation"},{"resources":[{"address":"module.governance.aws_cloudtrail.main","mode":"managed","type":"aws_cloudtrail","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"advanced_event_selector":[],"cloud_watch_logs_role_arn":"","enable_log_file_validation":true,"enable_logging":true,"event_selector":[{"data_resource":[{"type":"AWS::S3::Object"},{"type":"AWS::DynamoDB::Table"}],"exclude_management_event_sources":null,"include_management_events":true,"read_write_type":"All"}],"include_global_service_events":true,"insight_selector":[{"insight_type":"ApiCallRateInsight"}],"is_multi_region_trail":true,"is_organization_trail":false,"name":"tattoo-artist-directory-dev-cloudtrail","s3_key_prefix":null,"sns_topic_name":"tattoo-artist-directory-dev-cloudtrail-notifications","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"advanced_event_selector":[],"event_selector":[{"data_resource":[{"values":[]},{"values":[]}]}],"insight_selector":[{}],"tags":{},"tags_all":{}}},{"address":"module.governance.aws_cloudwatch_dashboard.compliance[0]","mode":"managed","type":"aws_cloudwatch_dashboard","name":"compliance","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dashboard_body":"{\"widgets\":[{\"height\":6,\"properties\":{\"metrics\":[[\"AWS/Config\",\"ComplianceByConfigRule\",\"RuleName\",\"tattoo-artist-directory-dev-s3-bucket-public-access-prohibited\",\"ComplianceType\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-s3-bucket-server-side-encryption-enabled\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-dynamodb-table-encryption-enabled\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-dynamodb-pitr-enabled\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-lambda-concurrency-check\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-lambda-function-public-access-prohibited\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-lambda-inside-vpc\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-api-gw-execution-logging-enabled\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-cloudfront-origin-access-control-enabled\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-cloudfront-viewer-policy-https\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-vpc-default-security-group-closed\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-vpc-flow-logs-enabled\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-iam-policy-no-statements-with-admin-access\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-iam-user-no-policies-check\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-kms-cmk-not-scheduled-for-deletion\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"]],\"period\":300,\"region\":\"eu-west-2\",\"stacked\":false,\"title\":\"Config Rule Compliance\",\"view\":\"timeSeries\"},\"type\":\"metric\",\"width\":12,\"x\":0,\"y\":0},{\"height\":6,\"properties\":{\"metrics\":[[\"tattoo-artist-directory/Security\",\"SecurityAlerts\"]],\"period\":300,\"region\":\"eu-west-2\",\"stacked\":false,\"title\":\"Security Alerts\",\"view\":\"timeSeries\"},\"type\":\"metric\",\"width\":12,\"x\":12,\"y\":0},{\"height\":6,\"properties\":{\"query\":\"SOURCE '/aws/cloudtrail/tattoo-artist-directory-dev'\\n| fields @timestamp, sourceIPAddress, userIdentity.type, eventName, errorCode\\n| filter errorCode exists\\n| sort @timestamp desc\\n| limit 20\",\"region\":\"eu-west-2\",\"title\":\"Recent CloudTrail Errors\",\"view\":\"table\"},\"type\":\"log\",\"width\":24,\"x\":0,\"y\":6},{\"height\":6,\"properties\":{\"query\":\"SOURCE '/aws/cloudtrail/tattoo-artist-directory-dev'\\n| fields @timestamp, sourceIPAddress, userIdentity.type, eventName\\n| filter sourceIPAddress not like /^AWS Internal/\\n| stats count() by sourceIPAddress\\n| sort count desc\\n| limit 10\",\"region\":\"eu-west-2\",\"title\":\"Top Source IP Addresses\",\"view\":\"table\"},\"type\":\"log\",\"width\":24,\"x\":0,\"y\":12}]}","dashboard_name":"tattoo-artist-directory-dev-compliance"},"sensitive_values":{}},{"address":"module.governance.aws_cloudwatch_log_group.cloudtrail","mode":"managed","type":"aws_cloudwatch_log_group","name":"cloudtrail","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"/aws/cloudtrail/tattoo-artist-directory-dev","retention_in_days":14,"skip_destroy":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"api-gw-execution-logging-enabled\"]","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"api-gw-execution-logging-enabled","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-api-gw-execution-logging-enabled","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"API_GW_EXECUTION_LOGGING_ENABLED"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"cloudfront-origin-access-control-enabled\"]","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"cloudfront-origin-access-control-enabled","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-cloudfront-origin-access-control-enabled","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"CLOUDFRONT_ORIGIN_ACCESS_CONTROL_ENABLED"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"cloudfront-viewer-policy-https\"]","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"cloudfront-viewer-policy-https","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-cloudfront-viewer-policy-https","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"CLOUDFRONT_VIEWER_POLICY_HTTPS"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"dynamodb-pitr-enabled\"]","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"dynamodb-pitr-enabled","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-dynamodb-pitr-enabled","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"DYNAMODB_PITR_ENABLED"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"dynamodb-table-encryption-enabled\"]","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"dynamodb-table-encryption-enabled","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-dynamodb-table-encryption-enabled","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"DYNAMODB_TABLE_ENCRYPTION_ENABLED"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"iam-policy-no-statements-with-admin-access\"]","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"iam-policy-no-statements-with-admin-access","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-iam-policy-no-statements-with-admin-access","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"IAM_POLICY_NO_STATEMENTS_WITH_ADMIN_ACCESS"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"iam-user-no-policies-check\"]","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"iam-user-no-policies-check","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-iam-user-no-policies-check","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"IAM_USER_NO_POLICIES_CHECK"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"kms-cmk-not-scheduled-for-deletion\"]","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"kms-cmk-not-scheduled-for-deletion","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-kms-cmk-not-scheduled-for-deletion","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"KMS_CMK_NOT_SCHEDULED_FOR_DELETION"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"lambda-concurrency-check\"]","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"lambda-concurrency-check","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"input_parameters":"{\"ConcurrencyLimitHigh\":100,\"ConcurrencyLimitLow\":1}","maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-lambda-concurrency-check","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"LAMBDA_CONCURRENCY_CHECK"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"lambda-function-public-access-prohibited\"]","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"lambda-function-public-access-prohibited","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-lambda-function-public-access-prohibited","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"LAMBDA_FUNCTION_PUBLIC_ACCESS_PROHIBITED"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"lambda-inside-vpc\"]","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"lambda-inside-vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-lambda-inside-vpc","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"LAMBDA_INSIDE_VPC"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"s3-bucket-public-access-prohibited\"]","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"s3-bucket-public-access-prohibited","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-s3-bucket-public-access-prohibited","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"S3_BUCKET_PUBLIC_ACCESS_PROHIBITED"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"s3-bucket-server-side-encryption-enabled\"]","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"s3-bucket-server-side-encryption-enabled","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-s3-bucket-server-side-encryption-enabled","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"S3_BUCKET_SERVER_SIDE_ENCRYPTION_ENABLED"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"vpc-default-security-group-closed\"]","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"vpc-default-security-group-closed","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-vpc-default-security-group-closed","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"VPC_DEFAULT_SECURITY_GROUP_CLOSED"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"vpc-flow-logs-enabled\"]","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"vpc-flow-logs-enabled","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-vpc-flow-logs-enabled","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"VPC_FLOW_LOGS_ENABLED"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}},{"address":"module.governance.aws_config_configuration_recorder.main[0]","mode":"managed","type":"aws_config_configuration_recorder","name":"main","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"tattoo-artist-directory-dev-config-recorder","recording_group":[{"all_supported":true,"include_global_resource_types":true,"resource_types":null}]},"sensitive_values":{"recording_group":[{"exclusion_by_resource_types":[],"recording_strategy":[]}],"recording_mode":[]}},{"address":"module.governance.aws_config_delivery_channel.main[0]","mode":"managed","type":"aws_config_delivery_channel","name":"main","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"tattoo-artist-directory-dev-config-delivery-channel","s3_key_prefix":null,"s3_kms_key_arn":null,"snapshot_delivery_properties":[{"delivery_frequency":"TwentyFour_Hours"}],"sns_topic_arn":null},"sensitive_values":{"snapshot_delivery_properties":[{}]}},{"address":"module.governance.aws_sns_topic.cloudtrail_notifications","mode":"managed","type":"aws_sns_topic","name":"cloudtrail_notifications","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"tattoo-artist-directory-dev-cloudtrail-notifications","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail-notifications","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail-notifications","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.governance.aws_sns_topic.config_notifications[0]","mode":"managed","type":"aws_sns_topic","name":"config_notifications","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"tattoo-artist-directory-dev-config-notifications","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-notifications","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-notifications","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags":{},"tags_all":{}}}],"address":"module.governance"},{"resources":[{"address":"module.iam.aws_iam_policy.ecs_task","mode":"managed","type":"aws_iam_policy","name":"ecs_task","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Policy for ECS tasks","name":"tattoo-artist-directory-dev-ecs-task-policy","path":"/","policy":"{\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:eu-west-2:773595699997:secret:tattoo-artist-directory-dev-app-secrets*\"}],\"Version\":\"2012-10-17\"}","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-task-policy","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-task-policy","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_policy.lambda_api","mode":"managed","type":"aws_iam_policy","name":"lambda_api","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Policy for API handler Lambda function","name":"tattoo-artist-directory-dev-lambda-api-policy","path":"/","policy":"{\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:eu-west-2:773595699997:secret:tattoo-artist-directory-dev-app-secrets*\"}],\"Version\":\"2012-10-17\"}","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-api-policy","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-api-policy","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_policy.lambda_rotate_nat_gateway_eip","mode":"managed","type":"aws_iam_policy","name":"lambda_rotate_nat_gateway_eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Allows rotating the NAT Gateway EIP and publishing to SNS.","name":"tattoo-artist-directory-dev-rotate-nat-eip-policy","path":"/","policy":"{\"Statement\":[{\"Action\":[\"ec2:DescribeNatGateways\",\"ec2:DescribeAddresses\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"DescribeResources\"},{\"Action\":[\"ec2:AllocateAddress\",\"ec2:ReleaseAddress\"],\"Condition\":{\"StringEquals\":{\"aws:RequestTag/Project\":\"tattoo-artist-directory\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"ManageEIPAllocation\"},{\"Action\":[\"ec2:AssociateAddress\",\"ec2:DisassociateAddress\"],\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/Name\":\"tattoo-artist-directory-dev-nat-*\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:ec2:eu-west-2:773595699997:network-interface/*\",\"Sid\":\"ManageEIPAssociation\"},{\"Action\":\"sns:Publish\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sns:eu-west-2:773595699997:tattoo-artist-directory-dev-critical-alerts\",\"Sid\":\"PublishSNSNotification\"}],\"Version\":\"2012-10-17\"}","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags_all":{}}},{"address":"module.iam.aws_iam_policy.lambda_sync","mode":"managed","type":"aws_iam_policy","name":"lambda_sync","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Policy for DynamoDB to OpenSearch sync Lambda function","name":"tattoo-artist-directory-dev-lambda-sync-policy","path":"/","policy":"{\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:eu-west-2:773595699997:secret:tattoo-artist-directory-dev-app-secrets*\"}],\"Version\":\"2012-10-17\"}","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-sync-policy","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-sync-policy","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role.config[0]","mode":"managed","type":"aws_iam_role","name":"config","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"config.amazonaws.com\"}},{\"Action\":\"sts:AssumeRole\",\"Condition\":{\"StringEquals\":{\"sts:ExternalId\":\"tattoo-artist-directory-dev-config-cross-account\"}},\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::098819594789:root\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-config-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role.ecs_task","mode":"managed","type":"aws_iam_role","name":"ecs_task","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-ecs-task-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-task-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-task-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role.ecs_task_execution","mode":"managed","type":"aws_iam_role","name":"ecs_task_execution","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-ecs-task-execution-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-task-execution-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-task-execution-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role.lambda_api","mode":"managed","type":"aws_iam_role","name":"lambda_api","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-lambda-api-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-api-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-api-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role.lambda_discover_studios","mode":"managed","type":"aws_iam_role","name":"lambda_discover_studios","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-lambda-discover-studios-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-discover-studios-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-discover-studios-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role.lambda_find_artists","mode":"managed","type":"aws_iam_role","name":"lambda_find_artists","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-lambda-find-artists-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-find-artists-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-find-artists-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role.lambda_queue_scraping","mode":"managed","type":"aws_iam_role","name":"lambda_queue_scraping","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-lambda-queue-scraping-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-queue-scraping-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-queue-scraping-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role.lambda_rotate_nat_gateway_eip","mode":"managed","type":"aws_iam_role","name":"lambda_rotate_nat_gateway_eip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-rotate-nat-eip-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-rotate-nat-eip-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-rotate-nat-eip-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role.lambda_sync","mode":"managed","type":"aws_iam_role","name":"lambda_sync","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-lambda-sync-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-sync-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-sync-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role.step_functions","mode":"managed","type":"aws_iam_role","name":"step_functions","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"states.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-step-functions-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-step-functions-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-step-functions-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.config[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"config","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWS_ConfigRole","role":"tattoo-artist-directory-dev-config-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.ecs_task_custom","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ecs_task_custom","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"tattoo-artist-directory-dev-ecs-task-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.ecs_task_execution","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ecs_task_execution","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy","role":"tattoo-artist-directory-dev-ecs-task-execution-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.ecs_task_xray","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ecs_task_xray","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess","role":"tattoo-artist-directory-dev-ecs-task-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_api_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_api_basic","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"tattoo-artist-directory-dev-lambda-api-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_api_custom","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_api_custom","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"tattoo-artist-directory-dev-lambda-api-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_api_vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_api_vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole","role":"tattoo-artist-directory-dev-lambda-api-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_api_xray","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_api_xray","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess","role":"tattoo-artist-directory-dev-lambda-api-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_discover_studios_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_discover_studios_basic","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"tattoo-artist-directory-dev-lambda-discover-studios-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_discover_studios_vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_discover_studios_vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole","role":"tattoo-artist-directory-dev-lambda-discover-studios-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_discover_studios_xray","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_discover_studios_xray","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess","role":"tattoo-artist-directory-dev-lambda-discover-studios-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_find_artists_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_find_artists_basic","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"tattoo-artist-directory-dev-lambda-find-artists-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_find_artists_vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_find_artists_vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole","role":"tattoo-artist-directory-dev-lambda-find-artists-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_find_artists_xray","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_find_artists_xray","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess","role":"tattoo-artist-directory-dev-lambda-find-artists-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_queue_scraping_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_queue_scraping_basic","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"tattoo-artist-directory-dev-lambda-queue-scraping-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_queue_scraping_vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_queue_scraping_vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole","role":"tattoo-artist-directory-dev-lambda-queue-scraping-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_queue_scraping_xray","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_queue_scraping_xray","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess","role":"tattoo-artist-directory-dev-lambda-queue-scraping-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_rotate_nat_gateway_eip_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_rotate_nat_gateway_eip_basic","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"tattoo-artist-directory-dev-rotate-nat-eip-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_rotate_nat_gateway_eip_custom","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_rotate_nat_gateway_eip_custom","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"tattoo-artist-directory-dev-rotate-nat-eip-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_rotate_nat_gateway_eip_vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_rotate_nat_gateway_eip_vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole","role":"tattoo-artist-directory-dev-rotate-nat-eip-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_rotate_nat_gateway_eip_xray","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_rotate_nat_gateway_eip_xray","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess","role":"tattoo-artist-directory-dev-rotate-nat-eip-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_sync_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sync_basic","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"tattoo-artist-directory-dev-lambda-sync-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_sync_custom","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sync_custom","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"role":"tattoo-artist-directory-dev-lambda-sync-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_sync_vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sync_vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole","role":"tattoo-artist-directory-dev-lambda-sync-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_sync_xray","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sync_xray","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess","role":"tattoo-artist-directory-dev-lambda-sync-role"},"sensitive_values":{}},{"address":"module.iam.aws_iam_role_policy_attachment.step_functions_xray","mode":"managed","type":"aws_iam_role_policy_attachment","name":"step_functions_xray","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"policy_arn":"arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess","role":"tattoo-artist-directory-dev-step-functions-role"},"sensitive_values":{}}],"address":"module.iam"},{"resources":[{"address":"module.log_storage.aws_kms_alias.log_archive","mode":"managed","type":"aws_kms_alias","name":"log_archive","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"alias/tattoo-artist-directory-dev-log-archive-key"},"sensitive_values":{}},{"address":"module.log_storage.aws_kms_key.log_archive","mode":"managed","type":"aws_kms_key","name":"log_archive","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"bypass_policy_lockout_safety_check":false,"custom_key_store_id":null,"customer_master_key_spec":"SYMMETRIC_DEFAULT","deletion_window_in_days":10,"description":"KMS key for encrypting resources in the Log Archive account","enable_key_rotation":true,"is_enabled":true,"key_usage":"ENCRYPT_DECRYPT","policy":"{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::224425919836:root\"},\"Resource\":\"*\",\"Sid\":\"EnableIAMUserPermissions\"},{\"Action\":[\"kms:DescribeKey\",\"kms:Decrypt\"],\"Condition\":{\"StringEquals\":{\"aws:PrincipalTag/iam.amazonaws.com/role-purpose\":\"log-auditing\"}},\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::098819594789:root\"},\"Resource\":\"*\",\"Sid\":\"AllowAuditAccountKmsUsage\"}],\"Version\":\"2012-10-17\"}","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-log-archive-key","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-log-archive-key","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Log-Archive-Resources"},"timeouts":null,"xks_key_id":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.log_storage.aws_s3_bucket.main[\"access_logs\"]","mode":"managed","type":"aws_s3_bucket","name":"main","index":"access_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"force_destroy":true,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"CloudFront and other access logs","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-access_logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"CloudFront and other access logs","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-access_logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Log-Archive-Resources"},"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}},{"address":"module.log_storage.aws_s3_bucket.main[\"cloudtrail\"]","mode":"managed","type":"aws_s3_bucket","name":"main","index":"cloudtrail","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"force_destroy":true,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"CloudTrail logs bucket","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"CloudTrail logs bucket","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Log-Archive-Resources"},"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}},{"address":"module.log_storage.aws_s3_bucket.main[\"config\"]","mode":"managed","type":"aws_s3_bucket","name":"main","index":"config","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"force_destroy":true,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"AWS Config bucket","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"AWS Config bucket","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Log-Archive-Resources"},"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}},{"address":"module.log_storage.aws_s3_bucket.main[\"vpc_flow_logs\"]","mode":"managed","type":"aws_s3_bucket","name":"main","index":"vpc_flow_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"force_destroy":true,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"VPC Flow Logs bucket","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-vpc_flow_logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"VPC Flow Logs bucket","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-vpc_flow_logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Log-Archive-Resources"},"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}},{"address":"module.log_storage.aws_s3_bucket.main[\"waf_logs\"]","mode":"managed","type":"aws_s3_bucket","name":"main","index":"waf_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"force_destroy":true,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"WAF logs bucket","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-waf_logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"WAF logs bucket","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-waf_logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Log-Archive-Resources"},"timeouts":null},"sensitive_values":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}},{"address":"module.log_storage.aws_s3_bucket_lifecycle_configuration.main[\"access_logs\"]","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"main","index":"access_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"rule":[{"abort_incomplete_multipart_upload":[{"days_after_initiation":7}],"expiration":[{"date":null,"days":30,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"access_logs_lifecycle","noncurrent_version_expiration":[{"newer_noncurrent_versions":null,"noncurrent_days":14}],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[{"date":null,"days":30,"storage_class":"STANDARD_IA"}]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"sensitive_values":{"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[{}]}]}},{"address":"module.log_storage.aws_s3_bucket_lifecycle_configuration.main[\"cloudtrail\"]","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"main","index":"cloudtrail","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"rule":[{"abort_incomplete_multipart_upload":[{"days_after_initiation":7}],"expiration":[{"date":null,"days":90,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"cloudtrail_lifecycle","noncurrent_version_expiration":[{"newer_noncurrent_versions":null,"noncurrent_days":30}],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[{"date":null,"days":365,"storage_class":"GLACIER"},{"date":null,"days":90,"storage_class":"STANDARD_IA"}]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"sensitive_values":{"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[{},{}]}]}},{"address":"module.log_storage.aws_s3_bucket_lifecycle_configuration.main[\"config\"]","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"main","index":"config","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"rule":[{"abort_incomplete_multipart_upload":[{"days_after_initiation":7}],"expiration":[{"date":null,"days":90,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"config_lifecycle","noncurrent_version_expiration":[{"newer_noncurrent_versions":null,"noncurrent_days":30}],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[{"date":null,"days":365,"storage_class":"GLACIER"},{"date":null,"days":90,"storage_class":"STANDARD_IA"}]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"sensitive_values":{"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[{},{}]}]}},{"address":"module.log_storage.aws_s3_bucket_lifecycle_configuration.main[\"vpc_flow_logs\"]","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"main","index":"vpc_flow_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"rule":[{"abort_incomplete_multipart_upload":[{"days_after_initiation":7}],"expiration":[{"date":null,"days":30,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"vpc_flow_logs_lifecycle","noncurrent_version_expiration":[{"newer_noncurrent_versions":null,"noncurrent_days":14}],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[{"date":null,"days":30,"storage_class":"STANDARD_IA"}]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"sensitive_values":{"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[{}]}]}},{"address":"module.log_storage.aws_s3_bucket_lifecycle_configuration.main[\"waf_logs\"]","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"main","index":"waf_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"rule":[{"abort_incomplete_multipart_upload":[{"days_after_initiation":7}],"expiration":[{"date":null,"days":30,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"waf_logs_lifecycle","noncurrent_version_expiration":[{"newer_noncurrent_versions":null,"noncurrent_days":14}],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[{"date":null,"days":30,"storage_class":"STANDARD_IA"}]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"sensitive_values":{"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[{}]}]}},{"address":"module.log_storage.aws_s3_bucket_logging.main[\"cloudtrail\"]","mode":"managed","type":"aws_s3_bucket_logging","name":"main","index":"cloudtrail","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"target_grant":[],"target_object_key_format":[],"target_prefix":"cloudtrail-access-logs/"},"sensitive_values":{"target_grant":[],"target_object_key_format":[]}},{"address":"module.log_storage.aws_s3_bucket_logging.main[\"config\"]","mode":"managed","type":"aws_s3_bucket_logging","name":"main","index":"config","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"target_grant":[],"target_object_key_format":[],"target_prefix":"config-access-logs/"},"sensitive_values":{"target_grant":[],"target_object_key_format":[]}},{"address":"module.log_storage.aws_s3_bucket_logging.main[\"vpc_flow_logs\"]","mode":"managed","type":"aws_s3_bucket_logging","name":"main","index":"vpc_flow_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"target_grant":[],"target_object_key_format":[],"target_prefix":"vpc-flow-logs-access-logs/"},"sensitive_values":{"target_grant":[],"target_object_key_format":[]}},{"address":"module.log_storage.aws_s3_bucket_logging.main[\"waf_logs\"]","mode":"managed","type":"aws_s3_bucket_logging","name":"main","index":"waf_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"target_grant":[],"target_object_key_format":[],"target_prefix":"waf-logs-access-logs/"},"sensitive_values":{"target_grant":[],"target_object_key_format":[]}},{"address":"module.log_storage.aws_s3_bucket_policy.access_logs","mode":"managed","type":"aws_s3_bucket_policy","name":"access_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"sensitive_values":{}},{"address":"module.log_storage.aws_s3_bucket_policy.cloudtrail","mode":"managed","type":"aws_s3_bucket_policy","name":"cloudtrail","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"sensitive_values":{}},{"address":"module.log_storage.aws_s3_bucket_policy.config","mode":"managed","type":"aws_s3_bucket_policy","name":"config","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"sensitive_values":{}},{"address":"module.log_storage.aws_s3_bucket_policy.vpc_flow_logs","mode":"managed","type":"aws_s3_bucket_policy","name":"vpc_flow_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"sensitive_values":{}},{"address":"module.log_storage.aws_s3_bucket_policy.waf_logs","mode":"managed","type":"aws_s3_bucket_policy","name":"waf_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"sensitive_values":{}},{"address":"module.log_storage.aws_s3_bucket_public_access_block.main[\"access_logs\"]","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"main","index":"access_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_public_acls":true,"block_public_policy":true,"ignore_public_acls":true,"restrict_public_buckets":true},"sensitive_values":{}},{"address":"module.log_storage.aws_s3_bucket_public_access_block.main[\"cloudtrail\"]","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"main","index":"cloudtrail","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_public_acls":true,"block_public_policy":true,"ignore_public_acls":true,"restrict_public_buckets":true},"sensitive_values":{}},{"address":"module.log_storage.aws_s3_bucket_public_access_block.main[\"config\"]","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"main","index":"config","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_public_acls":true,"block_public_policy":true,"ignore_public_acls":true,"restrict_public_buckets":true},"sensitive_values":{}},{"address":"module.log_storage.aws_s3_bucket_public_access_block.main[\"vpc_flow_logs\"]","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"main","index":"vpc_flow_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_public_acls":true,"block_public_policy":true,"ignore_public_acls":true,"restrict_public_buckets":true},"sensitive_values":{}},{"address":"module.log_storage.aws_s3_bucket_public_access_block.main[\"waf_logs\"]","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"main","index":"waf_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"block_public_acls":true,"block_public_policy":true,"ignore_public_acls":true,"restrict_public_buckets":true},"sensitive_values":{}},{"address":"module.log_storage.aws_s3_bucket_server_side_encryption_configuration.main[\"access_logs\"]","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"main","index":"access_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"bucket_key_enabled":true}]},"sensitive_values":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}},{"address":"module.log_storage.aws_s3_bucket_server_side_encryption_configuration.main[\"cloudtrail\"]","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"main","index":"cloudtrail","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"bucket_key_enabled":true}]},"sensitive_values":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}},{"address":"module.log_storage.aws_s3_bucket_server_side_encryption_configuration.main[\"config\"]","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"main","index":"config","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"bucket_key_enabled":true}]},"sensitive_values":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}},{"address":"module.log_storage.aws_s3_bucket_server_side_encryption_configuration.main[\"vpc_flow_logs\"]","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"main","index":"vpc_flow_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"bucket_key_enabled":true}]},"sensitive_values":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}},{"address":"module.log_storage.aws_s3_bucket_server_side_encryption_configuration.main[\"waf_logs\"]","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"main","index":"waf_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"bucket_key_enabled":true}]},"sensitive_values":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}},{"address":"module.log_storage.aws_s3_bucket_versioning.main[\"access_logs\"]","mode":"managed","type":"aws_s3_bucket_versioning","name":"main","index":"access_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"sensitive_values":{"versioning_configuration":[{}]}},{"address":"module.log_storage.aws_s3_bucket_versioning.main[\"cloudtrail\"]","mode":"managed","type":"aws_s3_bucket_versioning","name":"main","index":"cloudtrail","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"sensitive_values":{"versioning_configuration":[{}]}},{"address":"module.log_storage.aws_s3_bucket_versioning.main[\"config\"]","mode":"managed","type":"aws_s3_bucket_versioning","name":"main","index":"config","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"sensitive_values":{"versioning_configuration":[{}]}},{"address":"module.log_storage.aws_s3_bucket_versioning.main[\"vpc_flow_logs\"]","mode":"managed","type":"aws_s3_bucket_versioning","name":"main","index":"vpc_flow_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"sensitive_values":{"versioning_configuration":[{}]}},{"address":"module.log_storage.aws_s3_bucket_versioning.main[\"waf_logs\"]","mode":"managed","type":"aws_s3_bucket_versioning","name":"main","index":"waf_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"sensitive_values":{"versioning_configuration":[{}]}}],"address":"module.log_storage"},{"resources":[{"address":"module.networking.aws_default_security_group.default","mode":"managed","type":"aws_default_security_group","name":"default","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"revoke_rules_on_delete":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-default-sg-restricted","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-default-sg-restricted","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_eip.nat[\"a\"]","mode":"managed","type":"aws_eip","name":"nat","index":"a","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"address":null,"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"domain":"vpc","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-nat-eip-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-nat-eip-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.networking.aws_flow_log.vpc","mode":"managed","type":"aws_flow_log","name":"vpc","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"deliver_cross_account_role":null,"destination_options":[],"eni_id":null,"iam_role_arn":null,"log_destination_type":"s3","max_aggregation_interval":600,"subnet_id":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-vpc-flow-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-vpc-flow-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"traffic_type":"ALL","transit_gateway_attachment_id":null,"transit_gateway_id":null},"sensitive_values":{"destination_options":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_internet_gateway.main","mode":"managed","type":"aws_internet_gateway","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-igw","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-igw","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.networking.aws_nat_gateway.main[\"a\"]","mode":"managed","type":"aws_nat_gateway","name":"main","index":"a","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"connectivity_type":"public","secondary_allocation_ids":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-nat-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-nat-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"sensitive_values":{"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_network_acl.private","mode":"managed","type":"aws_network_acl","name":"private","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"egress":[{"action":"allow","cidr_block":"0.0.0.0/0","from_port":443,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"tcp","rule_no":130,"to_port":443},{"action":"allow","cidr_block":"0.0.0.0/0","from_port":80,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"tcp","rule_no":120,"to_port":80},{"action":"allow","cidr_block":"10.0.0.0/16","from_port":0,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"all","rule_no":100,"to_port":0}],"ingress":[{"action":"allow","cidr_block":"0.0.0.0/0","from_port":1024,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"tcp","rule_no":110,"to_port":65535},{"action":"allow","cidr_block":"10.0.0.0/16","from_port":0,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"all","rule_no":100,"to_port":0},{"action":"deny","cidr_block":"0.0.0.0/0","from_port":3389,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"tcp","rule_no":95,"to_port":3389}],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-nacl","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-nacl","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"egress":[{},{},{}],"ingress":[{},{},{}],"subnet_ids":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_network_acl.public","mode":"managed","type":"aws_network_acl","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"egress":[{"action":"allow","cidr_block":"0.0.0.0/0","from_port":0,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"tcp","rule_no":100,"to_port":65535}],"ingress":[{"action":"allow","cidr_block":"0.0.0.0/0","from_port":1024,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"tcp","rule_no":120,"to_port":65535},{"action":"allow","cidr_block":"0.0.0.0/0","from_port":443,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"tcp","rule_no":110,"to_port":443},{"action":"allow","cidr_block":"0.0.0.0/0","from_port":80,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"tcp","rule_no":100,"to_port":80},{"action":"deny","cidr_block":"0.0.0.0/0","from_port":3389,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"tcp","rule_no":90,"to_port":3389}],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-nacl","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-nacl","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"egress":[{}],"ingress":[{},{},{},{}],"subnet_ids":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_network_acl_association.private[\"a\"]","mode":"managed","type":"aws_network_acl_association","name":"private","index":"a","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"sensitive_values":{}},{"address":"module.networking.aws_network_acl_association.private[\"b\"]","mode":"managed","type":"aws_network_acl_association","name":"private","index":"b","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"sensitive_values":{}},{"address":"module.networking.aws_network_acl_association.private[\"c\"]","mode":"managed","type":"aws_network_acl_association","name":"private","index":"c","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"sensitive_values":{}},{"address":"module.networking.aws_network_acl_association.public[\"a\"]","mode":"managed","type":"aws_network_acl_association","name":"public","index":"a","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"sensitive_values":{}},{"address":"module.networking.aws_network_acl_association.public[\"b\"]","mode":"managed","type":"aws_network_acl_association","name":"public","index":"b","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"sensitive_values":{}},{"address":"module.networking.aws_network_acl_association.public[\"c\"]","mode":"managed","type":"aws_network_acl_association","name":"public","index":"c","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"sensitive_values":{}},{"address":"module.networking.aws_route_table.private[\"a\"]","mode":"managed","type":"aws_route_table","name":"private","index":"a","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-rt-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-rt-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_route_table.public","mode":"managed","type":"aws_route_table","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-rt","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-rt","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_route_table_association.private[\"a\"]","mode":"managed","type":"aws_route_table_association","name":"private","index":"a","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"timeouts":null},"sensitive_values":{}},{"address":"module.networking.aws_route_table_association.private[\"b\"]","mode":"managed","type":"aws_route_table_association","name":"private","index":"b","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"timeouts":null},"sensitive_values":{}},{"address":"module.networking.aws_route_table_association.private[\"c\"]","mode":"managed","type":"aws_route_table_association","name":"private","index":"c","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"timeouts":null},"sensitive_values":{}},{"address":"module.networking.aws_route_table_association.public[\"a\"]","mode":"managed","type":"aws_route_table_association","name":"public","index":"a","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"timeouts":null},"sensitive_values":{}},{"address":"module.networking.aws_route_table_association.public[\"b\"]","mode":"managed","type":"aws_route_table_association","name":"public","index":"b","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"timeouts":null},"sensitive_values":{}},{"address":"module.networking.aws_route_table_association.public[\"c\"]","mode":"managed","type":"aws_route_table_association","name":"public","index":"c","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"timeouts":null},"sensitive_values":{}},{"address":"module.networking.aws_security_group.main[\"fargate\"]","mode":"managed","type":"aws_security_group","name":"main","index":"fargate","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Fargate security group","name":"tattoo-artist-directory-dev-fargate-sg","revoke_rules_on_delete":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-fargate-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-fargate-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_security_group.main[\"lambda_internal\"]","mode":"managed","type":"aws_security_group","name":"main","index":"lambda_internal","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Lambda security group for internal VPC access only","name":"tattoo-artist-directory-dev-lambda_internal-sg","revoke_rules_on_delete":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-internal-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-internal-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_security_group.main[\"lambda_internet\"]","mode":"managed","type":"aws_security_group","name":"main","index":"lambda_internet","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"Lambda security group with internet access","name":"tattoo-artist-directory-dev-lambda_internet-sg","revoke_rules_on_delete":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-internet-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-internet-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_security_group.main[\"opensearch\"]","mode":"managed","type":"aws_security_group","name":"main","index":"opensearch","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"OpenSearch security group","name":"tattoo-artist-directory-dev-opensearch-sg","revoke_rules_on_delete":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_security_group.main[\"vpc_endpoints\"]","mode":"managed","type":"aws_security_group","name":"main","index":"vpc_endpoints","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"description":"VPC Endpoints security group","name":"tattoo-artist-directory-dev-vpc_endpoints-sg","revoke_rules_on_delete":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-vpc-endpoints-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-vpc-endpoints-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_subnet.private[\"a\"]","mode":"managed","type":"aws_subnet","name":"private","index":"a","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-2a","cidr_block":"10.0.10.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Private","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Private","Version":"dev-build"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.networking.aws_subnet.private[\"b\"]","mode":"managed","type":"aws_subnet","name":"private","index":"b","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-2b","cidr_block":"10.0.11.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-b","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Private","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-b","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Private","Version":"dev-build"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.networking.aws_subnet.private[\"c\"]","mode":"managed","type":"aws_subnet","name":"private","index":"c","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-2c","cidr_block":"10.0.12.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-c","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Private","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-c","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Private","Version":"dev-build"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.networking.aws_subnet.public[\"a\"]","mode":"managed","type":"aws_subnet","name":"public","index":"a","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-2a","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Public","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Public","Version":"dev-build"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.networking.aws_subnet.public[\"b\"]","mode":"managed","type":"aws_subnet","name":"public","index":"b","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-2b","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-b","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Public","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-b","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Public","Version":"dev-build"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.networking.aws_subnet.public[\"c\"]","mode":"managed","type":"aws_subnet","name":"public","index":"c","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-2c","cidr_block":"10.0.3.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-c","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Public","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-c","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Public","Version":"dev-build"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.networking.aws_vpc.main","mode":"managed","type":"aws_vpc","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-vpc","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-vpc","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.networking.aws_vpc_endpoint.gateway[\"dynamodb\"]","mode":"managed","type":"aws_vpc_endpoint","name":"gateway","index":"dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"auto_accept":null,"resource_configuration_arn":null,"service_name":"com.amazonaws.eu-west-2.dynamodb","service_network_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-dynamodb-gateway-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-dynamodb-gateway-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_endpoint_type":"Gateway"},"sensitive_values":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_vpc_endpoint.gateway[\"s3\"]","mode":"managed","type":"aws_vpc_endpoint","name":"gateway","index":"s3","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"auto_accept":null,"policy":"{\"Statement\":[{\"Action\":\"s3:*\",\"Effect\":\"Allow\",\"Principal\":\"*\",\"Resource\":[\"arn:aws:s3:::tattoo-artist-directory-dev-*\",\"arn:aws:s3:::tattoo-artist-directory-dev-*/*\"],\"Sid\":\"AllowAccessToProjectBuckets\"}],\"Version\":\"2012-10-17\"}","resource_configuration_arn":null,"service_name":"com.amazonaws.eu-west-2.s3","service_network_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-s3-gateway-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-s3-gateway-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_endpoint_type":"Gateway"},"sensitive_values":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_vpc_endpoint.interface[\"ecr.api\"]","mode":"managed","type":"aws_vpc_endpoint","name":"interface","index":"ecr.api","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.eu-west-2.ecr.api","service_network_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecr-api-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecr-api-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_endpoint_type":"Interface"},"sensitive_values":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_vpc_endpoint.interface[\"ecr.dkr\"]","mode":"managed","type":"aws_vpc_endpoint","name":"interface","index":"ecr.dkr","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.eu-west-2.ecr.dkr","service_network_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecr-dkr-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecr-dkr-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_endpoint_type":"Interface"},"sensitive_values":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_vpc_endpoint.interface[\"es\"]","mode":"managed","type":"aws_vpc_endpoint","name":"interface","index":"es","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.eu-west-2.es","service_network_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-es-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-es-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_endpoint_type":"Interface"},"sensitive_values":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_vpc_endpoint.interface[\"logs\"]","mode":"managed","type":"aws_vpc_endpoint","name":"interface","index":"logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.eu-west-2.logs","service_network_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-logs-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-logs-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_endpoint_type":"Interface"},"sensitive_values":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_vpc_endpoint.interface[\"secretsmanager\"]","mode":"managed","type":"aws_vpc_endpoint","name":"interface","index":"secretsmanager","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.eu-west-2.secretsmanager","service_network_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-secretsmanager-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-secretsmanager-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_endpoint_type":"Interface"},"sensitive_values":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_vpc_endpoint.interface[\"sqs\"]","mode":"managed","type":"aws_vpc_endpoint","name":"interface","index":"sqs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.eu-west-2.sqs","service_network_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-sqs-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-sqs-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_endpoint_type":"Interface"},"sensitive_values":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_vpc_endpoint.interface[\"states\"]","mode":"managed","type":"aws_vpc_endpoint","name":"interface","index":"states","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.eu-west-2.states","service_network_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-states-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-states-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_endpoint_type":"Interface"},"sensitive_values":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.fargate_http_to_internet","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"fargate_http_to_internet","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":"Egress to Internet for web scraping (HTTP)","from_port":80,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":80},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.fargate_https_to_internet","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"fargate_https_to_internet","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":"Egress to Internet for web scraping (HTTPS)","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.fargate_to_vpc_endpoints","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"fargate_to_vpc_endpoints","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"Egress to VPC Endpoints","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.lambda_internet_https_to_internet","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"lambda_internet_https_to_internet","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":"Egress to Internet for web scraping functions","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.lambdas_to_opensearch[\"lambda_internal\"]","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"lambdas_to_opensearch","index":"lambda_internal","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"Egress to OpenSearch","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.lambdas_to_opensearch[\"lambda_internet\"]","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"lambdas_to_opensearch","index":"lambda_internet","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"Egress to OpenSearch","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.lambdas_to_vpc_endpoints[\"lambda_internal\"]","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"lambdas_to_vpc_endpoints","index":"lambda_internal","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"Egress to VPC Endpoints","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.lambdas_to_vpc_endpoints[\"lambda_internet\"]","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"lambdas_to_vpc_endpoints","index":"lambda_internet","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"Egress to VPC Endpoints","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.opensearch_from_lambdas[\"lambda_internal\"]","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"opensearch_from_lambdas","index":"lambda_internal","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"HTTPS from lambda_internal Lambda","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.opensearch_from_lambdas[\"lambda_internet\"]","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"opensearch_from_lambdas","index":"lambda_internet","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"HTTPS from lambda_internet Lambda","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.vpc_endpoints_from_fargate","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"vpc_endpoints_from_fargate","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"HTTPS from Fargate tasks","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.vpc_endpoints_from_lambdas[\"lambda_internal\"]","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"vpc_endpoints_from_lambdas","index":"lambda_internal","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"HTTPS from lambda_internal Lambda","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"sensitive_values":{"tags_all":{}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.vpc_endpoints_from_lambdas[\"lambda_internet\"]","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"vpc_endpoints_from_lambdas","index":"lambda_internet","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"HTTPS from lambda_internet Lambda","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"sensitive_values":{"tags_all":{}}}],"address":"module.networking"},{"resources":[{"address":"module.search.aws_cloudwatch_log_group.opensearch_audit","mode":"managed","type":"aws_cloudwatch_log_group","name":"opensearch_audit","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"/aws/opensearch/domains/tattoo-artist-directory-dev-search-audit","retention_in_days":14,"skip_destroy":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-audit-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-audit-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.search.aws_cloudwatch_log_group.opensearch_slow_index","mode":"managed","type":"aws_cloudwatch_log_group","name":"opensearch_slow_index","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"/aws/opensearch/domains/tattoo-artist-directory-dev-search-slow-index","retention_in_days":14,"skip_destroy":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-slow-index-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-slow-index-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.search.aws_cloudwatch_log_group.opensearch_slow_search","mode":"managed","type":"aws_cloudwatch_log_group","name":"opensearch_slow_search","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"name":"/aws/opensearch/domains/tattoo-artist-directory-dev-search-slow-search","retention_in_days":14,"skip_destroy":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-slow-search-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-slow-search-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.search.aws_iam_service_linked_role.opensearch","mode":"managed","type":"aws_iam_service_linked_role","name":"opensearch","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"aws_service_name":"opensearchserverless.amazonaws.com","custom_suffix":null,"description":"Service-linked role for OpenSearch","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-slr","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-slr","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.search.aws_opensearch_domain.main","mode":"managed","type":"aws_opensearch_domain","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_policies":"{\"Statement\":[{\"Action\":\"es:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::773595699997:root\"},\"Resource\":\"arn:aws:es:eu-west-2:773595699997:domain/tattoo-artist-directo-search/*\"}],\"Version\":\"2012-10-17\"}","advanced_security_options":[{"anonymous_auth_enabled":false,"enabled":true,"internal_user_database_enabled":true,"master_user_options":[{"master_user_arn":null,"master_user_name":"admin"}]}],"cluster_config":[{"dedicated_master_count":null,"dedicated_master_enabled":false,"dedicated_master_type":null,"instance_count":1,"instance_type":"t3.micro.search","multi_az_with_standby_enabled":null,"warm_count":null,"warm_enabled":null,"warm_type":null,"zone_awareness_config":[],"zone_awareness_enabled":false}],"cognito_options":[],"domain_endpoint_options":[{"custom_endpoint":null,"custom_endpoint_certificate_arn":null,"custom_endpoint_enabled":false,"enforce_https":true,"tls_security_policy":"Policy-Min-TLS-1-2-2019-07"}],"domain_name":"tattoo-artist-directo-search","ebs_options":[{"ebs_enabled":true,"iops":3000,"throughput":125,"volume_size":20,"volume_type":"gp3"}],"encrypt_at_rest":[{"enabled":true}],"engine_version":"OpenSearch_2.3","log_publishing_options":[{"enabled":false,"log_type":"INDEX_SLOW_LOGS"},{"enabled":false,"log_type":"SEARCH_SLOW_LOGS"},{"enabled":true,"log_type":"AUDIT_LOGS"}],"node_to_node_encryption":[{"enabled":true}],"snapshot_options":[],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_options":[{}]},"sensitive_values":{"advanced_options":{},"advanced_security_options":[{"master_user_options":[{"master_user_password":true}]}],"auto_tune_options":[],"cluster_config":[{"cold_storage_options":[],"node_options":[],"zone_awareness_config":[]}],"cognito_options":[],"domain_endpoint_options":[{}],"ebs_options":[{}],"encrypt_at_rest":[{}],"log_publishing_options":[{},{},{}],"node_to_node_encryption":[{}],"off_peak_window_options":[],"snapshot_options":[],"software_update_options":[],"tags":{},"tags_all":{},"vpc_options":[{"availability_zones":[],"security_group_ids":[],"subnet_ids":[]}]}},{"address":"module.search.aws_opensearch_domain_policy.main","mode":"managed","type":"aws_opensearch_domain_policy","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"domain_name":"tattoo-artist-directo-search","timeouts":null},"sensitive_values":{}}],"address":"module.search"},{"resources":[{"address":"module.security_monitoring.aws_cloudwatch_log_metric_filter.cloudtrail_security_alerts[0]","mode":"managed","type":"aws_cloudwatch_log_metric_filter","name":"cloudtrail_security_alerts","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"log_group_name":"/aws/cloudtrail/tattoo-artist-directory-dev","metric_transformation":[{"default_value":null,"dimensions":null,"name":"CloudTrailSecurityAlerts","namespace":"tattoo-artist-directory/Security","unit":"None","value":"1"}],"name":"tattoo-artist-directory-dev-cloudtrail-security-alerts","pattern":"{ ($.errorCode = \"*UnauthorizedOperation\") || ($.errorCode = \"AccessDenied*\") || ($.sourceIPAddress != \"AWS Internal\") }"},"sensitive_values":{"metric_transformation":[{}]}},{"address":"module.security_monitoring.aws_cloudwatch_metric_alarm.cloudtrail_errors[0]","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"cloudtrail_errors","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors CloudTrail log errors","alarm_name":"tattoo-artist-directory-dev-cloudtrail-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":null,"evaluation_periods":1,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"ErrorCount","metric_query":[],"namespace":"CloudWatchLogs","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"},"threshold":0,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.security_monitoring.aws_cloudwatch_metric_alarm.cloudtrail_security_alerts[0]","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"cloudtrail_security_alerts","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors security-related events in CloudTrail (e.g., Unauthorized)","alarm_name":"tattoo-artist-directory-dev-cloudtrail-security-alerts","comparison_operator":"GreaterThanOrEqualToThreshold","datapoints_to_alarm":null,"dimensions":null,"evaluation_periods":1,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"CloudTrailSecurityAlerts","metric_query":[],"namespace":"tattoo-artist-directory/Security","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail-security-alerts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail-security-alerts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"},"threshold":1,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.security_monitoring.aws_cloudwatch_metric_alarm.config_compliance[0]","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"config_compliance","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"actions_enabled":true,"alarm_description":"This metric monitors AWS Config compliance","alarm_name":"tattoo-artist-directory-dev-config-compliance","comparison_operator":"LessThanThreshold","datapoints_to_alarm":null,"dimensions":null,"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"ComplianceByConfigRule","metric_query":[],"namespace":"AWS/Config","ok_actions":null,"period":300,"statistic":"Average","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-compliance","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-compliance","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"},"threshold":1,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"sensitive_values":{"alarm_actions":[],"metric_query":[],"tags":{},"tags_all":{}}},{"address":"module.security_monitoring.aws_cloudwatch_query_definition.failed_logins[0]","mode":"managed","type":"aws_cloudwatch_query_definition","name":"failed_logins","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"log_group_names":["/aws/cloudtrail/tattoo-artist-directory-dev"],"name":"tattoo-artist-directory-dev-failed-logins","query_string":"fields @timestamp, @message, sourceIPAddress, userIdentity, errorCode, errorMessage\r\n| filter errorCode = \"SigninFailure\" or errorCode = \"InvalidUserID.NotFound\"\r\n| sort @timestamp desc\r\n| limit 100\r\n"},"sensitive_values":{"log_group_names":[false]}},{"address":"module.security_monitoring.aws_cloudwatch_query_definition.root_usage[0]","mode":"managed","type":"aws_cloudwatch_query_definition","name":"root_usage","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"log_group_names":["/aws/cloudtrail/tattoo-artist-directory-dev"],"name":"tattoo-artist-directory-dev-root-usage","query_string":"fields @timestamp, @message, sourceIPAddress, userIdentity, eventName\r\n| filter userIdentity.type = \"Root\"\r\n| sort @timestamp desc\r\n| limit 100\r\n"},"sensitive_values":{"log_group_names":[false]}},{"address":"module.security_monitoring.aws_cloudwatch_query_definition.security_events[0]","mode":"managed","type":"aws_cloudwatch_query_definition","name":"security_events","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"log_group_names":["/aws/cloudtrail/tattoo-artist-directory-dev"],"name":"tattoo-artist-directory-dev-security-events","query_string":"fields @timestamp, @message, sourceIPAddress, userIdentity.type, eventName\r\n| filter eventName like /Delete/ or eventName like /Create/ or eventName like /Put/\r\n| sort @timestamp desc\r\n| limit 100\r\n"},"sensitive_values":{"log_group_names":[false]}},{"address":"module.security_monitoring.aws_sns_topic.security_alerts","mode":"managed","type":"aws_sns_topic","name":"security_alerts","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"tattoo-artist-directory-dev-security-alerts","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-security-alerts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-security-alerts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.security_monitoring.aws_sns_topic_subscription.security_email[0]","mode":"managed","type":"aws_sns_topic_subscription","name":"security_email","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint":"joseph.white1208@gmail.com","endpoint_auto_confirms":false,"filter_policy":null,"protocol":"email","raw_message_delivery":false,"redrive_policy":null,"replay_policy":null,"subscription_role_arn":null},"sensitive_values":{}}],"address":"module.security_monitoring"}]}},"resource_changes":[{"address":"aws_iam_policy.github_actions_cicd","mode":"managed","type":"aws_iam_policy","name":"github_actions_cicd","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"tattoo-artist-directory-dev-github-actions-cicd-policy","path":"/cicd/","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"attachment_count":true,"id":true,"name_prefix":true,"policy":true,"policy_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"aws_iam_role_policy_attachment.github_actions_cicd","mode":"managed","type":"aws_iam_role_policy_attachment","name":"github_actions_cicd","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"GitHubActionsTerraformRole"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"aws_iam_user.security_analyst","mode":"managed","type":"aws_iam_user","name":"security_analyst","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"force_destroy":false,"name":"tattoo-artist-directory-dev-security-analyst","path":"/users/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-security-analyst","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-security-analyst","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"after_unknown":{"arn":true,"id":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_ssm_parameter.lambda_artifacts_bucket_name","mode":"managed","type":"aws_ssm_parameter","name":"lambda_artifacts_bucket_name","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"allowed_pattern":null,"description":"The name of the S3 bucket used to store Lambda deployment artifacts.","name":"/tattoo-artist-directory-dev/lambda-artifacts-bucket-name","overwrite":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-artifacts-bucket-name","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-artifacts-bucket-name","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"type":"SecureString","value_wo":null,"value_wo_version":null},"after_unknown":{"arn":true,"data_type":true,"has_value_wo":true,"id":true,"insecure_value":true,"key_id":true,"tags":{},"tags_all":{},"tier":true,"value":true,"version":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{},"value":true,"value_wo":true}}},{"address":"module.api.aws_apigatewayv2_api.main","module_address":"module.api","mode":"managed","type":"aws_apigatewayv2_api","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"api_key_selection_expression":"$request.header.x-api-key","body":null,"cors_configuration":[{"allow_credentials":false,"allow_headers":["authorization","content-type","x-amz-date","x-amz-security-token","x-amz-user-agent","x-api-key"],"allow_methods":["*"],"allow_origins":["http://localhost:3000","https://dev.yourapp.com"],"expose_headers":["date","keep-alive"],"max_age":86400}],"credentials_arn":null,"description":"HTTP API for tattoo-artist-directory","disable_execute_api_endpoint":null,"fail_on_warnings":null,"name":"tattoo-artist-directory-dev-api","protocol_type":"HTTP","route_key":null,"route_selection_expression":"$request.method $request.path","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"target":null,"version":null},"after_unknown":{"api_endpoint":true,"arn":true,"cors_configuration":[{"allow_headers":[false,false,false,false,false,false],"allow_methods":[false],"allow_origins":[false,false],"expose_headers":[false,false]}],"execution_arn":true,"id":true,"ip_address_type":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"cors_configuration":[{"allow_headers":[false,false,false,false,false,false],"allow_methods":[false],"allow_origins":[false,false],"expose_headers":[false,false]}],"tags":{},"tags_all":{}}}},{"address":"module.api.aws_apigatewayv2_integration.lambda","module_address":"module.api","mode":"managed","type":"aws_apigatewayv2_integration","name":"lambda","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"connection_id":null,"connection_type":"INTERNET","content_handling_strategy":null,"credentials_arn":null,"description":null,"integration_method":"POST","integration_subtype":null,"integration_type":"AWS_PROXY","passthrough_behavior":null,"payload_format_version":"1.0","request_parameters":null,"request_templates":null,"response_parameters":[],"template_selection_expression":null,"timeout_milliseconds":30000,"tls_config":[]},"after_unknown":{"api_id":true,"id":true,"integration_response_selection_expression":true,"integration_uri":true,"response_parameters":[],"tls_config":[]},"before_sensitive":false,"after_sensitive":{"response_parameters":[],"tls_config":[]}}},{"address":"module.api.aws_apigatewayv2_route.artist_by_id","module_address":"module.api","mode":"managed","type":"aws_apigatewayv2_route","name":"artist_by_id","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"api_key_required":false,"authorization_scopes":null,"authorization_type":"NONE","authorizer_id":null,"model_selection_expression":null,"operation_name":null,"request_models":null,"request_parameter":[],"route_key":"GET /artists/{id}","route_response_selection_expression":null},"after_unknown":{"api_id":true,"id":true,"request_parameter":[],"target":true},"before_sensitive":false,"after_sensitive":{"request_parameter":[]}}},{"address":"module.api.aws_apigatewayv2_route.artists","module_address":"module.api","mode":"managed","type":"aws_apigatewayv2_route","name":"artists","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"api_key_required":false,"authorization_scopes":null,"authorization_type":"NONE","authorizer_id":null,"model_selection_expression":null,"operation_name":null,"request_models":null,"request_parameter":[],"route_key":"GET /artists","route_response_selection_expression":null},"after_unknown":{"api_id":true,"id":true,"request_parameter":[],"target":true},"before_sensitive":false,"after_sensitive":{"request_parameter":[]}}},{"address":"module.api.aws_apigatewayv2_route.health","module_address":"module.api","mode":"managed","type":"aws_apigatewayv2_route","name":"health","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"api_key_required":false,"authorization_scopes":null,"authorization_type":"NONE","authorizer_id":null,"model_selection_expression":null,"operation_name":null,"request_models":null,"request_parameter":[],"route_key":"GET /health","route_response_selection_expression":null},"after_unknown":{"api_id":true,"id":true,"request_parameter":[],"target":true},"before_sensitive":false,"after_sensitive":{"request_parameter":[]}}},{"address":"module.api.aws_apigatewayv2_route.proxy","module_address":"module.api","mode":"managed","type":"aws_apigatewayv2_route","name":"proxy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"api_key_required":false,"authorization_scopes":null,"authorization_type":"AWS_IAM","authorizer_id":null,"model_selection_expression":null,"operation_name":null,"request_models":null,"request_parameter":[],"route_key":"ANY /{proxy+}","route_response_selection_expression":null},"after_unknown":{"api_id":true,"id":true,"request_parameter":[],"target":true},"before_sensitive":false,"after_sensitive":{"request_parameter":[]}}},{"address":"module.api.aws_apigatewayv2_route.search","module_address":"module.api","mode":"managed","type":"aws_apigatewayv2_route","name":"search","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"api_key_required":false,"authorization_scopes":null,"authorization_type":"NONE","authorizer_id":null,"model_selection_expression":null,"operation_name":null,"request_models":null,"request_parameter":[],"route_key":"GET /search","route_response_selection_expression":null},"after_unknown":{"api_id":true,"id":true,"request_parameter":[],"target":true},"before_sensitive":false,"after_sensitive":{"request_parameter":[]}}},{"address":"module.api.aws_apigatewayv2_stage.main","module_address":"module.api","mode":"managed","type":"aws_apigatewayv2_stage","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"access_log_settings":[{"format":"{\"errorMessage\":\"$context.error.message\",\"errorType\":\"$context.error.messageString\",\"httpMethod\":\"$context.httpMethod\",\"ip\":\"$context.identity.sourceIp\",\"protocol\":\"$context.protocol\",\"requestId\":\"$context.requestId\",\"requestTime\":\"$context.requestTime\",\"responseLength\":\"$context.responseLength\",\"routeKey\":\"$context.routeKey\",\"status\":\"$context.status\"}"}],"auto_deploy":true,"client_certificate_id":null,"default_route_settings":[{"data_trace_enabled":false,"detailed_metrics_enabled":false,"throttling_burst_limit":100,"throttling_rate_limit":50}],"description":null,"name":"dev","route_settings":[],"stage_variables":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-stage","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-stage","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"access_log_settings":[{"destination_arn":true}],"api_id":true,"arn":true,"default_route_settings":[{"logging_level":true}],"deployment_id":true,"execution_arn":true,"id":true,"invoke_url":true,"route_settings":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"access_log_settings":[{}],"default_route_settings":[{}],"route_settings":[],"tags":{},"tags_all":{}}}},{"address":"module.api.aws_lambda_permission.api_gateway","module_address":"module.api","mode":"managed","type":"aws_lambda_permission","name":"api_gateway","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"tattoo-artist-directory-dev-api-handler","function_url_auth_type":null,"principal":"apigateway.amazonaws.com","principal_org_id":null,"qualifier":null,"source_account":null,"statement_id":"AllowExecutionFromAPIGateway"},"after_unknown":{"id":true,"source_arn":true,"statement_id_prefix":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.app_monitoring.aws_cloudwatch_dashboard.main","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_dashboard","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"dashboard_name":"tattoo-artist-directory-dev-overview"},"after_unknown":{"dashboard_arn":true,"dashboard_body":true,"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.api_gateway_4xx_errors","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"api_gateway_4xx_errors","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors API Gateway 4XX errors","alarm_name":"tattoo-artist-directory-dev-api-4xx-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"4XXError","metric_query":[],"namespace":"AWS/ApiGatewayV2","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-4xx-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-4xx-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":10,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":true,"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.api_gateway_5xx_errors","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"api_gateway_5xx_errors","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors API Gateway 5XX errors","alarm_name":"tattoo-artist-directory-dev-api-5xx-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"5XXError","metric_query":[],"namespace":"AWS/ApiGatewayV2","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-5xx-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-5xx-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":5,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":true,"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.api_gateway_latency","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"api_gateway_latency","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors API Gateway latency","alarm_name":"tattoo-artist-directory-dev-api-latency","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"IntegrationLatency","metric_query":[],"namespace":"AWS/ApiGatewayV2","ok_actions":null,"period":300,"statistic":"Average","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-latency","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-latency","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":5000,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":true,"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.dynamodb_errors","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"dynamodb_errors","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors DynamoDB system errors","alarm_name":"tattoo-artist-directory-dev-dynamodb-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"TableName":"tattoo-artist-directory-dev-main"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"SystemErrors","metric_query":[],"namespace":"AWS/DynamoDB","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-dynamodb-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-dynamodb-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":0,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":{},"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.dynamodb_throttles","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"dynamodb_throttles","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors DynamoDB throttled requests","alarm_name":"tattoo-artist-directory-dev-dynamodb-throttles","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"TableName":"tattoo-artist-directory-dev-main"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"ThrottledRequests","metric_query":[],"namespace":"AWS/DynamoDB","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-dynamodb-throttles","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-dynamodb-throttles","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":0,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":{},"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_duration[\"api_handler\"]","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_duration","index":"api_handler","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function api_handler duration","alarm_name":"tattoo-artist-directory-dev-lambda-api_handler-duration","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-api-handler"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Duration","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Average","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-api_handler-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-api_handler-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":25000,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":{},"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_duration[\"discover_studios\"]","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_duration","index":"discover_studios","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function discover_studios duration","alarm_name":"tattoo-artist-directory-dev-lambda-discover_studios-duration","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-discover-studios"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Duration","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Average","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-discover_studios-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-discover_studios-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":25000,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":{},"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_duration[\"dynamodb_sync\"]","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_duration","index":"dynamodb_sync","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function dynamodb_sync duration","alarm_name":"tattoo-artist-directory-dev-lambda-dynamodb_sync-duration","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-dynamodb-sync"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Duration","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Average","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-dynamodb_sync-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-dynamodb_sync-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":25000,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":{},"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_duration[\"find_artists\"]","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_duration","index":"find_artists","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function find_artists duration","alarm_name":"tattoo-artist-directory-dev-lambda-find_artists-duration","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-find-artists"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Duration","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Average","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-find_artists-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-find_artists-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":25000,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":{},"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_duration[\"queue_scraping\"]","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_duration","index":"queue_scraping","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function queue_scraping duration","alarm_name":"tattoo-artist-directory-dev-lambda-queue_scraping-duration","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-queue-scraping"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Duration","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Average","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-queue_scraping-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-queue_scraping-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":25000,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":{},"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_duration[\"rotate_nat_gateway_eip\"]","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_duration","index":"rotate_nat_gateway_eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function rotate_nat_gateway_eip duration","alarm_name":"tattoo-artist-directory-dev-lambda-rotate_nat_gateway_eip-duration","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-rotate-eip"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Duration","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Average","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-rotate_nat_gateway_eip-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-rotate_nat_gateway_eip-duration","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":25000,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":{},"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_errors[\"api_handler\"]","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_errors","index":"api_handler","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function api_handler errors","alarm_name":"tattoo-artist-directory-dev-lambda-api_handler-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-api-handler"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-api_handler-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-api_handler-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":5,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":{},"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_errors[\"discover_studios\"]","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_errors","index":"discover_studios","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function discover_studios errors","alarm_name":"tattoo-artist-directory-dev-lambda-discover_studios-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-discover-studios"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-discover_studios-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-discover_studios-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":5,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":{},"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_errors[\"dynamodb_sync\"]","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_errors","index":"dynamodb_sync","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function dynamodb_sync errors","alarm_name":"tattoo-artist-directory-dev-lambda-dynamodb_sync-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-dynamodb-sync"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-dynamodb_sync-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-dynamodb_sync-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":5,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":{},"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_errors[\"find_artists\"]","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_errors","index":"find_artists","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function find_artists errors","alarm_name":"tattoo-artist-directory-dev-lambda-find_artists-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-find-artists"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-find_artists-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-find_artists-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":5,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":{},"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_errors[\"queue_scraping\"]","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_errors","index":"queue_scraping","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function queue_scraping errors","alarm_name":"tattoo-artist-directory-dev-lambda-queue_scraping-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-queue-scraping"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-queue_scraping-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-queue_scraping-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":5,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":{},"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_errors[\"rotate_nat_gateway_eip\"]","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_errors","index":"rotate_nat_gateway_eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors Lambda function rotate_nat_gateway_eip errors","alarm_name":"tattoo-artist-directory-dev-lambda-rotate_nat_gateway_eip-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"FunctionName":"tattoo-artist-directory-dev-rotate-eip"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"Errors","metric_query":[],"namespace":"AWS/Lambda","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-rotate_nat_gateway_eip-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-rotate_nat_gateway_eip-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":5,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":{},"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.opensearch_cluster_status","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"opensearch_cluster_status","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors OpenSearch cluster status","alarm_name":"tattoo-artist-directory-dev-opensearch-cluster-status","comparison_operator":"LessThanThreshold","datapoints_to_alarm":null,"dimensions":{"ClientId":"773595699997","DomainName":"tattoo-artist-directo-search"},"evaluation_periods":1,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"ClusterStatus.green","metric_query":[],"namespace":"AWS/ES","ok_actions":null,"period":60,"statistic":"Maximum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-cluster-status","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-cluster-status","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":1,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":{},"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_cloudwatch_metric_alarm.opensearch_cpu_utilization","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"opensearch_cpu_utilization","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors OpenSearch CPU utilization","alarm_name":"tattoo-artist-directory-dev-opensearch-cpu","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":{"ClientId":"773595699997","DomainName":"tattoo-artist-directo-search"},"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"CPUUtilization","metric_query":[],"namespace":"AWS/ES","ok_actions":null,"period":300,"statistic":"Average","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-cpu","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-cpu","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"threshold":80,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"dimensions":{},"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"dimensions":{},"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_cloudwatch_query_definition.api_errors","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_query_definition","name":"api_errors","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"log_group_names":["/aws/apigateway/tattoo-artist-directory-dev-api"],"name":"tattoo-artist-directory-dev-api-errors","query_string":"fields @timestamp, @message, status, errorMessage, errorType\r\n| filter status \u003e= 400\r\n| sort @timestamp desc\r\n| limit 100\r\n"},"after_unknown":{"id":true,"log_group_names":[false],"query_definition_id":true},"before_sensitive":false,"after_sensitive":{"log_group_names":[false]}}},{"address":"module.app_monitoring.aws_cloudwatch_query_definition.lambda_errors","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_query_definition","name":"lambda_errors","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"log_group_names":[],"name":"tattoo-artist-directory-dev-lambda-errors","query_string":"fields @timestamp, @message, @requestId\r\n| filter @message like /ERROR/\r\n| sort @timestamp desc\r\n| limit 100\r\n"},"after_unknown":{"id":true,"log_group_names":[],"query_definition_id":true},"before_sensitive":false,"after_sensitive":{"log_group_names":[]}}},{"address":"module.app_monitoring.aws_cloudwatch_query_definition.performance_analysis","module_address":"module.app_monitoring","mode":"managed","type":"aws_cloudwatch_query_definition","name":"performance_analysis","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"log_group_names":["/aws/apigateway/tattoo-artist-directory-dev-api"],"name":"tattoo-artist-directory-dev-performance-analysis","query_string":"fields @timestamp, responseLength, requestTime, httpMethod, routeKey\r\n| filter responseLength \u003e 1000000 or requestTime \u003e 5000\r\n| sort @timestamp desc\r\n| limit 50\r\n"},"after_unknown":{"id":true,"log_group_names":[false],"query_definition_id":true},"before_sensitive":false,"after_sensitive":{"log_group_names":[false]}}},{"address":"module.app_monitoring.aws_sns_topic.critical_alerts","module_address":"module.app_monitoring","mode":"managed","type":"aws_sns_topic","name":"critical_alerts","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"tattoo-artist-directory-dev-critical-alerts","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-critical-alerts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-critical-alerts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"beginning_archive_time":true,"fifo_throughput_scope":true,"id":true,"kms_master_key_id":true,"name_prefix":true,"owner":true,"policy":true,"signature_version":true,"tags":{},"tags_all":{},"tracing_config":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_sns_topic.warning_alerts","module_address":"module.app_monitoring","mode":"managed","type":"aws_sns_topic","name":"warning_alerts","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"tattoo-artist-directory-dev-warning-alerts","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-warning-alerts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-warning-alerts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"beginning_archive_time":true,"fifo_throughput_scope":true,"id":true,"kms_master_key_id":true,"name_prefix":true,"owner":true,"policy":true,"signature_version":true,"tags":{},"tags_all":{},"tracing_config":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.app_monitoring.aws_sns_topic_subscription.critical_email[0]","module_address":"module.app_monitoring","mode":"managed","type":"aws_sns_topic_subscription","name":"critical_email","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint":"joseph.white1208@gmail.com","endpoint_auto_confirms":false,"filter_policy":null,"protocol":"email","raw_message_delivery":false,"redrive_policy":null,"replay_policy":null,"subscription_role_arn":null},"after_unknown":{"arn":true,"confirmation_was_authenticated":true,"filter_policy_scope":true,"id":true,"owner_id":true,"pending_confirmation":true,"topic_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.app_monitoring.aws_sns_topic_subscription.warning_email[0]","module_address":"module.app_monitoring","mode":"managed","type":"aws_sns_topic_subscription","name":"warning_email","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint":"joseph.white1208@gmail.com","endpoint_auto_confirms":false,"filter_policy":null,"protocol":"email","raw_message_delivery":false,"redrive_policy":null,"replay_policy":null,"subscription_role_arn":null},"after_unknown":{"arn":true,"confirmation_was_authenticated":true,"filter_policy_scope":true,"id":true,"owner_id":true,"pending_confirmation":true,"topic_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.app_security.aws_secretsmanager_secret.app_secrets","module_address":"module.app_security","mode":"managed","type":"aws_secretsmanager_secret","name":"app_secrets","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Application secrets for tattoo-artist-directory","force_overwrite_replica_secret":false,"name":"tattoo-artist-directory-dev-app-secrets","recovery_window_in_days":0,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-app-secrets","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-app-secrets","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"id":true,"kms_key_id":true,"name_prefix":true,"policy":true,"replica":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"replica":[],"tags":{},"tags_all":{}}}},{"address":"module.app_security.aws_secretsmanager_secret.opensearch_master","module_address":"module.app_security","mode":"managed","type":"aws_secretsmanager_secret","name":"opensearch_master","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"OpenSearch master user credentials","force_overwrite_replica_secret":false,"name":"tattoo-artist-directory-dev-opensearch-master","recovery_window_in_days":0,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-master","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-master","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"id":true,"kms_key_id":true,"name_prefix":true,"policy":true,"replica":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"replica":[],"tags":{},"tags_all":{}}}},{"address":"module.app_security.aws_secretsmanager_secret_version.app_secrets","module_address":"module.app_security","mode":"managed","type":"aws_secretsmanager_secret_version","name":"app_secrets","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"secret_binary":null,"secret_string_wo":null,"secret_string_wo_version":null},"after_unknown":{"arn":true,"has_secret_string_wo":true,"id":true,"secret_id":true,"secret_string":true,"version_id":true,"version_stages":true},"before_sensitive":false,"after_sensitive":{"secret_binary":true,"secret_string":true,"secret_string_wo":true,"version_stages":[]}}},{"address":"module.app_security.aws_secretsmanager_secret_version.opensearch_master","module_address":"module.app_security","mode":"managed","type":"aws_secretsmanager_secret_version","name":"opensearch_master","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"secret_binary":null,"secret_string_wo":null,"secret_string_wo_version":null},"after_unknown":{"arn":true,"has_secret_string_wo":true,"id":true,"secret_id":true,"secret_string":true,"version_id":true,"version_stages":true},"before_sensitive":false,"after_sensitive":{"secret_binary":true,"secret_string":true,"secret_string_wo":true,"version_stages":[]}}},{"address":"module.app_security.aws_wafv2_web_acl.enhanced_frontend","module_address":"module.app_security","mode":"managed","type":"aws_wafv2_web_acl","name":"enhanced_frontend","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"association_config":[],"captcha_config":[],"challenge_config":[],"custom_response_body":[],"data_protection_config":[],"default_action":[{"allow":[{"custom_request_handling":[]}],"block":[]}],"description":null,"name":"tattoo-artist-directory-dev-enhanced-frontend-waf","rule":[{"action":[{"allow":[],"block":[{"custom_response":[]}],"captcha":[],"challenge":[],"count":[]}],"captcha_config":[],"challenge_config":[],"name":"APIRateLimitRule","override_action":[],"priority":6,"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[],"not_statement":[],"or_statement":[],"rate_based_statement":[{"aggregate_key_type":"IP","custom_key":[],"evaluation_window_sec":300,"forwarded_ip_config":[],"limit":500,"scope_down_statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[{"field_to_match":[{"all_query_arguments":[],"body":[],"cookies":[],"header_order":[],"headers":[],"ja3_fingerprint":[],"ja4_fingerprint":[],"json_body":[],"method":[],"query_string":[],"single_header":[],"single_query_argument":[],"uri_fragment":[],"uri_path":[{}]}],"positional_constraint":"STARTS_WITH","search_string":"/v1/artists","text_transformation":[{"priority":0,"type":"NONE"}]}],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"not_statement":[],"or_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}]}],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"APIRateLimitRuleMetric","sampled_requests_enabled":true}]},{"action":[{"allow":[],"block":[{"custom_response":[]}],"captcha":[],"challenge":[],"count":[]}],"captcha_config":[],"challenge_config":[],"name":"GeneralRateLimitRule","override_action":[],"priority":7,"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[],"not_statement":[],"or_statement":[],"rate_based_statement":[{"aggregate_key_type":"IP","custom_key":[],"evaluation_window_sec":300,"forwarded_ip_config":[],"limit":2000,"scope_down_statement":[]}],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"GeneralRateLimit","sampled_requests_enabled":true}]},{"action":[],"captcha_config":[],"challenge_config":[],"name":"AWSManagedRulesAmazonIpReputationList","override_action":[{"count":[],"none":[{}]}],"priority":5,"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"name":"AWSManagedRulesAmazonIpReputationList","rule_action_override":[],"scope_down_statement":[],"vendor_name":"AWS","version":""}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"AmazonIpReputationListMetric","sampled_requests_enabled":true}]},{"action":[],"captcha_config":[],"challenge_config":[],"name":"AWSManagedRulesAnonymousIpListRuleSet","override_action":[{"count":[],"none":[{}]}],"priority":3,"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"name":"AWSManagedRulesAnonymousIpListRuleSet","rule_action_override":[],"scope_down_statement":[],"vendor_name":"AWS","version":""}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"AnonymousIpListRuleSetMetric","sampled_requests_enabled":true}]},{"action":[],"captcha_config":[],"challenge_config":[],"name":"AWSManagedRulesCommonRuleSet","override_action":[{"count":[],"none":[{}]}],"priority":1,"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"name":"AWSManagedRulesCommonRuleSet","rule_action_override":[],"scope_down_statement":[],"vendor_name":"AWS","version":""}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"CommonRuleSetMetric","sampled_requests_enabled":true}]},{"action":[],"captcha_config":[],"challenge_config":[],"name":"AWSManagedRulesKnownBadInputsRuleSet","override_action":[{"count":[],"none":[{}]}],"priority":2,"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"name":"AWSManagedRulesKnownBadInputsRuleSet","rule_action_override":[],"scope_down_statement":[],"vendor_name":"AWS","version":""}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"KnownBadInputsRuleSetMetric","sampled_requests_enabled":true}]},{"action":[],"captcha_config":[],"challenge_config":[],"name":"AWSManagedRulesUnixRuleSet","override_action":[{"count":[],"none":[{}]}],"priority":4,"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"name":"AWSManagedRulesUnixRuleSet","rule_action_override":[],"scope_down_statement":[],"vendor_name":"AWS","version":""}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"UnixRuleSetMetric","sampled_requests_enabled":true}]}],"rule_json":null,"scope":"CLOUDFRONT","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-enhanced-frontend-waf","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-enhanced-frontend-waf","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"token_domains":null,"visibility_config":[{"cloudwatch_metrics_enabled":true,"metric_name":"tattoo-artist-directory-dev-EnhancedWAF","sampled_requests_enabled":true}]},"after_unknown":{"application_integration_url":true,"arn":true,"association_config":[],"capacity":true,"captcha_config":[],"challenge_config":[],"custom_response_body":[],"data_protection_config":[],"default_action":[{"allow":[{"custom_request_handling":[]}],"block":[]}],"id":true,"lock_token":true,"name_prefix":true,"rule":[{"action":[{"allow":[],"block":[{"custom_response":[]}],"captcha":[],"challenge":[],"count":[]}],"captcha_config":[],"challenge_config":[],"override_action":[],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[],"not_statement":[],"or_statement":[],"rate_based_statement":[{"custom_key":[],"forwarded_ip_config":[],"scope_down_statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[{"field_to_match":[{"all_query_arguments":[],"body":[],"cookies":[],"header_order":[],"headers":[],"ja3_fingerprint":[],"ja4_fingerprint":[],"json_body":[],"method":[],"query_string":[],"single_header":[],"single_query_argument":[],"uri_fragment":[],"uri_path":[{}]}],"text_transformation":[{}]}],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"not_statement":[],"or_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}]}],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]},{"action":[{"allow":[],"block":[{"custom_response":[]}],"captcha":[],"challenge":[],"count":[]}],"captcha_config":[],"challenge_config":[],"override_action":[],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[],"not_statement":[],"or_statement":[],"rate_based_statement":[{"custom_key":[],"forwarded_ip_config":[],"scope_down_statement":[]}],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]},{"action":[],"captcha_config":[],"challenge_config":[],"override_action":[{"count":[],"none":[{}]}],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"rule_action_override":[],"scope_down_statement":[]}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]},{"action":[],"captcha_config":[],"challenge_config":[],"override_action":[{"count":[],"none":[{}]}],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"rule_action_override":[],"scope_down_statement":[]}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]},{"action":[],"captcha_config":[],"challenge_config":[],"override_action":[{"count":[],"none":[{}]}],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"rule_action_override":[],"scope_down_statement":[]}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]},{"action":[],"captcha_config":[],"challenge_config":[],"override_action":[{"count":[],"none":[{}]}],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"rule_action_override":[],"scope_down_statement":[]}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]},{"action":[],"captcha_config":[],"challenge_config":[],"override_action":[{"count":[],"none":[{}]}],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"rule_action_override":[],"scope_down_statement":[]}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]}],"tags":{},"tags_all":{},"visibility_config":[{}]},"before_sensitive":false,"after_sensitive":{"association_config":[],"captcha_config":[],"challenge_config":[],"custom_response_body":[],"data_protection_config":[],"default_action":[{"allow":[{"custom_request_handling":[]}],"block":[]}],"rule":[{"action":[{"allow":[],"block":[{"custom_response":[]}],"captcha":[],"challenge":[],"count":[]}],"captcha_config":[],"challenge_config":[],"override_action":[],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[],"not_statement":[],"or_statement":[],"rate_based_statement":[{"custom_key":[],"forwarded_ip_config":[],"scope_down_statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[{"field_to_match":[{"all_query_arguments":[],"body":[],"cookies":[],"header_order":[],"headers":[],"ja3_fingerprint":[],"ja4_fingerprint":[],"json_body":[],"method":[],"query_string":[],"single_header":[],"single_query_argument":[],"uri_fragment":[],"uri_path":[{}]}],"text_transformation":[{}]}],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"not_statement":[],"or_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}]}],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]},{"action":[{"allow":[],"block":[{"custom_response":[]}],"captcha":[],"challenge":[],"count":[]}],"captcha_config":[],"challenge_config":[],"override_action":[],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[],"not_statement":[],"or_statement":[],"rate_based_statement":[{"custom_key":[],"forwarded_ip_config":[],"scope_down_statement":[]}],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]},{"action":[],"captcha_config":[],"challenge_config":[],"override_action":[{"count":[],"none":[{}]}],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"rule_action_override":[],"scope_down_statement":[]}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]},{"action":[],"captcha_config":[],"challenge_config":[],"override_action":[{"count":[],"none":[{}]}],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"rule_action_override":[],"scope_down_statement":[]}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]},{"action":[],"captcha_config":[],"challenge_config":[],"override_action":[{"count":[],"none":[{}]}],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"rule_action_override":[],"scope_down_statement":[]}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]},{"action":[],"captcha_config":[],"challenge_config":[],"override_action":[{"count":[],"none":[{}]}],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"rule_action_override":[],"scope_down_statement":[]}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]},{"action":[],"captcha_config":[],"challenge_config":[],"override_action":[{"count":[],"none":[{}]}],"rule_label":[],"statement":[{"and_statement":[],"asn_match_statement":[],"byte_match_statement":[],"geo_match_statement":[],"ip_set_reference_statement":[],"label_match_statement":[],"managed_rule_group_statement":[{"managed_rule_group_configs":[],"rule_action_override":[],"scope_down_statement":[]}],"not_statement":[],"or_statement":[],"rate_based_statement":[],"regex_match_statement":[],"regex_pattern_set_reference_statement":[],"rule_group_reference_statement":[],"size_constraint_statement":[],"sqli_match_statement":[],"xss_match_statement":[]}],"visibility_config":[{}]}],"tags":{},"tags_all":{},"visibility_config":[{}]}}},{"address":"module.app_security.aws_wafv2_web_acl_logging_configuration.enhanced_frontend","module_address":"module.app_security","mode":"managed","type":"aws_wafv2_web_acl_logging_configuration","name":"enhanced_frontend","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"logging_filter":[],"redacted_fields":[{"method":[],"query_string":[],"single_header":[{"name":"authorization"}],"uri_path":[]},{"method":[],"query_string":[],"single_header":[{"name":"cookie"}],"uri_path":[]}]},"after_unknown":{"id":true,"log_destination_configs":true,"logging_filter":[],"redacted_fields":[{"method":[],"query_string":[],"single_header":[{}],"uri_path":[]},{"method":[],"query_string":[],"single_header":[{}],"uri_path":[]}],"resource_arn":true},"before_sensitive":false,"after_sensitive":{"log_destination_configs":[],"logging_filter":[],"redacted_fields":[{"method":[],"query_string":[],"single_header":[{}],"uri_path":[]},{"method":[],"query_string":[],"single_header":[{}],"uri_path":[]}]}}},{"address":"module.app_storage.data.aws_iam_policy_document.frontend_bucket_policy[\"frontend\"]","module_address":"module.app_storage","mode":"data","type":"aws_iam_policy_document","name":"frontend_bucket_policy","index":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["s3:GetObject"],"condition":[{"test":"StringEquals","values":["arn:aws:cloudfront::773595699997:distribution/*"],"variable":"aws:SourceArn"}],"effect":null,"not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":["cloudfront.amazonaws.com"],"type":"Service"}],"resources":[null],"sid":"AllowCloudFrontServicePrincipal"},{"actions":["s3:*"],"condition":[{"test":"Bool","values":["false"],"variable":"aws:SecureTransport"}],"effect":"Deny","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":["*"],"type":"AWS"}],"resources":[null,null],"sid":"DenyInsecureTransport"}],"version":null},"after_unknown":{"id":true,"json":true,"minified_json":true,"statement":[{"actions":[false],"condition":[{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[true]},{"actions":[false],"condition":[{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[true,true]}]},"before_sensitive":false,"after_sensitive":{"statement":[{"actions":[false],"condition":[{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[false]},{"actions":[false],"condition":[{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[false,false]}]}},"action_reason":"read_because_config_unknown"},{"address":"module.app_storage.data.aws_iam_policy_document.frontend_bucket_policy[\"frontend_backup\"]","module_address":"module.app_storage","mode":"data","type":"aws_iam_policy_document","name":"frontend_bucket_policy","index":"frontend_backup","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["s3:GetObject"],"condition":[{"test":"StringEquals","values":["arn:aws:cloudfront::773595699997:distribution/*"],"variable":"aws:SourceArn"}],"effect":null,"not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":["cloudfront.amazonaws.com"],"type":"Service"}],"resources":[null],"sid":"AllowCloudFrontServicePrincipal"},{"actions":["s3:*"],"condition":[{"test":"Bool","values":["false"],"variable":"aws:SecureTransport"}],"effect":"Deny","not_actions":null,"not_principals":[],"not_resources":null,"principals":[{"identifiers":["*"],"type":"AWS"}],"resources":[null,null],"sid":"DenyInsecureTransport"}],"version":null},"after_unknown":{"id":true,"json":true,"minified_json":true,"statement":[{"actions":[false],"condition":[{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[true]},{"actions":[false],"condition":[{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[true,true]}]},"before_sensitive":false,"after_sensitive":{"statement":[{"actions":[false],"condition":[{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[false]},{"actions":[false],"condition":[{"values":[false]}],"not_principals":[],"principals":[{"identifiers":[false]}],"resources":[false,false]}]}},"action_reason":"read_because_config_unknown"},{"address":"module.app_storage.aws_dynamodb_table.denylist","module_address":"module.app_storage","mode":"managed","type":"aws_dynamodb_table","name":"denylist","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"attribute":[{"name":"id","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"id","import_table":[],"local_secondary_index":[],"name":"tattoo-artist-directory-dev-denylist","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false}],"range_key":null,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[{"enabled":true}],"stream_enabled":null,"table_class":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-denylist-table","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-denylist-table","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"after_unknown":{"arn":true,"attribute":[{}],"global_secondary_index":[],"id":true,"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{"recovery_period_in_days":true}],"read_capacity":true,"replica":[],"server_side_encryption":[{"kms_key_arn":true}],"stream_arn":true,"stream_label":true,"stream_view_type":true,"tags":{},"tags_all":{},"ttl":true,"write_capacity":true},"before_sensitive":false,"after_sensitive":{"attribute":[{}],"global_secondary_index":[],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{}],"replica":[],"server_side_encryption":[{}],"tags":{},"tags_all":{},"ttl":[]}}},{"address":"module.app_storage.aws_dynamodb_table.idempotency","module_address":"module.app_storage","mode":"managed","type":"aws_dynamodb_table","name":"idempotency","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"attribute":[{"name":"id","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"id","import_table":[],"local_secondary_index":[],"name":"tattoo-artist-directory-dev-idempotency","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":true}],"range_key":null,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[{"enabled":true}],"stream_enabled":null,"table_class":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-idempotency-table","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-idempotency-table","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"ttl":[{"attribute_name":"expiry","enabled":true}]},"after_unknown":{"arn":true,"attribute":[{}],"global_secondary_index":[],"id":true,"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{"recovery_period_in_days":true}],"read_capacity":true,"replica":[],"server_side_encryption":[{"kms_key_arn":true}],"stream_arn":true,"stream_label":true,"stream_view_type":true,"tags":{},"tags_all":{},"ttl":[{}],"write_capacity":true},"before_sensitive":false,"after_sensitive":{"attribute":[{}],"global_secondary_index":[],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{}],"replica":[],"server_side_encryption":[{}],"tags":{},"tags_all":{},"ttl":[{}]}}},{"address":"module.app_storage.aws_dynamodb_table.main","module_address":"module.app_storage","mode":"managed","type":"aws_dynamodb_table","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"attribute":[{"name":"GSI1PK","type":"S"},{"name":"GSI1SK","type":"S"},{"name":"PK","type":"S"},{"name":"SK","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[{"hash_key":"GSI1PK","name":"GSI1","non_key_attributes":[],"on_demand_throughput":[],"projection_type":"ALL","range_key":"GSI1SK"}],"hash_key":"PK","import_table":[],"local_secondary_index":[],"name":"tattoo-artist-directory-dev-main","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false}],"range_key":"SK","replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[{"enabled":true}],"stream_enabled":true,"stream_view_type":"NEW_AND_OLD_IMAGES","table_class":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-main-table","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-main-table","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"after_unknown":{"arn":true,"attribute":[{},{},{},{}],"global_secondary_index":[{"non_key_attributes":[],"on_demand_throughput":[],"read_capacity":true,"write_capacity":true}],"id":true,"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{"recovery_period_in_days":true}],"read_capacity":true,"replica":[],"server_side_encryption":[{"kms_key_arn":true}],"stream_arn":true,"stream_label":true,"tags":{},"tags_all":{},"ttl":true,"write_capacity":true},"before_sensitive":false,"after_sensitive":{"attribute":[{},{},{},{}],"global_secondary_index":[{"non_key_attributes":[],"on_demand_throughput":[]}],"import_table":[],"local_secondary_index":[],"on_demand_throughput":[],"point_in_time_recovery":[{}],"replica":[],"server_side_encryption":[{}],"tags":{},"tags_all":{},"ttl":[]}}},{"address":"module.app_storage.aws_s3_bucket.main[\"frontend\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket","name":"main","index":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"force_destroy":true,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"Frontend static assets","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-frontend","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"Frontend static assets","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-frontend","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"region":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags":{},"tags_all":{},"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}}},{"address":"module.app_storage.aws_s3_bucket.main[\"frontend_backup\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket","name":"main","index":"frontend_backup","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"force_destroy":true,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"Frontend backup static assets","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-frontend_backup","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"Frontend backup static assets","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-frontend_backup","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"region":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags":{},"tags_all":{},"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}}},{"address":"module.app_storage.aws_s3_bucket.main[\"lambda_artifacts\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket","name":"main","index":"lambda_artifacts","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"force_destroy":true,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"Lambda deployment packages","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda_artifacts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"Lambda deployment packages","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda_artifacts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"region":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags":{},"tags_all":{},"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}}},{"address":"module.app_storage.aws_s3_bucket_lifecycle_configuration.main[\"frontend\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"main","index":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"rule":[{"abort_incomplete_multipart_upload":[{"days_after_initiation":7}],"expiration":[{"date":null,"days":90,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"delete_old_versions","noncurrent_version_expiration":[{"newer_noncurrent_versions":null,"noncurrent_days":30}],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"after_unknown":{"bucket":true,"expected_bucket_owner":true,"id":true,"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[]}]}}},{"address":"module.app_storage.aws_s3_bucket_lifecycle_configuration.main[\"frontend_backup\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"main","index":"frontend_backup","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"rule":[{"abort_incomplete_multipart_upload":[{"days_after_initiation":7}],"expiration":[{"date":null,"days":90,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"delete_old_versions","noncurrent_version_expiration":[{"newer_noncurrent_versions":null,"noncurrent_days":30}],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"after_unknown":{"bucket":true,"expected_bucket_owner":true,"id":true,"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[]}]}}},{"address":"module.app_storage.aws_s3_bucket_lifecycle_configuration.main[\"lambda_artifacts\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"main","index":"lambda_artifacts","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"rule":[{"abort_incomplete_multipart_upload":[{"days_after_initiation":7}],"expiration":[{"date":null,"days":90,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"cleanup_old_lambda_versions","noncurrent_version_expiration":[{"newer_noncurrent_versions":null,"noncurrent_days":30}],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"after_unknown":{"bucket":true,"expected_bucket_owner":true,"id":true,"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[]}]}}},{"address":"module.app_storage.aws_s3_bucket_logging.main[\"frontend\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_logging","name":"main","index":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"target_grant":[],"target_object_key_format":[],"target_prefix":"frontend-access-logs/"},"after_unknown":{"bucket":true,"id":true,"target_bucket":true,"target_grant":[],"target_object_key_format":[]},"before_sensitive":false,"after_sensitive":{"target_grant":[],"target_object_key_format":[]}}},{"address":"module.app_storage.aws_s3_bucket_logging.main[\"frontend_backup\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_logging","name":"main","index":"frontend_backup","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"target_grant":[],"target_object_key_format":[],"target_prefix":"frontend-backup-access-logs/"},"after_unknown":{"bucket":true,"id":true,"target_bucket":true,"target_grant":[],"target_object_key_format":[]},"before_sensitive":false,"after_sensitive":{"target_grant":[],"target_object_key_format":[]}}},{"address":"module.app_storage.aws_s3_bucket_logging.main[\"lambda_artifacts\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_logging","name":"main","index":"lambda_artifacts","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"target_grant":[],"target_object_key_format":[],"target_prefix":"lambda-artifacts-access-logs/"},"after_unknown":{"bucket":true,"id":true,"target_bucket":true,"target_grant":[],"target_object_key_format":[]},"before_sensitive":false,"after_sensitive":{"target_grant":[],"target_object_key_format":[]}}},{"address":"module.app_storage.aws_s3_bucket_notification.main[\"frontend\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_notification","name":"main","index":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"eventbridge":false,"lambda_function":[],"queue":[],"topic":[{"events":["s3:ObjectCreated:*"],"filter_prefix":null,"filter_suffix":null,"id":"s3-frontend-object-created-notifications"}]},"after_unknown":{"bucket":true,"id":true,"lambda_function":[],"queue":[],"topic":[{"events":[false],"topic_arn":true}]},"before_sensitive":false,"after_sensitive":{"lambda_function":[],"queue":[],"topic":[{"events":[false]}]}}},{"address":"module.app_storage.aws_s3_bucket_notification.main[\"frontend_backup\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_notification","name":"main","index":"frontend_backup","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"eventbridge":false,"lambda_function":[],"queue":[],"topic":[{"events":["s3:ObjectCreated:*"],"filter_prefix":null,"filter_suffix":null,"id":"s3-frontend_backup-object-created-notifications"}]},"after_unknown":{"bucket":true,"id":true,"lambda_function":[],"queue":[],"topic":[{"events":[false],"topic_arn":true}]},"before_sensitive":false,"after_sensitive":{"lambda_function":[],"queue":[],"topic":[{"events":[false]}]}}},{"address":"module.app_storage.aws_s3_bucket_notification.main[\"lambda_artifacts\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_notification","name":"main","index":"lambda_artifacts","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"eventbridge":false,"lambda_function":[],"queue":[],"topic":[{"events":["s3:ObjectCreated:*"],"filter_prefix":null,"filter_suffix":null,"id":"s3-lambda_artifacts-object-created-notifications"}]},"after_unknown":{"bucket":true,"id":true,"lambda_function":[],"queue":[],"topic":[{"events":[false],"topic_arn":true}]},"before_sensitive":false,"after_sensitive":{"lambda_function":[],"queue":[],"topic":[{"events":[false]}]}}},{"address":"module.app_storage.aws_s3_bucket_policy.frontend_policies[\"frontend\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_policy","name":"frontend_policies","index":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"bucket":true,"id":true,"policy":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.app_storage.aws_s3_bucket_policy.frontend_policies[\"frontend_backup\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_policy","name":"frontend_policies","index":"frontend_backup","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"bucket":true,"id":true,"policy":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.app_storage.aws_s3_bucket_public_access_block.main[\"frontend\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"main","index":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"block_public_acls":true,"block_public_policy":true,"ignore_public_acls":true,"restrict_public_buckets":true},"after_unknown":{"bucket":true,"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.app_storage.aws_s3_bucket_public_access_block.main[\"frontend_backup\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"main","index":"frontend_backup","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"block_public_acls":true,"block_public_policy":true,"ignore_public_acls":true,"restrict_public_buckets":true},"after_unknown":{"bucket":true,"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.app_storage.aws_s3_bucket_public_access_block.main[\"lambda_artifacts\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"main","index":"lambda_artifacts","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"block_public_acls":true,"block_public_policy":true,"ignore_public_acls":true,"restrict_public_buckets":true},"after_unknown":{"bucket":true,"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.app_storage.aws_s3_bucket_server_side_encryption_configuration.main[\"frontend\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"main","index":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"bucket_key_enabled":true}]},"after_unknown":{"bucket":true,"id":true,"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":true}]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}}},{"address":"module.app_storage.aws_s3_bucket_server_side_encryption_configuration.main[\"frontend_backup\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"main","index":"frontend_backup","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"bucket_key_enabled":true}]},"after_unknown":{"bucket":true,"id":true,"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":true}]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}}},{"address":"module.app_storage.aws_s3_bucket_server_side_encryption_configuration.main[\"lambda_artifacts\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"main","index":"lambda_artifacts","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"bucket_key_enabled":true}]},"after_unknown":{"bucket":true,"id":true,"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":true}]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}}},{"address":"module.app_storage.aws_s3_bucket_versioning.main[\"frontend\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_versioning","name":"main","index":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"after_unknown":{"bucket":true,"id":true,"versioning_configuration":[{"mfa_delete":true}]},"before_sensitive":false,"after_sensitive":{"versioning_configuration":[{}]}}},{"address":"module.app_storage.aws_s3_bucket_versioning.main[\"frontend_backup\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_versioning","name":"main","index":"frontend_backup","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"after_unknown":{"bucket":true,"id":true,"versioning_configuration":[{"mfa_delete":true}]},"before_sensitive":false,"after_sensitive":{"versioning_configuration":[{}]}}},{"address":"module.app_storage.aws_s3_bucket_versioning.main[\"lambda_artifacts\"]","module_address":"module.app_storage","mode":"managed","type":"aws_s3_bucket_versioning","name":"main","index":"lambda_artifacts","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"after_unknown":{"bucket":true,"id":true,"versioning_configuration":[{"mfa_delete":true}]},"before_sensitive":false,"after_sensitive":{"versioning_configuration":[{}]}}},{"address":"module.app_storage.aws_sns_topic.s3_events","module_address":"module.app_storage","mode":"managed","type":"aws_sns_topic","name":"s3_events","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"tattoo-artist-directory-dev-s3-events","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-s3-events","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-s3-events","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"beginning_archive_time":true,"fifo_throughput_scope":true,"id":true,"kms_master_key_id":true,"name_prefix":true,"owner":true,"policy":true,"signature_version":true,"tags":{},"tags_all":{},"tracing_config":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.app_storage.aws_sns_topic_policy.s3_events","module_address":"module.app_storage","mode":"managed","type":"aws_sns_topic_policy","name":"s3_events","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"arn":true,"id":true,"owner":true,"policy":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.audit_foundation.aws_kms_alias.audit","module_address":"module.audit_foundation","mode":"managed","type":"aws_kms_alias","name":"audit","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"alias/tattoo-artist-directory-dev-audit"},"after_unknown":{"arn":true,"id":true,"name_prefix":true,"target_key_arn":true,"target_key_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.audit_foundation.aws_kms_alias.logs","module_address":"module.audit_foundation","mode":"managed","type":"aws_kms_alias","name":"logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"alias/tattoo-artist-directory-dev-logs"},"after_unknown":{"arn":true,"id":true,"name_prefix":true,"target_key_arn":true,"target_key_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.audit_foundation.aws_kms_key.audit","module_address":"module.audit_foundation","mode":"managed","type":"aws_kms_key","name":"audit","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"bypass_policy_lockout_safety_check":false,"custom_key_store_id":null,"customer_master_key_spec":"SYMMETRIC_DEFAULT","deletion_window_in_days":7,"description":"Audit KMS key for tattoo-artist-directory-dev - encrypts logs and backups","enable_key_rotation":true,"is_enabled":true,"key_usage":"ENCRYPT_DECRYPT","policy":"{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::098819594789:root\"},\"Resource\":\"*\",\"Sid\":\"Enable IAM User Permissions\"},{\"Action\":[\"kms:Encrypt\",\"kms:Decrypt\",\"kms:ReEncrypt*\",\"kms:GenerateDataKey*\",\"kms:DescribeKey\"],\"Condition\":{\"StringEquals\":{\"aws:SourceAccount\":[\"773595699997\",\"098819594789\"]}},\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"s3.amazonaws.com\",\"cloudtrail.amazonaws.com\",\"config.amazonaws.com\",\"backup.amazonaws.com\",\"vpc-flow-logs.amazonaws.com\"]},\"Resource\":\"*\",\"Sid\":\"Allow AWS Services from Infrastructure Account\"},{\"Action\":[\"kms:Encrypt\",\"kms:Decrypt\",\"kms:ReEncrypt*\",\"kms:GenerateDataKey*\",\"kms:DescribeKey\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::773595699997:root\"},\"Resource\":\"*\",\"Sid\":\"Allow Cross-Account Access from Infrastructure Account\"}],\"Version\":\"2012-10-17\"}","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-audit-key","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-audit-key","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"},"timeouts":null,"xks_key_id":null},"after_unknown":{"arn":true,"id":true,"key_id":true,"multi_region":true,"rotation_period_in_days":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.audit_foundation.aws_kms_key.logs","module_address":"module.audit_foundation","mode":"managed","type":"aws_kms_key","name":"logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"bypass_policy_lockout_safety_check":false,"custom_key_store_id":null,"customer_master_key_spec":"SYMMETRIC_DEFAULT","deletion_window_in_days":7,"description":"KMS key for CloudWatch logs encryption in the Audit account","enable_key_rotation":true,"is_enabled":true,"key_usage":"ENCRYPT_DECRYPT","policy":"{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::098819594789:root\"},\"Resource\":\"*\",\"Sid\":\"Enable IAM User Permissions\"},{\"Action\":[\"kms:Encrypt\",\"kms:Decrypt\",\"kms:ReEncrypt*\",\"kms:GenerateDataKey*\",\"kms:DescribeKey\"],\"Condition\":{\"ArnEquals\":{\"kms:EncryptionContext:aws:logs:arn\":\"arn:aws:logs:eu-west-2:098819594789:*\"}},\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"logs.eu-west-2.amazonaws.com\"},\"Resource\":\"*\",\"Sid\":\"Allow CloudWatch Logs within Audit Account\"},{\"Action\":[\"kms:Encrypt\",\"kms:Decrypt\",\"kms:ReEncrypt*\",\"kms:GenerateDataKey*\",\"kms:DescribeKey\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::773595699997:root\"},\"Resource\":\"*\",\"Sid\":\"Allow Cross-Account Use from Infrastructure Account\"}],\"Version\":\"2012-10-17\"}","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-logs-key","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-logs-key","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"},"timeouts":null,"xks_key_id":null},"after_unknown":{"arn":true,"id":true,"key_id":true,"multi_region":true,"rotation_period_in_days":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.audit_governance.aws_cloudwatch_dashboard.compliance","module_address":"module.audit_governance","mode":"managed","type":"aws_cloudwatch_dashboard","name":"compliance","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"dashboard_body":"{\"widgets\":[{\"height\":6,\"properties\":{\"metrics\":[[\"AWS/Config\",\"ComplianceByConfigRule\",\"ConfigRuleName\",\"tattoo-artist-directory-dev-s3-bucket-public-access-prohibited\"],[\".\",\".\",\".\",\"tattoo-artist-directory-dev-dynamodb-table-encryption-enabled\"],[\".\",\".\",\".\",\"tattoo-artist-directory-dev-lambda-function-public-access-prohibited\"],[\".\",\".\",\".\",\"tattoo-artist-directory-dev-cloudfront-viewer-policy-https\"]],\"period\":300,\"region\":\"eu-west-2\",\"stacked\":false,\"title\":\"Config Rule Compliance Status\",\"view\":\"timeSeries\"},\"type\":\"metric\",\"width\":12,\"x\":0,\"y\":0}]}","dashboard_name":"tattoo-artist-directory-dev-compliance-dashboard"},"after_unknown":{"dashboard_arn":true,"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.audit_governance.aws_config_configuration_aggregator.organization[0]","module_address":"module.audit_governance","mode":"managed","type":"aws_config_configuration_aggregator","name":"organization","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"account_aggregation_source":[],"name":"tattoo-artist-directory-dev-config-aggregator","organization_aggregation_source":[{"all_regions":true,"regions":null}],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-aggregator","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-aggregator","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"after_unknown":{"account_aggregation_source":[],"arn":true,"id":true,"organization_aggregation_source":[{"role_arn":true}],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"account_aggregation_source":[],"organization_aggregation_source":[{}],"tags":{},"tags_all":{}}}},{"address":"module.audit_governance.aws_iam_role.config_aggregator[0]","module_address":"module.audit_governance","mode":"managed","type":"aws_iam_role","name":"config_aggregator","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"config.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-config-aggregator-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-aggregator-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-aggregator-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.audit_governance.aws_iam_role_policy.config_aggregator[0]","module_address":"module.audit_governance","mode":"managed","type":"aws_iam_role_policy","name":"config_aggregator","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"tattoo-artist-directory-dev-config-aggregator-policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"organizations:EnableAWSServiceAccess\",\"organizations:ListAccounts\",\"organizations:ListAWSServiceAccessForOrganization\",\"organizations:ListDelegatedAdministrators\"],\"Effect\":\"Allow\",\"Resource\":\"*\"},{\"Action\":[\"config:PutAggregator\",\"config:GetComplianceDetailsByConfigRule\",\"config:GetComplianceDetailsByResource\",\"config:GetComplianceSummaryByConfigRule\",\"config:GetComplianceSummaryByResourceType\",\"config:GetConfigurationAggregator\",\"config:GetDiscoveredResourceCounts\",\"config:GetResourceConfigHistory\",\"config:ListDiscoveredResources\",\"config:ValidateConfigurationRecorder\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}"},"after_unknown":{"id":true,"name_prefix":true,"role":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.central_logging.aws_cloudwatch_log_group.api_gateway","module_address":"module.central_logging","mode":"managed","type":"aws_cloudwatch_log_group","name":"api_gateway","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"/aws/apigateway/tattoo-artist-directory-dev-api","retention_in_days":14,"skip_destroy":false,"tags":{"Account":"Security","Compliance":"Required","CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","LogType":"APIGateway","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-gateway-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"Account":"Security","Compliance":"Required","CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","LogType":"APIGateway","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-gateway-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"after_unknown":{"arn":true,"id":true,"kms_key_id":true,"log_group_class":true,"name_prefix":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.central_logging.aws_cloudwatch_log_group.firehose_waf_errors","module_address":"module.central_logging","mode":"managed","type":"aws_cloudwatch_log_group","name":"firehose_waf_errors","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"/aws/kinesisfirehose/tattoo-artist-directory-dev-waf-delivery-errors","retention_in_days":30,"skip_destroy":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-firehose-waf-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-firehose-waf-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"after_unknown":{"arn":true,"id":true,"kms_key_id":true,"log_group_class":true,"name_prefix":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.central_logging.aws_cloudwatch_log_group.incident_response","module_address":"module.central_logging","mode":"managed","type":"aws_cloudwatch_log_group","name":"incident_response","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"/aws/lambda/incident-response-tattoo-artist-directory-dev","retention_in_days":90,"skip_destroy":false,"tags":{"Account":"Security","Compliance":"Required","CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","LogType":"IncidentResponse","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-incident-response-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"Account":"Security","Compliance":"Required","CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","LogType":"IncidentResponse","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-incident-response-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"after_unknown":{"arn":true,"id":true,"kms_key_id":true,"log_group_class":true,"name_prefix":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.central_logging.aws_cloudwatch_log_group.security_tools","module_address":"module.central_logging","mode":"managed","type":"aws_cloudwatch_log_group","name":"security_tools","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"/aws/security/tattoo-artist-directory-dev","retention_in_days":90,"skip_destroy":false,"tags":{"Account":"Security","Compliance":"Required","CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","LogType":"SecurityTools","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-security-tools-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"Account":"Security","Compliance":"Required","CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","LogType":"SecurityTools","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-security-tools-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"after_unknown":{"arn":true,"id":true,"kms_key_id":true,"log_group_class":true,"name_prefix":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.central_logging.aws_iam_policy.firehose_waf","module_address":"module.central_logging","mode":"managed","type":"aws_iam_policy","name":"firehose_waf","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"tattoo-artist-directory-dev-firehose-waf-policy","path":"/","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"after_unknown":{"arn":true,"attachment_count":true,"id":true,"name_prefix":true,"policy":true,"policy_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.central_logging.aws_iam_role.firehose_waf","module_address":"module.central_logging","mode":"managed","type":"aws_iam_role","name":"firehose_waf","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"firehose.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-firehose-waf-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-firehose-waf-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-firehose-waf-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.central_logging.aws_iam_role_policy_attachment.firehose_waf","module_address":"module.central_logging","mode":"managed","type":"aws_iam_role_policy_attachment","name":"firehose_waf","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"tattoo-artist-directory-dev-firehose-waf-role"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.central_logging.aws_kinesis_firehose_delivery_stream.waf_logs","module_address":"module.central_logging","mode":"managed","type":"aws_kinesis_firehose_delivery_stream","name":"waf_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"destination":"extended_s3","elasticsearch_configuration":[],"extended_s3_configuration":[{"buffering_interval":300,"buffering_size":5,"cloudwatch_logging_options":[{"enabled":true,"log_group_name":"/aws/kinesisfirehose/tattoo-artist-directory-dev-waf-delivery-errors","log_stream_name":"S3Delivery"}],"compression_format":"GZIP","custom_time_zone":"UTC","data_format_conversion_configuration":[],"dynamic_partitioning_configuration":[],"error_output_prefix":"waf-logs-errors/!{firehose:error-output-type}/year=!{timestamp:yyyy}/month=!{timestamp:MM}/day=!{timestamp:dd}/hour=!{timestamp:HH}/","file_extension":null,"prefix":"waf-logs/year=!{timestamp:yyyy}/month=!{timestamp:MM}/day=!{timestamp:dd}/hour=!{timestamp:HH}/","processing_configuration":[],"s3_backup_configuration":[],"s3_backup_mode":"Disabled"}],"http_endpoint_configuration":[],"iceberg_configuration":[],"kinesis_source_configuration":[],"msk_source_configuration":[],"name":"aws-waf-logs-tattoo-artist-directory-dev","opensearch_configuration":[],"opensearchserverless_configuration":[],"redshift_configuration":[],"server_side_encryption":[{"enabled":true,"key_type":"CUSTOMER_MANAGED_CMK"}],"snowflake_configuration":[],"splunk_configuration":[],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"aws-waf-logs-tattoo-artist-directory-dev","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"aws-waf-logs-tattoo-artist-directory-dev","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"},"timeouts":null},"after_unknown":{"arn":true,"destination_id":true,"elasticsearch_configuration":[],"extended_s3_configuration":[{"bucket_arn":true,"cloudwatch_logging_options":[{}],"data_format_conversion_configuration":[],"dynamic_partitioning_configuration":[],"kms_key_arn":true,"processing_configuration":[],"role_arn":true,"s3_backup_configuration":[]}],"http_endpoint_configuration":[],"iceberg_configuration":[],"id":true,"kinesis_source_configuration":[],"msk_source_configuration":[],"opensearch_configuration":[],"opensearchserverless_configuration":[],"redshift_configuration":[],"server_side_encryption":[{"key_arn":true}],"snowflake_configuration":[],"splunk_configuration":[],"tags":{},"tags_all":{},"version_id":true},"before_sensitive":false,"after_sensitive":{"elasticsearch_configuration":[],"extended_s3_configuration":[{"cloudwatch_logging_options":[{}],"data_format_conversion_configuration":[],"dynamic_partitioning_configuration":[],"processing_configuration":[],"s3_backup_configuration":[]}],"http_endpoint_configuration":[],"iceberg_configuration":[],"kinesis_source_configuration":[],"msk_source_configuration":[],"opensearch_configuration":[],"opensearchserverless_configuration":[],"redshift_configuration":[],"server_side_encryption":[{}],"snowflake_configuration":[],"splunk_configuration":[],"tags":{},"tags_all":{}}}},{"address":"module.central_security.aws_accessanalyzer_analyzer.main","module_address":"module.central_security","mode":"managed","type":"aws_accessanalyzer_analyzer","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"analyzer_name":"tattoo-artist-directory-dev-access-analyzer","configuration":[],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-access-analyzer","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-access-analyzer","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"},"type":"ORGANIZATION"},"after_unknown":{"arn":true,"configuration":[],"id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"configuration":[],"tags":{},"tags_all":{}}}},{"address":"module.central_security.aws_guardduty_detector.main","module_address":"module.central_security","mode":"managed","type":"aws_guardduty_detector","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"enable":true,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-guardduty-detector","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-guardduty-detector","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"after_unknown":{"account_id":true,"arn":true,"datasources":true,"finding_publishing_frequency":true,"id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"datasources":[],"tags":{},"tags_all":{}}}},{"address":"module.central_security.aws_guardduty_organization_configuration.main","module_address":"module.central_security","mode":"managed","type":"aws_guardduty_organization_configuration","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"auto_enable":true,"auto_enable_organization_members":"ALL","datasources":[{"kubernetes":[{"audit_logs":[{"enable":false}]}],"malware_protection":[{"scan_ec2_instance_with_findings":[{"ebs_volumes":[{"auto_enable":false}]}]}],"s3_logs":[{"auto_enable":true}]}]},"after_unknown":{"datasources":[{"kubernetes":[{"audit_logs":[{}]}],"malware_protection":[{"scan_ec2_instance_with_findings":[{"ebs_volumes":[{}]}]}],"s3_logs":[{}]}],"detector_id":true,"id":true},"before_sensitive":false,"after_sensitive":{"datasources":[{"kubernetes":[{"audit_logs":[{}]}],"malware_protection":[{"scan_ec2_instance_with_findings":[{"ebs_volumes":[{}]}]}],"s3_logs":[{}]}]}}},{"address":"module.central_security.aws_iam_policy.log_reader","module_address":"module.central_security","mode":"managed","type":"aws_iam_policy","name":"log_reader","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"tattoo-artist-directory-dev-LogArchiveReadAccessPolicy","path":"/","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"after_unknown":{"arn":true,"attachment_count":true,"id":true,"name_prefix":true,"policy":true,"policy_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.central_security.aws_iam_role.log_auditor","module_address":"module.central_security","mode":"managed","type":"aws_iam_role","name":"log_auditor","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-LogAuditorRole","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-LogAuditorRole","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","iam.amazonaws.com/role-purpose":"log-auditing"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-LogAuditorRole","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources","iam.amazonaws.com/role-purpose":"log-auditing"}},"after_unknown":{"arn":true,"assume_role_policy":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.central_security.aws_iam_role_policy_attachment.log_auditor_attachment","module_address":"module.central_security","mode":"managed","type":"aws_iam_role_policy_attachment","name":"log_auditor_attachment","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"tattoo-artist-directory-dev-LogAuditorRole"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.central_security.aws_securityhub_account.main","module_address":"module.central_security","mode":"managed","type":"aws_securityhub_account","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"auto_enable_controls":true,"control_finding_generator":"SECURITY_CONTROL","enable_default_standards":false},"after_unknown":{"arn":true,"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.central_security.aws_securityhub_organization_configuration.main","module_address":"module.central_security","mode":"managed","type":"aws_securityhub_organization_configuration","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"auto_enable":true,"timeouts":null},"after_unknown":{"auto_enable_standards":true,"id":true,"organization_configuration":true},"before_sensitive":false,"after_sensitive":{"organization_configuration":[]}}},{"address":"module.central_security.aws_securityhub_standards_subscription.cis","module_address":"module.central_security","mode":"managed","type":"aws_securityhub_standards_subscription","name":"cis","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"standards_arn":"arn:aws:securityhub:us-east-1::standards/cis-aws-foundations-benchmark/v/1.2.0","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.central_security.aws_securityhub_standards_subscription.foundational_security","module_address":"module.central_security","mode":"managed","type":"aws_securityhub_standards_subscription","name":"foundational_security","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"standards_arn":"arn:aws:securityhub:::ruleset/aws-foundational-security-best-practices/v/1.0.0","timeouts":null},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.compute.data.aws_s3_object.lambda_artifacts[\"api_handler\"]","module_address":"module.compute","mode":"data","type":"aws_s3_object","name":"lambda_artifacts","index":"api_handler","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"checksum_mode":null,"key":"lambda-artifacts/api-handler.zip","range":null},"after_unknown":{"arn":true,"body":true,"bucket":true,"bucket_key_enabled":true,"cache_control":true,"checksum_crc32":true,"checksum_crc32c":true,"checksum_crc64nvme":true,"checksum_sha1":true,"checksum_sha256":true,"content_disposition":true,"content_encoding":true,"content_language":true,"content_length":true,"content_type":true,"etag":true,"expiration":true,"expires":true,"id":true,"last_modified":true,"metadata":true,"object_lock_legal_hold_status":true,"object_lock_mode":true,"object_lock_retain_until_date":true,"server_side_encryption":true,"sse_kms_key_id":true,"storage_class":true,"tags":true,"version_id":true,"website_redirect_location":true},"before_sensitive":false,"after_sensitive":{"metadata":{},"tags":{}}},"action_reason":"read_because_config_unknown"},{"address":"module.compute.data.aws_s3_object.lambda_artifacts[\"discover_studios\"]","module_address":"module.compute","mode":"data","type":"aws_s3_object","name":"lambda_artifacts","index":"discover_studios","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"checksum_mode":null,"key":"lambda-artifacts/discover-studios.zip","range":null},"after_unknown":{"arn":true,"body":true,"bucket":true,"bucket_key_enabled":true,"cache_control":true,"checksum_crc32":true,"checksum_crc32c":true,"checksum_crc64nvme":true,"checksum_sha1":true,"checksum_sha256":true,"content_disposition":true,"content_encoding":true,"content_language":true,"content_length":true,"content_type":true,"etag":true,"expiration":true,"expires":true,"id":true,"last_modified":true,"metadata":true,"object_lock_legal_hold_status":true,"object_lock_mode":true,"object_lock_retain_until_date":true,"server_side_encryption":true,"sse_kms_key_id":true,"storage_class":true,"tags":true,"version_id":true,"website_redirect_location":true},"before_sensitive":false,"after_sensitive":{"metadata":{},"tags":{}}},"action_reason":"read_because_config_unknown"},{"address":"module.compute.data.aws_s3_object.lambda_artifacts[\"dynamodb_sync\"]","module_address":"module.compute","mode":"data","type":"aws_s3_object","name":"lambda_artifacts","index":"dynamodb_sync","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"checksum_mode":null,"key":"lambda-artifacts/dynamodb-sync.zip","range":null},"after_unknown":{"arn":true,"body":true,"bucket":true,"bucket_key_enabled":true,"cache_control":true,"checksum_crc32":true,"checksum_crc32c":true,"checksum_crc64nvme":true,"checksum_sha1":true,"checksum_sha256":true,"content_disposition":true,"content_encoding":true,"content_language":true,"content_length":true,"content_type":true,"etag":true,"expiration":true,"expires":true,"id":true,"last_modified":true,"metadata":true,"object_lock_legal_hold_status":true,"object_lock_mode":true,"object_lock_retain_until_date":true,"server_side_encryption":true,"sse_kms_key_id":true,"storage_class":true,"tags":true,"version_id":true,"website_redirect_location":true},"before_sensitive":false,"after_sensitive":{"metadata":{},"tags":{}}},"action_reason":"read_because_config_unknown"},{"address":"module.compute.data.aws_s3_object.lambda_artifacts[\"find_artists\"]","module_address":"module.compute","mode":"data","type":"aws_s3_object","name":"lambda_artifacts","index":"find_artists","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"checksum_mode":null,"key":"lambda-artifacts/find-artists.zip","range":null},"after_unknown":{"arn":true,"body":true,"bucket":true,"bucket_key_enabled":true,"cache_control":true,"checksum_crc32":true,"checksum_crc32c":true,"checksum_crc64nvme":true,"checksum_sha1":true,"checksum_sha256":true,"content_disposition":true,"content_encoding":true,"content_language":true,"content_length":true,"content_type":true,"etag":true,"expiration":true,"expires":true,"id":true,"last_modified":true,"metadata":true,"object_lock_legal_hold_status":true,"object_lock_mode":true,"object_lock_retain_until_date":true,"server_side_encryption":true,"sse_kms_key_id":true,"storage_class":true,"tags":true,"version_id":true,"website_redirect_location":true},"before_sensitive":false,"after_sensitive":{"metadata":{},"tags":{}}},"action_reason":"read_because_config_unknown"},{"address":"module.compute.data.aws_s3_object.lambda_artifacts[\"queue_scraping\"]","module_address":"module.compute","mode":"data","type":"aws_s3_object","name":"lambda_artifacts","index":"queue_scraping","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"checksum_mode":null,"key":"lambda-artifacts/queue-scraping.zip","range":null},"after_unknown":{"arn":true,"body":true,"bucket":true,"bucket_key_enabled":true,"cache_control":true,"checksum_crc32":true,"checksum_crc32c":true,"checksum_crc64nvme":true,"checksum_sha1":true,"checksum_sha256":true,"content_disposition":true,"content_encoding":true,"content_language":true,"content_length":true,"content_type":true,"etag":true,"expiration":true,"expires":true,"id":true,"last_modified":true,"metadata":true,"object_lock_legal_hold_status":true,"object_lock_mode":true,"object_lock_retain_until_date":true,"server_side_encryption":true,"sse_kms_key_id":true,"storage_class":true,"tags":true,"version_id":true,"website_redirect_location":true},"before_sensitive":false,"after_sensitive":{"metadata":{},"tags":{}}},"action_reason":"read_because_config_unknown"},{"address":"module.compute.data.aws_s3_object.lambda_artifacts[\"rotate_nat_gateway_eip\"]","module_address":"module.compute","mode":"data","type":"aws_s3_object","name":"lambda_artifacts","index":"rotate_nat_gateway_eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["read"],"before":null,"after":{"checksum_mode":null,"key":"lambda-artifacts/rotate-nat-gateway-eip.zip","range":null},"after_unknown":{"arn":true,"body":true,"bucket":true,"bucket_key_enabled":true,"cache_control":true,"checksum_crc32":true,"checksum_crc32c":true,"checksum_crc64nvme":true,"checksum_sha1":true,"checksum_sha256":true,"content_disposition":true,"content_encoding":true,"content_language":true,"content_length":true,"content_type":true,"etag":true,"expiration":true,"expires":true,"id":true,"last_modified":true,"metadata":true,"object_lock_legal_hold_status":true,"object_lock_mode":true,"object_lock_retain_until_date":true,"server_side_encryption":true,"sse_kms_key_id":true,"storage_class":true,"tags":true,"version_id":true,"website_redirect_location":true},"before_sensitive":false,"after_sensitive":{"metadata":{},"tags":{}}},"action_reason":"read_because_config_unknown"},{"address":"module.compute.aws_cloudwatch_log_group.ecs_cluster","module_address":"module.compute","mode":"managed","type":"aws_cloudwatch_log_group","name":"ecs_cluster","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"/aws/ecs/cluster/tattoo-artist-directory-dev","retention_in_days":14,"skip_destroy":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-cluster-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-cluster-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"id":true,"kms_key_id":true,"log_group_class":true,"name_prefix":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.compute.aws_cloudwatch_log_group.scraper","module_address":"module.compute","mode":"managed","type":"aws_cloudwatch_log_group","name":"scraper","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"/aws/ecs/tattoo-artist-directory-dev-scraper","retention_in_days":14,"skip_destroy":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-scraper-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-scraper-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"id":true,"kms_key_id":true,"log_group_class":true,"name_prefix":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.compute.aws_cloudwatch_log_group.step_functions","module_address":"module.compute","mode":"managed","type":"aws_cloudwatch_log_group","name":"step_functions","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"/aws/stepfunctions/tattoo-artist-directory-dev-data-aggregation","retention_in_days":14,"skip_destroy":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-step-functions-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-step-functions-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"id":true,"kms_key_id":true,"log_group_class":true,"name_prefix":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.compute.aws_ecs_cluster.main","module_address":"module.compute","mode":"managed","type":"aws_ecs_cluster","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"configuration":[{"execute_command_configuration":[{"log_configuration":[{"cloud_watch_encryption_enabled":true,"cloud_watch_log_group_name":"/aws/ecs/cluster/tattoo-artist-directory-dev","s3_bucket_encryption_enabled":null,"s3_bucket_name":null,"s3_key_prefix":null}],"logging":"OVERRIDE"}],"managed_storage_configuration":[]}],"name":"tattoo-artist-directory-dev-cluster","service_connect_defaults":[],"setting":[{"name":"containerInsights","value":"enabled"}],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-cluster","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-cluster","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"configuration":[{"execute_command_configuration":[{"kms_key_id":true,"log_configuration":[{}]}],"managed_storage_configuration":[]}],"id":true,"service_connect_defaults":[],"setting":[{}],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"configuration":[{"execute_command_configuration":[{"log_configuration":[{}]}],"managed_storage_configuration":[]}],"service_connect_defaults":[],"setting":[{}],"tags":{},"tags_all":{}}}},{"address":"module.compute.aws_ecs_task_definition.scraper","module_address":"module.compute","mode":"managed","type":"aws_ecs_task_definition","name":"scraper","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cpu":"256","ephemeral_storage":[],"family":"tattoo-artist-directory-dev-scraper","inference_accelerator":[],"ipc_mode":null,"memory":"512","network_mode":"awsvpc","pid_mode":null,"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["FARGATE"],"runtime_platform":[],"skip_destroy":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-scraper-task","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-scraper-task","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"track_latest":false,"volume":[]},"after_unknown":{"arn":true,"arn_without_revision":true,"container_definitions":true,"enable_fault_injection":true,"ephemeral_storage":[],"execution_role_arn":true,"id":true,"inference_accelerator":[],"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":[false],"revision":true,"runtime_platform":[],"tags":{},"tags_all":{},"task_role_arn":true,"volume":[]},"before_sensitive":false,"after_sensitive":{"ephemeral_storage":[],"inference_accelerator":[],"placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":[false],"runtime_platform":[],"tags":{},"tags_all":{},"volume":[]}}},{"address":"module.compute.aws_iam_policy.api_handler_dynamodb","module_address":"module.compute","mode":"managed","type":"aws_iam_policy","name":"api_handler_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"tattoo-artist-directory-dev-api-handler-dynamodb-policy","path":"/","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"attachment_count":true,"id":true,"name_prefix":true,"policy":true,"policy_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.compute.aws_iam_policy.discover_studios_dynamodb","module_address":"module.compute","mode":"managed","type":"aws_iam_policy","name":"discover_studios_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"tattoo-artist-directory-dev-discover-studios-dynamodb-policy","path":"/","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"attachment_count":true,"id":true,"name_prefix":true,"policy":true,"policy_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.compute.aws_iam_policy.dynamodb_sync_stream","module_address":"module.compute","mode":"managed","type":"aws_iam_policy","name":"dynamodb_sync_stream","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"tattoo-artist-directory-dev-dynamodb-sync-stream-policy","path":"/","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"attachment_count":true,"id":true,"name_prefix":true,"policy":true,"policy_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.compute.aws_iam_policy.ecs_task_dynamodb","module_address":"module.compute","mode":"managed","type":"aws_iam_policy","name":"ecs_task_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"tattoo-artist-directory-dev-ecs-task-dynamodb-policy","path":"/","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"attachment_count":true,"id":true,"name_prefix":true,"policy":true,"policy_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.compute.aws_iam_policy.find_artists_dynamodb","module_address":"module.compute","mode":"managed","type":"aws_iam_policy","name":"find_artists_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"name":"tattoo-artist-directory-dev-find-artists-dynamodb-policy","path":"/","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"attachment_count":true,"id":true,"name_prefix":true,"policy":true,"policy_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.compute.aws_iam_policy.step_functions","module_address":"module.compute","mode":"managed","type":"aws_iam_policy","name":"step_functions","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Policy for Step Functions state machine","name":"tattoo-artist-directory-dev-step-functions-policy","path":"/","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"attachment_count":true,"id":true,"name_prefix":true,"policy":true,"policy_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.compute.aws_iam_role_policy_attachment.api_handler_dynamodb","module_address":"module.compute","mode":"managed","type":"aws_iam_role_policy_attachment","name":"api_handler_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"tattoo-artist-directory-dev-lambda-api-role"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.compute.aws_iam_role_policy_attachment.discover_studios_dynamodb","module_address":"module.compute","mode":"managed","type":"aws_iam_role_policy_attachment","name":"discover_studios_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"tattoo-artist-directory-dev-lambda-discover-studios-role"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.compute.aws_iam_role_policy_attachment.dynamodb_sync_stream","module_address":"module.compute","mode":"managed","type":"aws_iam_role_policy_attachment","name":"dynamodb_sync_stream","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"tattoo-artist-directory-dev-lambda-sync-role"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.compute.aws_iam_role_policy_attachment.ecs_task_dynamodb","module_address":"module.compute","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ecs_task_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"tattoo-artist-directory-dev-ecs-task-role"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.compute.aws_iam_role_policy_attachment.find_artists_dynamodb","module_address":"module.compute","mode":"managed","type":"aws_iam_role_policy_attachment","name":"find_artists_dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"tattoo-artist-directory-dev-lambda-find-artists-role"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.compute.aws_iam_role_policy_attachment.step_functions_custom","module_address":"module.compute","mode":"managed","type":"aws_iam_role_policy_attachment","name":"step_functions_custom","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"tattoo-artist-directory-dev-step-functions-role"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.compute.aws_lambda_function.api_handler","module_address":"module.compute","mode":"managed","type":"aws_lambda_function","name":"api_handler","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"architectures":["arm64"],"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[{}],"file_system_config":[],"filename":null,"function_name":"tattoo-artist-directory-dev-api-handler","handler":"index.handler","image_config":[],"image_uri":null,"layers":null,"memory_size":256,"package_type":"Zip","publish":false,"replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":10,"runtime":"nodejs20.x","s3_key":"lambda-artifacts/api-handler.zip","skip_destroy":false,"snap_start":[],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-handler","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-api-handler","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeout":30,"timeouts":null,"tracing_config":[{"mode":"Active"}],"vpc_config":[{"ipv6_allowed_for_dual_stack":false}]},"after_unknown":{"architectures":[false],"arn":true,"code_sha256":true,"dead_letter_config":[],"environment":[{"variables":true}],"ephemeral_storage":true,"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"kms_key_arn":true,"last_modified":true,"logging_config":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"s3_bucket":true,"s3_object_version":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags":{},"tags_all":{},"tracing_config":[{}],"version":true,"vpc_config":[{"security_group_ids":true,"subnet_ids":true,"vpc_id":true}]},"before_sensitive":false,"after_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"logging_config":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[],"subnet_ids":[]}]}}},{"address":"module.compute.aws_lambda_function.discover_studios","module_address":"module.compute","mode":"managed","type":"aws_lambda_function","name":"discover_studios","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"architectures":["arm64"],"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[{"variables":{"AWS_NODEJS_CONNECTION_REUSE_ENABLED":"1","ENVIRONMENT":"dev","PROJECT_NAME":"tattoo-artist-directory"}}],"file_system_config":[],"filename":null,"function_name":"tattoo-artist-directory-dev-discover-studios","handler":"index.handler","image_config":[],"image_uri":null,"layers":null,"memory_size":256,"package_type":"Zip","publish":false,"replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":5,"runtime":"nodejs20.x","s3_key":"lambda-artifacts/discover-studios.zip","skip_destroy":false,"snap_start":[],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-discover-studios","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-discover-studios","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeout":300,"timeouts":null,"tracing_config":[{"mode":"Active"}],"vpc_config":[{"ipv6_allowed_for_dual_stack":false}]},"after_unknown":{"architectures":[false],"arn":true,"code_sha256":true,"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":true,"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"kms_key_arn":true,"last_modified":true,"logging_config":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"s3_bucket":true,"s3_object_version":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags":{},"tags_all":{},"tracing_config":[{}],"version":true,"vpc_config":[{"security_group_ids":true,"subnet_ids":true,"vpc_id":true}]},"before_sensitive":false,"after_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"logging_config":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[],"subnet_ids":[]}]}}},{"address":"module.compute.aws_lambda_function.dynamodb_sync","module_address":"module.compute","mode":"managed","type":"aws_lambda_function","name":"dynamodb_sync","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"architectures":["arm64"],"code_signing_config_arn":null,"dead_letter_config":[{}],"description":null,"environment":[{}],"file_system_config":[],"filename":null,"function_name":"tattoo-artist-directory-dev-dynamodb-sync","handler":"index.handler","image_config":[],"image_uri":null,"layers":null,"memory_size":256,"package_type":"Zip","publish":false,"replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":5,"runtime":"nodejs20.x","s3_key":"lambda-artifacts/dynamodb-sync.zip","skip_destroy":false,"snap_start":[],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-dynamodb-sync","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-dynamodb-sync","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeout":300,"timeouts":null,"tracing_config":[{"mode":"Active"}],"vpc_config":[{"ipv6_allowed_for_dual_stack":false}]},"after_unknown":{"architectures":[false],"arn":true,"code_sha256":true,"dead_letter_config":[{"target_arn":true}],"environment":[{"variables":true}],"ephemeral_storage":true,"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"kms_key_arn":true,"last_modified":true,"logging_config":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"s3_bucket":true,"s3_object_version":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags":{},"tags_all":{},"tracing_config":[{}],"version":true,"vpc_config":[{"security_group_ids":true,"subnet_ids":true,"vpc_id":true}]},"before_sensitive":false,"after_sensitive":{"architectures":[false],"dead_letter_config":[{}],"environment":[{"variables":{}}],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"logging_config":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[],"subnet_ids":[]}]}}},{"address":"module.compute.aws_lambda_function.find_artists","module_address":"module.compute","mode":"managed","type":"aws_lambda_function","name":"find_artists","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"architectures":["arm64"],"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[{"variables":{"AWS_NODEJS_CONNECTION_REUSE_ENABLED":"1","ENVIRONMENT":"dev","PROJECT_NAME":"tattoo-artist-directory"}}],"file_system_config":[],"filename":null,"function_name":"tattoo-artist-directory-dev-find-artists","handler":"index.handler","image_config":[],"image_uri":null,"layers":null,"memory_size":256,"package_type":"Zip","publish":false,"replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":5,"runtime":"nodejs20.x","s3_key":"lambda-artifacts/find-artists.zip","skip_destroy":false,"snap_start":[],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-find-artists","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-find-artists","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeout":300,"timeouts":null,"tracing_config":[{"mode":"Active"}],"vpc_config":[{"ipv6_allowed_for_dual_stack":false}]},"after_unknown":{"architectures":[false],"arn":true,"code_sha256":true,"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":true,"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"kms_key_arn":true,"last_modified":true,"logging_config":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"s3_bucket":true,"s3_object_version":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags":{},"tags_all":{},"tracing_config":[{}],"version":true,"vpc_config":[{"security_group_ids":true,"subnet_ids":true,"vpc_id":true}]},"before_sensitive":false,"after_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"logging_config":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[],"subnet_ids":[]}]}}},{"address":"module.compute.aws_lambda_function.queue_scraping","module_address":"module.compute","mode":"managed","type":"aws_lambda_function","name":"queue_scraping","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"architectures":["arm64"],"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[{}],"file_system_config":[],"filename":null,"function_name":"tattoo-artist-directory-dev-queue-scraping","handler":"index.handler","image_config":[],"image_uri":null,"layers":null,"memory_size":256,"package_type":"Zip","publish":false,"replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":5,"runtime":"nodejs20.x","s3_key":"lambda-artifacts/queue-scraping.zip","skip_destroy":false,"snap_start":[],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-queue-scraping","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-queue-scraping","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeout":300,"timeouts":null,"tracing_config":[{"mode":"Active"}],"vpc_config":[{"ipv6_allowed_for_dual_stack":false}]},"after_unknown":{"architectures":[false],"arn":true,"code_sha256":true,"dead_letter_config":[],"environment":[{"variables":true}],"ephemeral_storage":true,"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"kms_key_arn":true,"last_modified":true,"logging_config":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"s3_bucket":true,"s3_object_version":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags":{},"tags_all":{},"tracing_config":[{}],"version":true,"vpc_config":[{"security_group_ids":true,"subnet_ids":true,"vpc_id":true}]},"before_sensitive":false,"after_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"logging_config":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[],"subnet_ids":[]}]}}},{"address":"module.compute.aws_lambda_function.rotate_nat_gateway_eip","module_address":"module.compute","mode":"managed","type":"aws_lambda_function","name":"rotate_nat_gateway_eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"architectures":["arm64"],"code_signing_config_arn":null,"dead_letter_config":[],"description":null,"environment":[{"variables":{"NAT_GATEWAY_TAG_VALUE":"tattoo-artist-directory-dev-nat-","SNS_TOPIC_ARN":"arn:aws:sns:eu-west-2:773595699997:tattoo-artist-directory-dev-critical-alerts"}}],"file_system_config":[],"filename":null,"function_name":"tattoo-artist-directory-dev-rotate-eip","handler":"rotate-nat-gateway-eip.lambda_handler","image_config":[],"image_uri":null,"layers":null,"memory_size":256,"package_type":"Zip","publish":false,"replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":2,"runtime":"python3.12","s3_key":"lambda-artifacts/rotate-nat-gateway-eip.zip","skip_destroy":false,"snap_start":[],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-rotate-eip","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Purpose":"Operational Runbook","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-rotate-eip","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Purpose":"Operational Runbook","Version":"dev-build"},"timeout":60,"timeouts":null,"tracing_config":[{"mode":"Active"}],"vpc_config":[{"ipv6_allowed_for_dual_stack":false}]},"after_unknown":{"architectures":[false],"arn":true,"code_sha256":true,"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":true,"file_system_config":[],"id":true,"image_config":[],"invoke_arn":true,"kms_key_arn":true,"last_modified":true,"logging_config":true,"qualified_arn":true,"qualified_invoke_arn":true,"role":true,"s3_bucket":true,"s3_object_version":true,"signing_job_arn":true,"signing_profile_version_arn":true,"snap_start":[],"source_code_hash":true,"source_code_size":true,"tags":{},"tags_all":{},"tracing_config":[{}],"version":true,"vpc_config":[{"security_group_ids":true,"subnet_ids":true,"vpc_id":true}]},"before_sensitive":false,"after_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[],"file_system_config":[],"image_config":[],"logging_config":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[{"security_group_ids":[],"subnet_ids":[]}]}}},{"address":"module.compute.aws_lambda_function_url.rotate_eip","module_address":"module.compute","mode":"managed","type":"aws_lambda_function_url","name":"rotate_eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"authorization_type":"AWS_IAM","cors":[],"function_name":"tattoo-artist-directory-dev-rotate-eip","invoke_mode":"BUFFERED","qualifier":null,"timeouts":null},"after_unknown":{"cors":[],"function_arn":true,"function_url":true,"id":true,"url_id":true},"before_sensitive":false,"after_sensitive":{"cors":[]}}},{"address":"module.compute.aws_sfn_state_machine.data_aggregation","module_address":"module.compute","mode":"managed","type":"aws_sfn_state_machine","name":"data_aggregation","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"logging_configuration":[{"include_execution_data":true,"level":"ERROR"}],"name":"tattoo-artist-directory-dev-data-aggregation","publish":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-data-aggregation-sm","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-data-aggregation-sm","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"tracing_configuration":[{"enabled":true}],"type":"STANDARD"},"after_unknown":{"arn":true,"creation_date":true,"definition":true,"description":true,"encryption_configuration":true,"id":true,"logging_configuration":[{"log_destination":true}],"name_prefix":true,"revision_id":true,"role_arn":true,"state_machine_version_arn":true,"status":true,"tags":{},"tags_all":{},"tracing_configuration":[{}],"version_description":true},"before_sensitive":false,"after_sensitive":{"encryption_configuration":[],"logging_configuration":[{}],"tags":{},"tags_all":{},"tracing_configuration":[{}]}}},{"address":"module.compute.aws_sqs_queue.lambda_sync_dlq","module_address":"module.compute","mode":"managed","type":"aws_sqs_queue","name":"lambda_sync_dlq","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"content_based_deduplication":false,"delay_seconds":0,"fifo_queue":false,"max_message_size":262144,"message_retention_seconds":1209600,"name":"tattoo-artist-directory-dev-lambda-sync-dlq","receive_wait_time_seconds":0,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-sync-dlq","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-sync-dlq","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"visibility_timeout_seconds":30},"after_unknown":{"arn":true,"deduplication_scope":true,"fifo_throughput_limit":true,"id":true,"kms_data_key_reuse_period_seconds":true,"kms_master_key_id":true,"name_prefix":true,"policy":true,"redrive_allow_policy":true,"redrive_policy":true,"sqs_managed_sse_enabled":true,"tags":{},"tags_all":{},"url":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.compute.aws_sqs_queue.scraping_dlq","module_address":"module.compute","mode":"managed","type":"aws_sqs_queue","name":"scraping_dlq","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"content_based_deduplication":false,"delay_seconds":0,"fifo_queue":false,"max_message_size":262144,"message_retention_seconds":1209600,"name":"tattoo-artist-directory-dev-scraping-dlq","receive_wait_time_seconds":0,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-scraping-dlq","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-scraping-dlq","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"visibility_timeout_seconds":30},"after_unknown":{"arn":true,"deduplication_scope":true,"fifo_throughput_limit":true,"id":true,"kms_data_key_reuse_period_seconds":true,"kms_master_key_id":true,"name_prefix":true,"policy":true,"redrive_allow_policy":true,"redrive_policy":true,"sqs_managed_sse_enabled":true,"tags":{},"tags_all":{},"url":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.compute.aws_sqs_queue.scraping_queue","module_address":"module.compute","mode":"managed","type":"aws_sqs_queue","name":"scraping_queue","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"content_based_deduplication":false,"delay_seconds":0,"fifo_queue":false,"max_message_size":262144,"message_retention_seconds":1209600,"name":"tattoo-artist-directory-dev-scraping-queue","receive_wait_time_seconds":0,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-scraping-queue","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-scraping-queue","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"visibility_timeout_seconds":300},"after_unknown":{"arn":true,"deduplication_scope":true,"fifo_throughput_limit":true,"id":true,"kms_data_key_reuse_period_seconds":true,"kms_master_key_id":true,"name_prefix":true,"policy":true,"redrive_allow_policy":true,"redrive_policy":true,"sqs_managed_sse_enabled":true,"tags":{},"tags_all":{},"url":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.compute.aws_sqs_queue_policy.scraping_queue","module_address":"module.compute","mode":"managed","type":"aws_sqs_queue_policy","name":"scraping_queue","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"id":true,"policy":true,"queue_url":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.delivery.aws_cloudfront_distribution.frontend","module_address":"module.delivery","mode":"managed","type":"aws_cloudfront_distribution","name":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"aliases":null,"comment":null,"custom_error_response":[{"error_caching_min_ttl":null,"error_code":403,"response_code":200,"response_page_path":"/index.html"},{"error_caching_min_ttl":null,"error_code":404,"response_code":200,"response_page_path":"/index.html"}],"default_cache_behavior":[{"allowed_methods":["GET","HEAD","OPTIONS"],"cache_policy_id":"658327ea-f89d-4fab-a63d-7e88639e58f6","cached_methods":["GET","HEAD"],"compress":true,"field_level_encryption_id":null,"forwarded_values":[],"function_association":[],"lambda_function_association":[],"min_ttl":0,"origin_request_policy_id":"88a5eaf4-2fd4-4709-b370-b4c650ea3fcf","realtime_log_config_arn":null,"smooth_streaming":null,"target_origin_id":"S3-origin-group","viewer_protocol_policy":"redirect-to-https"}],"default_root_object":"index.html","enabled":true,"http_version":"http2","is_ipv6_enabled":true,"logging_config":[{"include_cookies":false,"prefix":"cloudfront-access-logs/"}],"ordered_cache_behavior":[{"allowed_methods":["DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT"],"cache_policy_id":"4135ea2d-6df8-44a3-9df3-4b5a84be39ad","cached_methods":["GET","HEAD","OPTIONS"],"compress":false,"field_level_encryption_id":null,"forwarded_values":[],"function_association":[],"lambda_function_association":[],"min_ttl":0,"origin_request_policy_id":"216adef6-5c7f-47e4-b989-5492eafa07d3","path_pattern":"/v1/*","realtime_log_config_arn":null,"smooth_streaming":null,"trusted_key_groups":null,"trusted_signers":null,"viewer_protocol_policy":"redirect-to-https"}],"origin":[{"connection_attempts":3,"connection_timeout":10,"custom_header":[],"custom_origin_config":[{"http_port":80,"https_port":443,"origin_keepalive_timeout":5,"origin_protocol_policy":"https-only","origin_read_timeout":30,"origin_ssl_protocols":["TLSv1.2"]}],"origin_access_control_id":"","origin_path":"/dev","origin_shield":[],"s3_origin_config":[],"vpc_origin_config":[]},{"connection_attempts":3,"connection_timeout":10,"custom_header":[],"custom_origin_config":[],"origin_path":"","origin_shield":[],"s3_origin_config":[],"vpc_origin_config":[]},{"connection_attempts":3,"connection_timeout":10,"custom_header":[],"custom_origin_config":[],"origin_path":"","origin_shield":[],"s3_origin_config":[],"vpc_origin_config":[]}],"origin_group":[{"failover_criteria":[{"status_codes":[403,404,500,502,503,504]}],"member":[{},{}],"origin_id":"S3-origin-group"}],"price_class":"PriceClass_100","restrictions":[{"geo_restriction":[{"locations":["GB"],"restriction_type":"whitelist"}]}],"retain_on_delete":false,"staging":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-frontend-distribution","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-frontend-distribution","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"viewer_certificate":[{"acm_certificate_arn":null,"cloudfront_default_certificate":true,"iam_certificate_id":null,"minimum_protocol_version":"TLSv1","ssl_support_method":null}],"wait_for_deployment":true},"after_unknown":{"arn":true,"caller_reference":true,"continuous_deployment_policy_id":true,"custom_error_response":[{},{}],"default_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"default_ttl":true,"forwarded_values":[],"function_association":[],"grpc_config":true,"lambda_function_association":[],"max_ttl":true,"response_headers_policy_id":true,"trusted_key_groups":true,"trusted_signers":true}],"domain_name":true,"etag":true,"hosted_zone_id":true,"id":true,"in_progress_validation_batches":true,"last_modified_time":true,"logging_config":[{"bucket":true}],"ordered_cache_behavior":[{"allowed_methods":[false,false,false,false,false,false,false],"cached_methods":[false,false,false],"default_ttl":true,"forwarded_values":[],"function_association":[],"grpc_config":true,"lambda_function_association":[],"max_ttl":true,"response_headers_policy_id":true,"target_origin_id":true}],"origin":[{"custom_header":[],"custom_origin_config":[{"origin_ssl_protocols":[false]}],"domain_name":true,"origin_id":true,"origin_shield":[],"s3_origin_config":[],"vpc_origin_config":[]},{"custom_header":[],"custom_origin_config":[],"domain_name":true,"origin_access_control_id":true,"origin_id":true,"origin_shield":[],"s3_origin_config":[],"vpc_origin_config":[]},{"custom_header":[],"custom_origin_config":[],"domain_name":true,"origin_access_control_id":true,"origin_id":true,"origin_shield":[],"s3_origin_config":[],"vpc_origin_config":[]}],"origin_group":[{"failover_criteria":[{"status_codes":[false,false,false,false,false,false]}],"member":[{"origin_id":true},{"origin_id":true}]}],"restrictions":[{"geo_restriction":[{"locations":[false]}]}],"status":true,"tags":{},"tags_all":{},"trusted_key_groups":true,"trusted_signers":true,"viewer_certificate":[{}],"web_acl_id":true},"before_sensitive":false,"after_sensitive":{"custom_error_response":[{},{}],"default_cache_behavior":[{"allowed_methods":[false,false,false],"cached_methods":[false,false],"forwarded_values":[],"function_association":[],"grpc_config":[],"lambda_function_association":[],"trusted_key_groups":[],"trusted_signers":[]}],"logging_config":[{}],"ordered_cache_behavior":[{"allowed_methods":[false,false,false,false,false,false,false],"cached_methods":[false,false,false],"forwarded_values":[],"function_association":[],"grpc_config":[],"lambda_function_association":[]}],"origin":[{"custom_header":[],"custom_origin_config":[{"origin_ssl_protocols":[false]}],"origin_shield":[],"s3_origin_config":[],"vpc_origin_config":[]},{"custom_header":[],"custom_origin_config":[],"origin_shield":[],"s3_origin_config":[],"vpc_origin_config":[]},{"custom_header":[],"custom_origin_config":[],"origin_shield":[],"s3_origin_config":[],"vpc_origin_config":[]}],"origin_group":[{"failover_criteria":[{"status_codes":[false,false,false,false,false,false]}],"member":[{},{}]}],"restrictions":[{"geo_restriction":[{"locations":[false]}]}],"tags":{},"tags_all":{},"trusted_key_groups":[],"trusted_signers":[],"viewer_certificate":[{}]}}},{"address":"module.delivery.aws_cloudfront_origin_access_control.frontend","module_address":"module.delivery","mode":"managed","type":"aws_cloudfront_origin_access_control","name":"frontend","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"OAC for frontend S3 bucket","name":"tattoo-artist-directory-dev-frontend-oac","origin_access_control_origin_type":"s3","signing_behavior":"always","signing_protocol":"sigv4"},"after_unknown":{"arn":true,"etag":true,"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.delivery.aws_cloudfront_response_headers_policy.security_headers","module_address":"module.delivery","mode":"managed","type":"aws_cloudfront_response_headers_policy","name":"security_headers","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"comment":"Adds security headers like HSTS, CSP, and X-Frame-Options","cors_config":[],"custom_headers_config":[],"name":"tattoo-artist-directory-dev-security-headers","remove_headers_config":[],"security_headers_config":[{"content_security_policy":[],"content_type_options":[{"override":true}],"frame_options":[{"frame_option":"DENY","override":true}],"referrer_policy":[],"strict_transport_security":[{"access_control_max_age_sec":31536000,"include_subdomains":true,"override":true,"preload":true}],"xss_protection":[{"mode_block":true,"override":true,"protection":true,"report_uri":null}]}],"server_timing_headers_config":[]},"after_unknown":{"arn":true,"cors_config":[],"custom_headers_config":[],"etag":true,"id":true,"remove_headers_config":[],"security_headers_config":[{"content_security_policy":[],"content_type_options":[{}],"frame_options":[{}],"referrer_policy":[],"strict_transport_security":[{}],"xss_protection":[{}]}],"server_timing_headers_config":[]},"before_sensitive":false,"after_sensitive":{"cors_config":[],"custom_headers_config":[],"remove_headers_config":[],"security_headers_config":[{"content_security_policy":[],"content_type_options":[{}],"frame_options":[{}],"referrer_policy":[],"strict_transport_security":[{}],"xss_protection":[{}]}],"server_timing_headers_config":[]}}},{"address":"module.foundation.aws_kms_alias.main","module_address":"module.foundation","mode":"managed","type":"aws_kms_alias","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"alias/tattoo-artist-directory-dev-main"},"after_unknown":{"arn":true,"id":true,"name_prefix":true,"target_key_arn":true,"target_key_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.foundation.aws_kms_key.main","module_address":"module.foundation","mode":"managed","type":"aws_kms_key","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"bypass_policy_lockout_safety_check":false,"custom_key_store_id":null,"customer_master_key_spec":"SYMMETRIC_DEFAULT","deletion_window_in_days":7,"description":"Main KMS key for tattoo-artist-directory-dev","enable_key_rotation":true,"is_enabled":true,"key_usage":"ENCRYPT_DECRYPT","policy":"{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::773595699997:root\"},\"Resource\":\"*\",\"Sid\":\"Enable IAM User Permissions\"},{\"Action\":\"kms:Decrypt\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"s3.amazonaws.com\"},\"Resource\":\"*\",\"Sid\":\"Allow S3 Replication to Decrypt from Source\"}],\"Version\":\"2012-10-17\"}","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-main-key","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-main-key","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"xks_key_id":null},"after_unknown":{"arn":true,"id":true,"key_id":true,"multi_region":true,"rotation_period_in_days":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.foundation.random_id.suffix","module_address":"module.foundation","mode":"managed","type":"random_id","name":"suffix","provider_name":"registry.terraform.io/hashicorp/random","change":{"actions":["create"],"before":null,"after":{"byte_length":4,"keepers":null,"prefix":null},"after_unknown":{"b64_std":true,"b64_url":true,"dec":true,"hex":true,"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.foundation.random_password.app_secrets","module_address":"module.foundation","mode":"managed","type":"random_password","name":"app_secrets","provider_name":"registry.terraform.io/hashicorp/random","change":{"actions":["create"],"before":null,"after":{"keepers":null,"length":32,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"numeric":true,"override_special":null,"special":true,"upper":true},"after_unknown":{"bcrypt_hash":true,"id":true,"result":true},"before_sensitive":false,"after_sensitive":{"bcrypt_hash":true,"result":true}}},{"address":"module.foundation.random_password.opensearch_master","module_address":"module.foundation","mode":"managed","type":"random_password","name":"opensearch_master","provider_name":"registry.terraform.io/hashicorp/random","change":{"actions":["create"],"before":null,"after":{"keepers":null,"length":16,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"numeric":true,"override_special":null,"special":true,"upper":true},"after_unknown":{"bcrypt_hash":true,"id":true,"result":true},"before_sensitive":false,"after_sensitive":{"bcrypt_hash":true,"result":true}}},{"address":"module.governance.aws_cloudtrail.main","module_address":"module.governance","mode":"managed","type":"aws_cloudtrail","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"advanced_event_selector":[],"cloud_watch_logs_role_arn":"","enable_log_file_validation":true,"enable_logging":true,"event_selector":[{"data_resource":[{"type":"AWS::S3::Object"},{"type":"AWS::DynamoDB::Table"}],"exclude_management_event_sources":null,"include_management_events":true,"read_write_type":"All"}],"include_global_service_events":true,"insight_selector":[{"insight_type":"ApiCallRateInsight"}],"is_multi_region_trail":true,"is_organization_trail":false,"name":"tattoo-artist-directory-dev-cloudtrail","s3_key_prefix":null,"sns_topic_name":"tattoo-artist-directory-dev-cloudtrail-notifications","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"advanced_event_selector":[],"arn":true,"cloud_watch_logs_group_arn":true,"event_selector":[{"data_resource":[{"values":true},{"values":true}]}],"home_region":true,"id":true,"insight_selector":[{}],"kms_key_id":true,"s3_bucket_name":true,"sns_topic_arn":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"advanced_event_selector":[],"event_selector":[{"data_resource":[{"values":[]},{"values":[]}]}],"insight_selector":[{}],"tags":{},"tags_all":{}}}},{"address":"module.governance.aws_cloudwatch_dashboard.compliance[0]","module_address":"module.governance","mode":"managed","type":"aws_cloudwatch_dashboard","name":"compliance","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"dashboard_body":"{\"widgets\":[{\"height\":6,\"properties\":{\"metrics\":[[\"AWS/Config\",\"ComplianceByConfigRule\",\"RuleName\",\"tattoo-artist-directory-dev-s3-bucket-public-access-prohibited\",\"ComplianceType\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-s3-bucket-server-side-encryption-enabled\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-dynamodb-table-encryption-enabled\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-dynamodb-pitr-enabled\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-lambda-concurrency-check\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-lambda-function-public-access-prohibited\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-lambda-inside-vpc\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-api-gw-execution-logging-enabled\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-cloudfront-origin-access-control-enabled\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-cloudfront-viewer-policy-https\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-vpc-default-security-group-closed\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-vpc-flow-logs-enabled\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-iam-policy-no-statements-with-admin-access\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-iam-user-no-policies-check\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"],[\".\",\".\",\"RuleName\",\"tattoo-artist-directory-dev-kms-cmk-not-scheduled-for-deletion\",\".\",\"COMPLIANT\"],[\"...\",\"NON_COMPLIANT\"]],\"period\":300,\"region\":\"eu-west-2\",\"stacked\":false,\"title\":\"Config Rule Compliance\",\"view\":\"timeSeries\"},\"type\":\"metric\",\"width\":12,\"x\":0,\"y\":0},{\"height\":6,\"properties\":{\"metrics\":[[\"tattoo-artist-directory/Security\",\"SecurityAlerts\"]],\"period\":300,\"region\":\"eu-west-2\",\"stacked\":false,\"title\":\"Security Alerts\",\"view\":\"timeSeries\"},\"type\":\"metric\",\"width\":12,\"x\":12,\"y\":0},{\"height\":6,\"properties\":{\"query\":\"SOURCE '/aws/cloudtrail/tattoo-artist-directory-dev'\\n| fields @timestamp, sourceIPAddress, userIdentity.type, eventName, errorCode\\n| filter errorCode exists\\n| sort @timestamp desc\\n| limit 20\",\"region\":\"eu-west-2\",\"title\":\"Recent CloudTrail Errors\",\"view\":\"table\"},\"type\":\"log\",\"width\":24,\"x\":0,\"y\":6},{\"height\":6,\"properties\":{\"query\":\"SOURCE '/aws/cloudtrail/tattoo-artist-directory-dev'\\n| fields @timestamp, sourceIPAddress, userIdentity.type, eventName\\n| filter sourceIPAddress not like /^AWS Internal/\\n| stats count() by sourceIPAddress\\n| sort count desc\\n| limit 10\",\"region\":\"eu-west-2\",\"title\":\"Top Source IP Addresses\",\"view\":\"table\"},\"type\":\"log\",\"width\":24,\"x\":0,\"y\":12}]}","dashboard_name":"tattoo-artist-directory-dev-compliance"},"after_unknown":{"dashboard_arn":true,"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.governance.aws_cloudwatch_log_group.cloudtrail","module_address":"module.governance","mode":"managed","type":"aws_cloudwatch_log_group","name":"cloudtrail","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"/aws/cloudtrail/tattoo-artist-directory-dev","retention_in_days":14,"skip_destroy":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"id":true,"kms_key_id":true,"log_group_class":true,"name_prefix":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"api-gw-execution-logging-enabled\"]","module_address":"module.governance","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"api-gw-execution-logging-enabled","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-api-gw-execution-logging-enabled","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"API_GW_EXECUTION_LOGGING_ENABLED"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"evaluation_mode":true,"id":true,"rule_id":true,"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}},"before_sensitive":false,"after_sensitive":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"cloudfront-origin-access-control-enabled\"]","module_address":"module.governance","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"cloudfront-origin-access-control-enabled","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-cloudfront-origin-access-control-enabled","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"CLOUDFRONT_ORIGIN_ACCESS_CONTROL_ENABLED"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"evaluation_mode":true,"id":true,"rule_id":true,"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}},"before_sensitive":false,"after_sensitive":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"cloudfront-viewer-policy-https\"]","module_address":"module.governance","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"cloudfront-viewer-policy-https","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-cloudfront-viewer-policy-https","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"CLOUDFRONT_VIEWER_POLICY_HTTPS"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"evaluation_mode":true,"id":true,"rule_id":true,"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}},"before_sensitive":false,"after_sensitive":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"dynamodb-pitr-enabled\"]","module_address":"module.governance","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"dynamodb-pitr-enabled","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-dynamodb-pitr-enabled","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"DYNAMODB_PITR_ENABLED"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"evaluation_mode":true,"id":true,"rule_id":true,"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}},"before_sensitive":false,"after_sensitive":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"dynamodb-table-encryption-enabled\"]","module_address":"module.governance","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"dynamodb-table-encryption-enabled","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-dynamodb-table-encryption-enabled","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"DYNAMODB_TABLE_ENCRYPTION_ENABLED"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"evaluation_mode":true,"id":true,"rule_id":true,"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}},"before_sensitive":false,"after_sensitive":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"iam-policy-no-statements-with-admin-access\"]","module_address":"module.governance","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"iam-policy-no-statements-with-admin-access","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-iam-policy-no-statements-with-admin-access","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"IAM_POLICY_NO_STATEMENTS_WITH_ADMIN_ACCESS"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"evaluation_mode":true,"id":true,"rule_id":true,"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}},"before_sensitive":false,"after_sensitive":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"iam-user-no-policies-check\"]","module_address":"module.governance","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"iam-user-no-policies-check","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-iam-user-no-policies-check","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"IAM_USER_NO_POLICIES_CHECK"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"evaluation_mode":true,"id":true,"rule_id":true,"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}},"before_sensitive":false,"after_sensitive":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"kms-cmk-not-scheduled-for-deletion\"]","module_address":"module.governance","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"kms-cmk-not-scheduled-for-deletion","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-kms-cmk-not-scheduled-for-deletion","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"KMS_CMK_NOT_SCHEDULED_FOR_DELETION"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"evaluation_mode":true,"id":true,"rule_id":true,"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}},"before_sensitive":false,"after_sensitive":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"lambda-concurrency-check\"]","module_address":"module.governance","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"lambda-concurrency-check","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"input_parameters":"{\"ConcurrencyLimitHigh\":100,\"ConcurrencyLimitLow\":1}","maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-lambda-concurrency-check","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"LAMBDA_CONCURRENCY_CHECK"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"evaluation_mode":true,"id":true,"rule_id":true,"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}},"before_sensitive":false,"after_sensitive":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"lambda-function-public-access-prohibited\"]","module_address":"module.governance","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"lambda-function-public-access-prohibited","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-lambda-function-public-access-prohibited","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"LAMBDA_FUNCTION_PUBLIC_ACCESS_PROHIBITED"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"evaluation_mode":true,"id":true,"rule_id":true,"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}},"before_sensitive":false,"after_sensitive":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"lambda-inside-vpc\"]","module_address":"module.governance","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"lambda-inside-vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-lambda-inside-vpc","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"LAMBDA_INSIDE_VPC"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"evaluation_mode":true,"id":true,"rule_id":true,"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}},"before_sensitive":false,"after_sensitive":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"s3-bucket-public-access-prohibited\"]","module_address":"module.governance","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"s3-bucket-public-access-prohibited","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-s3-bucket-public-access-prohibited","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"S3_BUCKET_PUBLIC_ACCESS_PROHIBITED"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"evaluation_mode":true,"id":true,"rule_id":true,"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}},"before_sensitive":false,"after_sensitive":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"s3-bucket-server-side-encryption-enabled\"]","module_address":"module.governance","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"s3-bucket-server-side-encryption-enabled","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-s3-bucket-server-side-encryption-enabled","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"S3_BUCKET_SERVER_SIDE_ENCRYPTION_ENABLED"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"evaluation_mode":true,"id":true,"rule_id":true,"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}},"before_sensitive":false,"after_sensitive":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"vpc-default-security-group-closed\"]","module_address":"module.governance","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"vpc-default-security-group-closed","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-vpc-default-security-group-closed","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"VPC_DEFAULT_SECURITY_GROUP_CLOSED"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"evaluation_mode":true,"id":true,"rule_id":true,"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}},"before_sensitive":false,"after_sensitive":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}}},{"address":"module.governance.aws_config_config_rule.managed_rules[\"vpc-flow-logs-enabled\"]","module_address":"module.governance","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","index":"vpc-flow-logs-enabled","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":null,"input_parameters":null,"maximum_execution_frequency":null,"name":"tattoo-artist-directory-dev-vpc-flow-logs-enabled","scope":[],"source":[{"custom_policy_details":[],"owner":"AWS","source_detail":[],"source_identifier":"VPC_FLOW_LOGS_ENABLED"}],"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"evaluation_mode":true,"id":true,"rule_id":true,"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}},"before_sensitive":false,"after_sensitive":{"evaluation_mode":[],"scope":[],"source":[{"custom_policy_details":[],"source_detail":[]}],"tags_all":{}}}},{"address":"module.governance.aws_config_configuration_recorder.main[0]","module_address":"module.governance","mode":"managed","type":"aws_config_configuration_recorder","name":"main","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"tattoo-artist-directory-dev-config-recorder","recording_group":[{"all_supported":true,"include_global_resource_types":true,"resource_types":null}]},"after_unknown":{"id":true,"recording_group":[{"exclusion_by_resource_types":true,"recording_strategy":true}],"recording_mode":true,"role_arn":true},"before_sensitive":false,"after_sensitive":{"recording_group":[{"exclusion_by_resource_types":[],"recording_strategy":[]}],"recording_mode":[]}}},{"address":"module.governance.aws_config_delivery_channel.main[0]","module_address":"module.governance","mode":"managed","type":"aws_config_delivery_channel","name":"main","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"tattoo-artist-directory-dev-config-delivery-channel","s3_key_prefix":null,"s3_kms_key_arn":null,"snapshot_delivery_properties":[{"delivery_frequency":"TwentyFour_Hours"}],"sns_topic_arn":null},"after_unknown":{"id":true,"s3_bucket_name":true,"snapshot_delivery_properties":[{}]},"before_sensitive":false,"after_sensitive":{"snapshot_delivery_properties":[{}]}}},{"address":"module.governance.aws_sns_topic.cloudtrail_notifications","module_address":"module.governance","mode":"managed","type":"aws_sns_topic","name":"cloudtrail_notifications","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"tattoo-artist-directory-dev-cloudtrail-notifications","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail-notifications","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail-notifications","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"beginning_archive_time":true,"fifo_throughput_scope":true,"id":true,"kms_master_key_id":true,"name_prefix":true,"owner":true,"policy":true,"signature_version":true,"tags":{},"tags_all":{},"tracing_config":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.governance.aws_sns_topic.config_notifications[0]","module_address":"module.governance","mode":"managed","type":"aws_sns_topic","name":"config_notifications","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"tattoo-artist-directory-dev-config-notifications","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-notifications","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-notifications","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"beginning_archive_time":true,"fifo_throughput_scope":true,"id":true,"kms_master_key_id":true,"name_prefix":true,"owner":true,"policy":true,"signature_version":true,"tags":{},"tags_all":{},"tracing_config":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_policy.ecs_task","module_address":"module.iam","mode":"managed","type":"aws_iam_policy","name":"ecs_task","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Policy for ECS tasks","name":"tattoo-artist-directory-dev-ecs-task-policy","path":"/","policy":"{\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:eu-west-2:773595699997:secret:tattoo-artist-directory-dev-app-secrets*\"}],\"Version\":\"2012-10-17\"}","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-task-policy","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-task-policy","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"attachment_count":true,"id":true,"name_prefix":true,"policy_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_policy.lambda_api","module_address":"module.iam","mode":"managed","type":"aws_iam_policy","name":"lambda_api","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Policy for API handler Lambda function","name":"tattoo-artist-directory-dev-lambda-api-policy","path":"/","policy":"{\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:eu-west-2:773595699997:secret:tattoo-artist-directory-dev-app-secrets*\"}],\"Version\":\"2012-10-17\"}","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-api-policy","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-api-policy","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"attachment_count":true,"id":true,"name_prefix":true,"policy_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_policy.lambda_rotate_nat_gateway_eip","module_address":"module.iam","mode":"managed","type":"aws_iam_policy","name":"lambda_rotate_nat_gateway_eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Allows rotating the NAT Gateway EIP and publishing to SNS.","name":"tattoo-artist-directory-dev-rotate-nat-eip-policy","path":"/","policy":"{\"Statement\":[{\"Action\":[\"ec2:DescribeNatGateways\",\"ec2:DescribeAddresses\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"DescribeResources\"},{\"Action\":[\"ec2:AllocateAddress\",\"ec2:ReleaseAddress\"],\"Condition\":{\"StringEquals\":{\"aws:RequestTag/Project\":\"tattoo-artist-directory\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"ManageEIPAllocation\"},{\"Action\":[\"ec2:AssociateAddress\",\"ec2:DisassociateAddress\"],\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/Name\":\"tattoo-artist-directory-dev-nat-*\"}},\"Effect\":\"Allow\",\"Resource\":\"arn:aws:ec2:eu-west-2:773595699997:network-interface/*\",\"Sid\":\"ManageEIPAssociation\"},{\"Action\":\"sns:Publish\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sns:eu-west-2:773595699997:tattoo-artist-directory-dev-critical-alerts\",\"Sid\":\"PublishSNSNotification\"}],\"Version\":\"2012-10-17\"}","tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"attachment_count":true,"id":true,"name_prefix":true,"policy_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.iam.aws_iam_policy.lambda_sync","module_address":"module.iam","mode":"managed","type":"aws_iam_policy","name":"lambda_sync","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Policy for DynamoDB to OpenSearch sync Lambda function","name":"tattoo-artist-directory-dev-lambda-sync-policy","path":"/","policy":"{\"Statement\":[{\"Action\":[\"secretsmanager:GetSecretValue\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:secretsmanager:eu-west-2:773595699997:secret:tattoo-artist-directory-dev-app-secrets*\"}],\"Version\":\"2012-10-17\"}","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-sync-policy","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-sync-policy","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"attachment_count":true,"id":true,"name_prefix":true,"policy_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role.config[0]","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"config","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"config.amazonaws.com\"}},{\"Action\":\"sts:AssumeRole\",\"Condition\":{\"StringEquals\":{\"sts:ExternalId\":\"tattoo-artist-directory-dev-config-cross-account\"}},\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::098819594789:root\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-config-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role.ecs_task","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"ecs_task","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-ecs-task-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-task-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-task-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role.ecs_task_execution","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"ecs_task_execution","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-ecs-task-execution-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-task-execution-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecs-task-execution-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role.lambda_api","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"lambda_api","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-lambda-api-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-api-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-api-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role.lambda_discover_studios","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"lambda_discover_studios","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-lambda-discover-studios-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-discover-studios-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-discover-studios-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role.lambda_find_artists","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"lambda_find_artists","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-lambda-find-artists-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-find-artists-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-find-artists-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role.lambda_queue_scraping","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"lambda_queue_scraping","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-lambda-queue-scraping-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-queue-scraping-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-queue-scraping-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role.lambda_rotate_nat_gateway_eip","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"lambda_rotate_nat_gateway_eip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-rotate-nat-eip-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-rotate-nat-eip-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-rotate-nat-eip-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role.lambda_sync","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"lambda_sync","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-lambda-sync-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-sync-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-sync-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role.step_functions","module_address":"module.iam","mode":"managed","type":"aws_iam_role","name":"step_functions","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"states.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","description":null,"force_detach_policies":false,"max_session_duration":3600,"name":"tattoo-artist-directory-dev-step-functions-role","path":"/","permissions_boundary":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-step-functions-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-step-functions-role","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"inline_policy":true,"managed_policy_arns":true,"name_prefix":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"module.iam.aws_iam_role_policy_attachment.config[0]","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"config","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWS_ConfigRole","role":"tattoo-artist-directory-dev-config-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.ecs_task_custom","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ecs_task_custom","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"tattoo-artist-directory-dev-ecs-task-role"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.ecs_task_execution","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ecs_task_execution","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy","role":"tattoo-artist-directory-dev-ecs-task-execution-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.ecs_task_xray","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ecs_task_xray","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess","role":"tattoo-artist-directory-dev-ecs-task-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_api_basic","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_api_basic","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"tattoo-artist-directory-dev-lambda-api-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_api_custom","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_api_custom","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"tattoo-artist-directory-dev-lambda-api-role"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_api_vpc","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_api_vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole","role":"tattoo-artist-directory-dev-lambda-api-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_api_xray","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_api_xray","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess","role":"tattoo-artist-directory-dev-lambda-api-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_discover_studios_basic","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_discover_studios_basic","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"tattoo-artist-directory-dev-lambda-discover-studios-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_discover_studios_vpc","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_discover_studios_vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole","role":"tattoo-artist-directory-dev-lambda-discover-studios-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_discover_studios_xray","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_discover_studios_xray","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess","role":"tattoo-artist-directory-dev-lambda-discover-studios-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_find_artists_basic","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_find_artists_basic","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"tattoo-artist-directory-dev-lambda-find-artists-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_find_artists_vpc","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_find_artists_vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole","role":"tattoo-artist-directory-dev-lambda-find-artists-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_find_artists_xray","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_find_artists_xray","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess","role":"tattoo-artist-directory-dev-lambda-find-artists-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_queue_scraping_basic","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_queue_scraping_basic","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"tattoo-artist-directory-dev-lambda-queue-scraping-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_queue_scraping_vpc","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_queue_scraping_vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole","role":"tattoo-artist-directory-dev-lambda-queue-scraping-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_queue_scraping_xray","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_queue_scraping_xray","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess","role":"tattoo-artist-directory-dev-lambda-queue-scraping-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_rotate_nat_gateway_eip_basic","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_rotate_nat_gateway_eip_basic","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"tattoo-artist-directory-dev-rotate-nat-eip-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_rotate_nat_gateway_eip_custom","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_rotate_nat_gateway_eip_custom","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"tattoo-artist-directory-dev-rotate-nat-eip-role"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_rotate_nat_gateway_eip_vpc","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_rotate_nat_gateway_eip_vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole","role":"tattoo-artist-directory-dev-rotate-nat-eip-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_rotate_nat_gateway_eip_xray","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_rotate_nat_gateway_eip_xray","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess","role":"tattoo-artist-directory-dev-rotate-nat-eip-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_sync_basic","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sync_basic","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"tattoo-artist-directory-dev-lambda-sync-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_sync_custom","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sync_custom","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"role":"tattoo-artist-directory-dev-lambda-sync-role"},"after_unknown":{"id":true,"policy_arn":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_sync_vpc","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sync_vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole","role":"tattoo-artist-directory-dev-lambda-sync-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.lambda_sync_xray","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sync_xray","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess","role":"tattoo-artist-directory-dev-lambda-sync-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.iam.aws_iam_role_policy_attachment.step_functions_xray","module_address":"module.iam","mode":"managed","type":"aws_iam_role_policy_attachment","name":"step_functions_xray","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"policy_arn":"arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess","role":"tattoo-artist-directory-dev-step-functions-role"},"after_unknown":{"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.log_storage.aws_kms_alias.log_archive","module_address":"module.log_storage","mode":"managed","type":"aws_kms_alias","name":"log_archive","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"alias/tattoo-artist-directory-dev-log-archive-key"},"after_unknown":{"arn":true,"id":true,"name_prefix":true,"target_key_arn":true,"target_key_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.log_storage.aws_kms_key.log_archive","module_address":"module.log_storage","mode":"managed","type":"aws_kms_key","name":"log_archive","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"bypass_policy_lockout_safety_check":false,"custom_key_store_id":null,"customer_master_key_spec":"SYMMETRIC_DEFAULT","deletion_window_in_days":10,"description":"KMS key for encrypting resources in the Log Archive account","enable_key_rotation":true,"is_enabled":true,"key_usage":"ENCRYPT_DECRYPT","policy":"{\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::224425919836:root\"},\"Resource\":\"*\",\"Sid\":\"EnableIAMUserPermissions\"},{\"Action\":[\"kms:DescribeKey\",\"kms:Decrypt\"],\"Condition\":{\"StringEquals\":{\"aws:PrincipalTag/iam.amazonaws.com/role-purpose\":\"log-auditing\"}},\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::098819594789:root\"},\"Resource\":\"*\",\"Sid\":\"AllowAuditAccountKmsUsage\"}],\"Version\":\"2012-10-17\"}","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-log-archive-key","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-log-archive-key","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Log-Archive-Resources"},"timeouts":null,"xks_key_id":null},"after_unknown":{"arn":true,"id":true,"key_id":true,"multi_region":true,"rotation_period_in_days":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.log_storage.aws_s3_bucket.main[\"access_logs\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket","name":"main","index":"access_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"force_destroy":true,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"CloudFront and other access logs","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-access_logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"CloudFront and other access logs","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-access_logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Log-Archive-Resources"},"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"region":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags":{},"tags_all":{},"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}}},{"address":"module.log_storage.aws_s3_bucket.main[\"cloudtrail\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket","name":"main","index":"cloudtrail","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"force_destroy":true,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"CloudTrail logs bucket","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"CloudTrail logs bucket","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Log-Archive-Resources"},"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"region":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags":{},"tags_all":{},"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}}},{"address":"module.log_storage.aws_s3_bucket.main[\"config\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket","name":"main","index":"config","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"force_destroy":true,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"AWS Config bucket","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"AWS Config bucket","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Log-Archive-Resources"},"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"region":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags":{},"tags_all":{},"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}}},{"address":"module.log_storage.aws_s3_bucket.main[\"vpc_flow_logs\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket","name":"main","index":"vpc_flow_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"force_destroy":true,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"VPC Flow Logs bucket","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-vpc_flow_logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"VPC Flow Logs bucket","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-vpc_flow_logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Log-Archive-Resources"},"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"region":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags":{},"tags_all":{},"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}}},{"address":"module.log_storage.aws_s3_bucket.main[\"waf_logs\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket","name":"main","index":"waf_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"force_destroy":true,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"WAF logs bucket","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-waf_logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Description":"WAF logs bucket","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-waf_logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Log-Archive-Resources"},"timeouts":null},"after_unknown":{"acceleration_status":true,"acl":true,"arn":true,"bucket":true,"bucket_domain_name":true,"bucket_prefix":true,"bucket_regional_domain_name":true,"cors_rule":true,"grant":true,"hosted_zone_id":true,"id":true,"lifecycle_rule":true,"logging":true,"object_lock_configuration":true,"object_lock_enabled":true,"policy":true,"region":true,"replication_configuration":true,"request_payer":true,"server_side_encryption_configuration":true,"tags":{},"tags_all":{},"versioning":true,"website":true,"website_domain":true,"website_endpoint":true},"before_sensitive":false,"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}}},{"address":"module.log_storage.aws_s3_bucket_lifecycle_configuration.main[\"access_logs\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"main","index":"access_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"rule":[{"abort_incomplete_multipart_upload":[{"days_after_initiation":7}],"expiration":[{"date":null,"days":30,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"access_logs_lifecycle","noncurrent_version_expiration":[{"newer_noncurrent_versions":null,"noncurrent_days":14}],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[{"date":null,"days":30,"storage_class":"STANDARD_IA"}]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"after_unknown":{"bucket":true,"expected_bucket_owner":true,"id":true,"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[{}]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[{}]}]}}},{"address":"module.log_storage.aws_s3_bucket_lifecycle_configuration.main[\"cloudtrail\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"main","index":"cloudtrail","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"rule":[{"abort_incomplete_multipart_upload":[{"days_after_initiation":7}],"expiration":[{"date":null,"days":90,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"cloudtrail_lifecycle","noncurrent_version_expiration":[{"newer_noncurrent_versions":null,"noncurrent_days":30}],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[{"date":null,"days":365,"storage_class":"GLACIER"},{"date":null,"days":90,"storage_class":"STANDARD_IA"}]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"after_unknown":{"bucket":true,"expected_bucket_owner":true,"id":true,"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[{},{}]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[{},{}]}]}}},{"address":"module.log_storage.aws_s3_bucket_lifecycle_configuration.main[\"config\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"main","index":"config","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"rule":[{"abort_incomplete_multipart_upload":[{"days_after_initiation":7}],"expiration":[{"date":null,"days":90,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"config_lifecycle","noncurrent_version_expiration":[{"newer_noncurrent_versions":null,"noncurrent_days":30}],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[{"date":null,"days":365,"storage_class":"GLACIER"},{"date":null,"days":90,"storage_class":"STANDARD_IA"}]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"after_unknown":{"bucket":true,"expected_bucket_owner":true,"id":true,"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[{},{}]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[{},{}]}]}}},{"address":"module.log_storage.aws_s3_bucket_lifecycle_configuration.main[\"vpc_flow_logs\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"main","index":"vpc_flow_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"rule":[{"abort_incomplete_multipart_upload":[{"days_after_initiation":7}],"expiration":[{"date":null,"days":30,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"vpc_flow_logs_lifecycle","noncurrent_version_expiration":[{"newer_noncurrent_versions":null,"noncurrent_days":14}],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[{"date":null,"days":30,"storage_class":"STANDARD_IA"}]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"after_unknown":{"bucket":true,"expected_bucket_owner":true,"id":true,"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[{}]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[{}]}]}}},{"address":"module.log_storage.aws_s3_bucket_lifecycle_configuration.main[\"waf_logs\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"main","index":"waf_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"rule":[{"abort_incomplete_multipart_upload":[{"days_after_initiation":7}],"expiration":[{"date":null,"days":30,"expired_object_delete_marker":false}],"filter":[{"and":[],"object_size_greater_than":null,"object_size_less_than":null,"prefix":"","tag":[]}],"id":"waf_logs_lifecycle","noncurrent_version_expiration":[{"newer_noncurrent_versions":null,"noncurrent_days":14}],"noncurrent_version_transition":[],"prefix":"","status":"Enabled","transition":[{"date":null,"days":30,"storage_class":"STANDARD_IA"}]}],"timeouts":null,"transition_default_minimum_object_size":"all_storage_classes_128K"},"after_unknown":{"bucket":true,"expected_bucket_owner":true,"id":true,"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[{}]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"abort_incomplete_multipart_upload":[{}],"expiration":[{}],"filter":[{"and":[],"tag":[]}],"noncurrent_version_expiration":[{}],"noncurrent_version_transition":[],"transition":[{}]}]}}},{"address":"module.log_storage.aws_s3_bucket_logging.main[\"cloudtrail\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_logging","name":"main","index":"cloudtrail","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"target_grant":[],"target_object_key_format":[],"target_prefix":"cloudtrail-access-logs/"},"after_unknown":{"bucket":true,"id":true,"target_bucket":true,"target_grant":[],"target_object_key_format":[]},"before_sensitive":false,"after_sensitive":{"target_grant":[],"target_object_key_format":[]}}},{"address":"module.log_storage.aws_s3_bucket_logging.main[\"config\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_logging","name":"main","index":"config","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"target_grant":[],"target_object_key_format":[],"target_prefix":"config-access-logs/"},"after_unknown":{"bucket":true,"id":true,"target_bucket":true,"target_grant":[],"target_object_key_format":[]},"before_sensitive":false,"after_sensitive":{"target_grant":[],"target_object_key_format":[]}}},{"address":"module.log_storage.aws_s3_bucket_logging.main[\"vpc_flow_logs\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_logging","name":"main","index":"vpc_flow_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"target_grant":[],"target_object_key_format":[],"target_prefix":"vpc-flow-logs-access-logs/"},"after_unknown":{"bucket":true,"id":true,"target_bucket":true,"target_grant":[],"target_object_key_format":[]},"before_sensitive":false,"after_sensitive":{"target_grant":[],"target_object_key_format":[]}}},{"address":"module.log_storage.aws_s3_bucket_logging.main[\"waf_logs\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_logging","name":"main","index":"waf_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"target_grant":[],"target_object_key_format":[],"target_prefix":"waf-logs-access-logs/"},"after_unknown":{"bucket":true,"id":true,"target_bucket":true,"target_grant":[],"target_object_key_format":[]},"before_sensitive":false,"after_sensitive":{"target_grant":[],"target_object_key_format":[]}}},{"address":"module.log_storage.aws_s3_bucket_policy.access_logs","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_policy","name":"access_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"bucket":true,"id":true,"policy":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.log_storage.aws_s3_bucket_policy.cloudtrail","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_policy","name":"cloudtrail","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"bucket":true,"id":true,"policy":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.log_storage.aws_s3_bucket_policy.config","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_policy","name":"config","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"bucket":true,"id":true,"policy":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.log_storage.aws_s3_bucket_policy.vpc_flow_logs","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_policy","name":"vpc_flow_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"bucket":true,"id":true,"policy":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.log_storage.aws_s3_bucket_policy.waf_logs","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_policy","name":"waf_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"bucket":true,"id":true,"policy":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.log_storage.aws_s3_bucket_public_access_block.main[\"access_logs\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"main","index":"access_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"block_public_acls":true,"block_public_policy":true,"ignore_public_acls":true,"restrict_public_buckets":true},"after_unknown":{"bucket":true,"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.log_storage.aws_s3_bucket_public_access_block.main[\"cloudtrail\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"main","index":"cloudtrail","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"block_public_acls":true,"block_public_policy":true,"ignore_public_acls":true,"restrict_public_buckets":true},"after_unknown":{"bucket":true,"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.log_storage.aws_s3_bucket_public_access_block.main[\"config\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"main","index":"config","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"block_public_acls":true,"block_public_policy":true,"ignore_public_acls":true,"restrict_public_buckets":true},"after_unknown":{"bucket":true,"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.log_storage.aws_s3_bucket_public_access_block.main[\"vpc_flow_logs\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"main","index":"vpc_flow_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"block_public_acls":true,"block_public_policy":true,"ignore_public_acls":true,"restrict_public_buckets":true},"after_unknown":{"bucket":true,"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.log_storage.aws_s3_bucket_public_access_block.main[\"waf_logs\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"main","index":"waf_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"block_public_acls":true,"block_public_policy":true,"ignore_public_acls":true,"restrict_public_buckets":true},"after_unknown":{"bucket":true,"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.log_storage.aws_s3_bucket_server_side_encryption_configuration.main[\"access_logs\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"main","index":"access_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"bucket_key_enabled":true}]},"after_unknown":{"bucket":true,"id":true,"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":true}]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}}},{"address":"module.log_storage.aws_s3_bucket_server_side_encryption_configuration.main[\"cloudtrail\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"main","index":"cloudtrail","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"bucket_key_enabled":true}]},"after_unknown":{"bucket":true,"id":true,"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":true}]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}}},{"address":"module.log_storage.aws_s3_bucket_server_side_encryption_configuration.main[\"config\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"main","index":"config","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"bucket_key_enabled":true}]},"after_unknown":{"bucket":true,"id":true,"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":true}]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}}},{"address":"module.log_storage.aws_s3_bucket_server_side_encryption_configuration.main[\"vpc_flow_logs\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"main","index":"vpc_flow_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"bucket_key_enabled":true}]},"after_unknown":{"bucket":true,"id":true,"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":true}]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}}},{"address":"module.log_storage.aws_s3_bucket_server_side_encryption_configuration.main[\"waf_logs\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"main","index":"waf_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"rule":[{"apply_server_side_encryption_by_default":[{"sse_algorithm":"aws:kms"}],"bucket_key_enabled":true}]},"after_unknown":{"bucket":true,"id":true,"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":true}]}]},"before_sensitive":false,"after_sensitive":{"rule":[{"apply_server_side_encryption_by_default":[{}]}]}}},{"address":"module.log_storage.aws_s3_bucket_versioning.main[\"access_logs\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_versioning","name":"main","index":"access_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"after_unknown":{"bucket":true,"id":true,"versioning_configuration":[{"mfa_delete":true}]},"before_sensitive":false,"after_sensitive":{"versioning_configuration":[{}]}}},{"address":"module.log_storage.aws_s3_bucket_versioning.main[\"cloudtrail\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_versioning","name":"main","index":"cloudtrail","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"after_unknown":{"bucket":true,"id":true,"versioning_configuration":[{"mfa_delete":true}]},"before_sensitive":false,"after_sensitive":{"versioning_configuration":[{}]}}},{"address":"module.log_storage.aws_s3_bucket_versioning.main[\"config\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_versioning","name":"main","index":"config","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"after_unknown":{"bucket":true,"id":true,"versioning_configuration":[{"mfa_delete":true}]},"before_sensitive":false,"after_sensitive":{"versioning_configuration":[{}]}}},{"address":"module.log_storage.aws_s3_bucket_versioning.main[\"vpc_flow_logs\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_versioning","name":"main","index":"vpc_flow_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"after_unknown":{"bucket":true,"id":true,"versioning_configuration":[{"mfa_delete":true}]},"before_sensitive":false,"after_sensitive":{"versioning_configuration":[{}]}}},{"address":"module.log_storage.aws_s3_bucket_versioning.main[\"waf_logs\"]","module_address":"module.log_storage","mode":"managed","type":"aws_s3_bucket_versioning","name":"main","index":"waf_logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"expected_bucket_owner":null,"mfa":null,"versioning_configuration":[{"status":"Enabled"}]},"after_unknown":{"bucket":true,"id":true,"versioning_configuration":[{"mfa_delete":true}]},"before_sensitive":false,"after_sensitive":{"versioning_configuration":[{}]}}},{"address":"module.networking.aws_default_security_group.default","module_address":"module.networking","mode":"managed","type":"aws_default_security_group","name":"default","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"revoke_rules_on_delete":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-default-sg-restricted","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-default-sg-restricted","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"description":true,"egress":true,"id":true,"ingress":true,"name":true,"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_eip.nat[\"a\"]","module_address":"module.networking","mode":"managed","type":"aws_eip","name":"nat","index":"a","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"address":null,"associate_with_private_ip":null,"customer_owned_ipv4_pool":null,"domain":"vpc","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-nat-eip-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-nat-eip-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"after_unknown":{"allocation_id":true,"arn":true,"association_id":true,"carrier_ip":true,"customer_owned_ip":true,"id":true,"instance":true,"ipam_pool_id":true,"network_border_group":true,"network_interface":true,"private_dns":true,"private_ip":true,"ptr_record":true,"public_dns":true,"public_ip":true,"public_ipv4_pool":true,"tags":{},"tags_all":{},"vpc":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_flow_log.vpc","module_address":"module.networking","mode":"managed","type":"aws_flow_log","name":"vpc","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"deliver_cross_account_role":null,"destination_options":[],"eni_id":null,"iam_role_arn":null,"log_destination_type":"s3","max_aggregation_interval":600,"subnet_id":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-vpc-flow-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-vpc-flow-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"traffic_type":"ALL","transit_gateway_attachment_id":null,"transit_gateway_id":null},"after_unknown":{"arn":true,"destination_options":[],"id":true,"log_destination":true,"log_format":true,"log_group_name":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"destination_options":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_internet_gateway.main","module_address":"module.networking","mode":"managed","type":"aws_internet_gateway","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-igw","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-igw","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_nat_gateway.main[\"a\"]","module_address":"module.networking","mode":"managed","type":"aws_nat_gateway","name":"main","index":"a","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"connectivity_type":"public","secondary_allocation_ids":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-nat-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-nat-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"after_unknown":{"allocation_id":true,"association_id":true,"id":true,"network_interface_id":true,"private_ip":true,"public_ip":true,"secondary_private_ip_address_count":true,"secondary_private_ip_addresses":true,"subnet_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"secondary_private_ip_addresses":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_network_acl.private","module_address":"module.networking","mode":"managed","type":"aws_network_acl","name":"private","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"egress":[{"action":"allow","cidr_block":"0.0.0.0/0","from_port":443,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"tcp","rule_no":130,"to_port":443},{"action":"allow","cidr_block":"0.0.0.0/0","from_port":80,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"tcp","rule_no":120,"to_port":80},{"action":"allow","cidr_block":"10.0.0.0/16","from_port":0,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"all","rule_no":100,"to_port":0}],"ingress":[{"action":"allow","cidr_block":"0.0.0.0/0","from_port":1024,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"tcp","rule_no":110,"to_port":65535},{"action":"allow","cidr_block":"10.0.0.0/16","from_port":0,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"all","rule_no":100,"to_port":0},{"action":"deny","cidr_block":"0.0.0.0/0","from_port":3389,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"tcp","rule_no":95,"to_port":3389}],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-nacl","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-nacl","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"egress":[{},{},{}],"id":true,"ingress":[{},{},{}],"owner_id":true,"subnet_ids":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[{},{},{}],"ingress":[{},{},{}],"subnet_ids":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_network_acl.public","module_address":"module.networking","mode":"managed","type":"aws_network_acl","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"egress":[{"action":"allow","cidr_block":"0.0.0.0/0","from_port":0,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"tcp","rule_no":100,"to_port":65535}],"ingress":[{"action":"allow","cidr_block":"0.0.0.0/0","from_port":1024,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"tcp","rule_no":120,"to_port":65535},{"action":"allow","cidr_block":"0.0.0.0/0","from_port":443,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"tcp","rule_no":110,"to_port":443},{"action":"allow","cidr_block":"0.0.0.0/0","from_port":80,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"tcp","rule_no":100,"to_port":80},{"action":"deny","cidr_block":"0.0.0.0/0","from_port":3389,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":"","protocol":"tcp","rule_no":90,"to_port":3389}],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-nacl","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-nacl","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"egress":[{}],"id":true,"ingress":[{},{},{},{}],"owner_id":true,"subnet_ids":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[{}],"ingress":[{},{},{},{}],"subnet_ids":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_network_acl_association.private[\"a\"]","module_address":"module.networking","mode":"managed","type":"aws_network_acl_association","name":"private","index":"a","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"id":true,"network_acl_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.networking.aws_network_acl_association.private[\"b\"]","module_address":"module.networking","mode":"managed","type":"aws_network_acl_association","name":"private","index":"b","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"id":true,"network_acl_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.networking.aws_network_acl_association.private[\"c\"]","module_address":"module.networking","mode":"managed","type":"aws_network_acl_association","name":"private","index":"c","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"id":true,"network_acl_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.networking.aws_network_acl_association.public[\"a\"]","module_address":"module.networking","mode":"managed","type":"aws_network_acl_association","name":"public","index":"a","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"id":true,"network_acl_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.networking.aws_network_acl_association.public[\"b\"]","module_address":"module.networking","mode":"managed","type":"aws_network_acl_association","name":"public","index":"b","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"id":true,"network_acl_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.networking.aws_network_acl_association.public[\"c\"]","module_address":"module.networking","mode":"managed","type":"aws_network_acl_association","name":"public","index":"c","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{},"after_unknown":{"id":true,"network_acl_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.networking.aws_route_table.private[\"a\"]","module_address":"module.networking","mode":"managed","type":"aws_route_table","name":"private","index":"a","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-rt-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-rt-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"nat_gateway_id":true}],"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_route_table.public","module_address":"module.networking","mode":"managed","type":"aws_route_table","name":"public","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-rt","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-rt","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"after_unknown":{"arn":true,"id":true,"owner_id":true,"propagating_vgws":true,"route":[{"gateway_id":true}],"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_route_table_association.private[\"a\"]","module_address":"module.networking","mode":"managed","type":"aws_route_table_association","name":"private","index":"a","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.networking.aws_route_table_association.private[\"b\"]","module_address":"module.networking","mode":"managed","type":"aws_route_table_association","name":"private","index":"b","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.networking.aws_route_table_association.private[\"c\"]","module_address":"module.networking","mode":"managed","type":"aws_route_table_association","name":"private","index":"c","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.networking.aws_route_table_association.public[\"a\"]","module_address":"module.networking","mode":"managed","type":"aws_route_table_association","name":"public","index":"a","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.networking.aws_route_table_association.public[\"b\"]","module_address":"module.networking","mode":"managed","type":"aws_route_table_association","name":"public","index":"b","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.networking.aws_route_table_association.public[\"c\"]","module_address":"module.networking","mode":"managed","type":"aws_route_table_association","name":"public","index":"c","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"gateway_id":null,"timeouts":null},"after_unknown":{"id":true,"route_table_id":true,"subnet_id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.networking.aws_security_group.main[\"fargate\"]","module_address":"module.networking","mode":"managed","type":"aws_security_group","name":"main","index":"fargate","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Fargate security group","name":"tattoo-artist-directory-dev-fargate-sg","revoke_rules_on_delete":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-fargate-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-fargate-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_security_group.main[\"lambda_internal\"]","module_address":"module.networking","mode":"managed","type":"aws_security_group","name":"main","index":"lambda_internal","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Lambda security group for internal VPC access only","name":"tattoo-artist-directory-dev-lambda_internal-sg","revoke_rules_on_delete":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-internal-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-internal-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_security_group.main[\"lambda_internet\"]","module_address":"module.networking","mode":"managed","type":"aws_security_group","name":"main","index":"lambda_internet","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Lambda security group with internet access","name":"tattoo-artist-directory-dev-lambda_internet-sg","revoke_rules_on_delete":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-internet-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-lambda-internet-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_security_group.main[\"opensearch\"]","module_address":"module.networking","mode":"managed","type":"aws_security_group","name":"main","index":"opensearch","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"OpenSearch security group","name":"tattoo-artist-directory-dev-opensearch-sg","revoke_rules_on_delete":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_security_group.main[\"vpc_endpoints\"]","module_address":"module.networking","mode":"managed","type":"aws_security_group","name":"main","index":"vpc_endpoints","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"VPC Endpoints security group","name":"tattoo-artist-directory-dev-vpc_endpoints-sg","revoke_rules_on_delete":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-vpc-endpoints-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-vpc-endpoints-sg","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null},"after_unknown":{"arn":true,"egress":true,"id":true,"ingress":true,"name_prefix":true,"owner_id":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_subnet.private[\"a\"]","module_address":"module.networking","mode":"managed","type":"aws_subnet","name":"private","index":"a","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-2a","cidr_block":"10.0.10.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Private","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Private","Version":"dev-build"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_subnet.private[\"b\"]","module_address":"module.networking","mode":"managed","type":"aws_subnet","name":"private","index":"b","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-2b","cidr_block":"10.0.11.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-b","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Private","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-b","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Private","Version":"dev-build"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_subnet.private[\"c\"]","module_address":"module.networking","mode":"managed","type":"aws_subnet","name":"private","index":"c","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-2c","cidr_block":"10.0.12.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-c","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Private","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-private-c","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Private","Version":"dev-build"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_subnet.public[\"a\"]","module_address":"module.networking","mode":"managed","type":"aws_subnet","name":"public","index":"a","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-2a","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Public","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-a","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Public","Version":"dev-build"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_subnet.public[\"b\"]","module_address":"module.networking","mode":"managed","type":"aws_subnet","name":"public","index":"b","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-2b","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-b","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Public","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-b","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Public","Version":"dev-build"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_subnet.public[\"c\"]","module_address":"module.networking","mode":"managed","type":"aws_subnet","name":"public","index":"c","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-2c","cidr_block":"10.0.3.0/24","customer_owned_ipv4_pool":null,"enable_dns64":false,"enable_lni_at_device_index":null,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"ipv6_cidr_block":null,"ipv6_native":false,"map_customer_owned_ip_on_launch":null,"map_public_ip_on_launch":false,"outpost_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-c","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Public","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-public-c","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Type":"Public","Version":"dev-build"},"timeouts":null},"after_unknown":{"arn":true,"availability_zone_id":true,"id":true,"ipv6_cidr_block_association_id":true,"owner_id":true,"private_dns_hostname_type_on_launch":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_vpc.main","module_address":"module.networking","mode":"managed","type":"aws_vpc","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"assign_generated_ipv6_cidr_block":null,"cidr_block":"10.0.0.0/16","enable_dns_hostnames":true,"enable_dns_support":true,"instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_ipam_pool_id":null,"ipv6_netmask_length":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-vpc","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-vpc","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"default_network_acl_id":true,"default_route_table_id":true,"default_security_group_id":true,"dhcp_options_id":true,"enable_network_address_usage_metrics":true,"id":true,"ipv6_association_id":true,"ipv6_cidr_block":true,"ipv6_cidr_block_network_border_group":true,"main_route_table_id":true,"owner_id":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_vpc_endpoint.gateway[\"dynamodb\"]","module_address":"module.networking","mode":"managed","type":"aws_vpc_endpoint","name":"gateway","index":"dynamodb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"auto_accept":null,"resource_configuration_arn":null,"service_name":"com.amazonaws.eu-west-2.dynamodb","service_network_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-dynamodb-gateway-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-dynamodb-gateway-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_endpoint_type":"Gateway"},"after_unknown":{"arn":true,"cidr_blocks":true,"dns_entry":true,"dns_options":true,"id":true,"ip_address_type":true,"network_interface_ids":true,"owner_id":true,"policy":true,"prefix_list_id":true,"private_dns_enabled":true,"requester_managed":true,"route_table_ids":true,"security_group_ids":true,"service_region":true,"state":true,"subnet_configuration":true,"subnet_ids":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_vpc_endpoint.gateway[\"s3\"]","module_address":"module.networking","mode":"managed","type":"aws_vpc_endpoint","name":"gateway","index":"s3","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"auto_accept":null,"policy":"{\"Statement\":[{\"Action\":\"s3:*\",\"Effect\":\"Allow\",\"Principal\":\"*\",\"Resource\":[\"arn:aws:s3:::tattoo-artist-directory-dev-*\",\"arn:aws:s3:::tattoo-artist-directory-dev-*/*\"],\"Sid\":\"AllowAccessToProjectBuckets\"}],\"Version\":\"2012-10-17\"}","resource_configuration_arn":null,"service_name":"com.amazonaws.eu-west-2.s3","service_network_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-s3-gateway-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-s3-gateway-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_endpoint_type":"Gateway"},"after_unknown":{"arn":true,"cidr_blocks":true,"dns_entry":true,"dns_options":true,"id":true,"ip_address_type":true,"network_interface_ids":true,"owner_id":true,"prefix_list_id":true,"private_dns_enabled":true,"requester_managed":true,"route_table_ids":true,"security_group_ids":true,"service_region":true,"state":true,"subnet_configuration":true,"subnet_ids":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_vpc_endpoint.interface[\"ecr.api\"]","module_address":"module.networking","mode":"managed","type":"aws_vpc_endpoint","name":"interface","index":"ecr.api","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.eu-west-2.ecr.api","service_network_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecr-api-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecr-api-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_endpoint_type":"Interface"},"after_unknown":{"arn":true,"cidr_blocks":true,"dns_entry":true,"dns_options":true,"id":true,"ip_address_type":true,"network_interface_ids":true,"owner_id":true,"policy":true,"prefix_list_id":true,"requester_managed":true,"route_table_ids":true,"security_group_ids":true,"service_region":true,"state":true,"subnet_configuration":true,"subnet_ids":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_vpc_endpoint.interface[\"ecr.dkr\"]","module_address":"module.networking","mode":"managed","type":"aws_vpc_endpoint","name":"interface","index":"ecr.dkr","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.eu-west-2.ecr.dkr","service_network_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecr-dkr-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-ecr-dkr-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_endpoint_type":"Interface"},"after_unknown":{"arn":true,"cidr_blocks":true,"dns_entry":true,"dns_options":true,"id":true,"ip_address_type":true,"network_interface_ids":true,"owner_id":true,"policy":true,"prefix_list_id":true,"requester_managed":true,"route_table_ids":true,"security_group_ids":true,"service_region":true,"state":true,"subnet_configuration":true,"subnet_ids":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_vpc_endpoint.interface[\"es\"]","module_address":"module.networking","mode":"managed","type":"aws_vpc_endpoint","name":"interface","index":"es","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.eu-west-2.es","service_network_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-es-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-es-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_endpoint_type":"Interface"},"after_unknown":{"arn":true,"cidr_blocks":true,"dns_entry":true,"dns_options":true,"id":true,"ip_address_type":true,"network_interface_ids":true,"owner_id":true,"policy":true,"prefix_list_id":true,"requester_managed":true,"route_table_ids":true,"security_group_ids":true,"service_region":true,"state":true,"subnet_configuration":true,"subnet_ids":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_vpc_endpoint.interface[\"logs\"]","module_address":"module.networking","mode":"managed","type":"aws_vpc_endpoint","name":"interface","index":"logs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.eu-west-2.logs","service_network_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-logs-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-logs-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_endpoint_type":"Interface"},"after_unknown":{"arn":true,"cidr_blocks":true,"dns_entry":true,"dns_options":true,"id":true,"ip_address_type":true,"network_interface_ids":true,"owner_id":true,"policy":true,"prefix_list_id":true,"requester_managed":true,"route_table_ids":true,"security_group_ids":true,"service_region":true,"state":true,"subnet_configuration":true,"subnet_ids":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_vpc_endpoint.interface[\"secretsmanager\"]","module_address":"module.networking","mode":"managed","type":"aws_vpc_endpoint","name":"interface","index":"secretsmanager","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.eu-west-2.secretsmanager","service_network_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-secretsmanager-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-secretsmanager-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_endpoint_type":"Interface"},"after_unknown":{"arn":true,"cidr_blocks":true,"dns_entry":true,"dns_options":true,"id":true,"ip_address_type":true,"network_interface_ids":true,"owner_id":true,"policy":true,"prefix_list_id":true,"requester_managed":true,"route_table_ids":true,"security_group_ids":true,"service_region":true,"state":true,"subnet_configuration":true,"subnet_ids":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_vpc_endpoint.interface[\"sqs\"]","module_address":"module.networking","mode":"managed","type":"aws_vpc_endpoint","name":"interface","index":"sqs","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.eu-west-2.sqs","service_network_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-sqs-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-sqs-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_endpoint_type":"Interface"},"after_unknown":{"arn":true,"cidr_blocks":true,"dns_entry":true,"dns_options":true,"id":true,"ip_address_type":true,"network_interface_ids":true,"owner_id":true,"policy":true,"prefix_list_id":true,"requester_managed":true,"route_table_ids":true,"security_group_ids":true,"service_region":true,"state":true,"subnet_configuration":true,"subnet_ids":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_vpc_endpoint.interface[\"states\"]","module_address":"module.networking","mode":"managed","type":"aws_vpc_endpoint","name":"interface","index":"states","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"auto_accept":null,"private_dns_enabled":true,"resource_configuration_arn":null,"service_name":"com.amazonaws.eu-west-2.states","service_network_arn":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-states-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-states-interface-endpoint","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_endpoint_type":"Interface"},"after_unknown":{"arn":true,"cidr_blocks":true,"dns_entry":true,"dns_options":true,"id":true,"ip_address_type":true,"network_interface_ids":true,"owner_id":true,"policy":true,"prefix_list_id":true,"requester_managed":true,"route_table_ids":true,"security_group_ids":true,"service_region":true,"state":true,"subnet_configuration":true,"subnet_ids":true,"tags":{},"tags_all":{},"vpc_id":true},"before_sensitive":false,"after_sensitive":{"cidr_blocks":[],"dns_entry":[],"dns_options":[],"network_interface_ids":[],"route_table_ids":[],"security_group_ids":[],"subnet_configuration":[],"subnet_ids":[],"tags":{},"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.fargate_http_to_internet","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"fargate_http_to_internet","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":"Egress to Internet for web scraping (HTTP)","from_port":80,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":80},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.fargate_https_to_internet","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"fargate_https_to_internet","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":"Egress to Internet for web scraping (HTTPS)","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.fargate_to_vpc_endpoints","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"fargate_to_vpc_endpoints","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"Egress to VPC Endpoints","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"after_unknown":{"arn":true,"id":true,"referenced_security_group_id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.lambda_internet_https_to_internet","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"lambda_internet_https_to_internet","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":"0.0.0.0/0","cidr_ipv6":null,"description":"Egress to Internet for web scraping functions","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"referenced_security_group_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"after_unknown":{"arn":true,"id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.lambdas_to_opensearch[\"lambda_internal\"]","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"lambdas_to_opensearch","index":"lambda_internal","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"Egress to OpenSearch","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"after_unknown":{"arn":true,"id":true,"referenced_security_group_id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.lambdas_to_opensearch[\"lambda_internet\"]","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"lambdas_to_opensearch","index":"lambda_internet","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"Egress to OpenSearch","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"after_unknown":{"arn":true,"id":true,"referenced_security_group_id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.lambdas_to_vpc_endpoints[\"lambda_internal\"]","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"lambdas_to_vpc_endpoints","index":"lambda_internal","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"Egress to VPC Endpoints","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"after_unknown":{"arn":true,"id":true,"referenced_security_group_id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_egress_rule.lambdas_to_vpc_endpoints[\"lambda_internet\"]","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"lambdas_to_vpc_endpoints","index":"lambda_internet","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"Egress to VPC Endpoints","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"after_unknown":{"arn":true,"id":true,"referenced_security_group_id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.opensearch_from_lambdas[\"lambda_internal\"]","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"opensearch_from_lambdas","index":"lambda_internal","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"HTTPS from lambda_internal Lambda","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"after_unknown":{"arn":true,"id":true,"referenced_security_group_id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.opensearch_from_lambdas[\"lambda_internet\"]","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"opensearch_from_lambdas","index":"lambda_internet","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"HTTPS from lambda_internet Lambda","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"after_unknown":{"arn":true,"id":true,"referenced_security_group_id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.vpc_endpoints_from_fargate","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"vpc_endpoints_from_fargate","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"HTTPS from Fargate tasks","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"after_unknown":{"arn":true,"id":true,"referenced_security_group_id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.vpc_endpoints_from_lambdas[\"lambda_internal\"]","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"vpc_endpoints_from_lambdas","index":"lambda_internal","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"HTTPS from lambda_internal Lambda","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"after_unknown":{"arn":true,"id":true,"referenced_security_group_id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.networking.aws_vpc_security_group_ingress_rule.vpc_endpoints_from_lambdas[\"lambda_internet\"]","module_address":"module.networking","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"vpc_endpoints_from_lambdas","index":"lambda_internet","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"cidr_ipv4":null,"cidr_ipv6":null,"description":"HTTPS from lambda_internet Lambda","from_port":443,"ip_protocol":"tcp","prefix_list_id":null,"tags":null,"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"to_port":443},"after_unknown":{"arn":true,"id":true,"referenced_security_group_id":true,"security_group_id":true,"security_group_rule_id":true,"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags_all":{}}}},{"address":"module.search.aws_cloudwatch_log_group.opensearch_audit","module_address":"module.search","mode":"managed","type":"aws_cloudwatch_log_group","name":"opensearch_audit","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"/aws/opensearch/domains/tattoo-artist-directory-dev-search-audit","retention_in_days":14,"skip_destroy":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-audit-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-audit-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"id":true,"kms_key_id":true,"log_group_class":true,"name_prefix":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.search.aws_cloudwatch_log_group.opensearch_slow_index","module_address":"module.search","mode":"managed","type":"aws_cloudwatch_log_group","name":"opensearch_slow_index","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"/aws/opensearch/domains/tattoo-artist-directory-dev-search-slow-index","retention_in_days":14,"skip_destroy":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-slow-index-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-slow-index-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"id":true,"kms_key_id":true,"log_group_class":true,"name_prefix":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.search.aws_cloudwatch_log_group.opensearch_slow_search","module_address":"module.search","mode":"managed","type":"aws_cloudwatch_log_group","name":"opensearch_slow_search","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"name":"/aws/opensearch/domains/tattoo-artist-directory-dev-search-slow-search","retention_in_days":14,"skip_destroy":false,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-slow-search-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-slow-search-logs","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"id":true,"kms_key_id":true,"log_group_class":true,"name_prefix":true,"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.search.aws_iam_service_linked_role.opensearch","module_address":"module.search","mode":"managed","type":"aws_iam_service_linked_role","name":"opensearch","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"aws_service_name":"opensearchserverless.amazonaws.com","custom_suffix":null,"description":"Service-linked role for OpenSearch","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-slr","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch-slr","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"}},"after_unknown":{"arn":true,"create_date":true,"id":true,"name":true,"path":true,"tags":{},"tags_all":{},"unique_id":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.search.aws_opensearch_domain.main","module_address":"module.search","mode":"managed","type":"aws_opensearch_domain","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"access_policies":"{\"Statement\":[{\"Action\":\"es:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::773595699997:root\"},\"Resource\":\"arn:aws:es:eu-west-2:773595699997:domain/tattoo-artist-directo-search/*\"}],\"Version\":\"2012-10-17\"}","advanced_security_options":[{"anonymous_auth_enabled":false,"enabled":true,"internal_user_database_enabled":true,"master_user_options":[{"master_user_arn":null,"master_user_name":"admin"}]}],"cluster_config":[{"dedicated_master_count":null,"dedicated_master_enabled":false,"dedicated_master_type":null,"instance_count":1,"instance_type":"t3.micro.search","multi_az_with_standby_enabled":null,"warm_count":null,"warm_enabled":null,"warm_type":null,"zone_awareness_config":[],"zone_awareness_enabled":false}],"cognito_options":[],"domain_endpoint_options":[{"custom_endpoint":null,"custom_endpoint_certificate_arn":null,"custom_endpoint_enabled":false,"enforce_https":true,"tls_security_policy":"Policy-Min-TLS-1-2-2019-07"}],"domain_name":"tattoo-artist-directo-search","ebs_options":[{"ebs_enabled":true,"iops":3000,"throughput":125,"volume_size":20,"volume_type":"gp3"}],"encrypt_at_rest":[{"enabled":true}],"engine_version":"OpenSearch_2.3","log_publishing_options":[{"enabled":false,"log_type":"INDEX_SLOW_LOGS"},{"enabled":false,"log_type":"SEARCH_SLOW_LOGS"},{"enabled":true,"log_type":"AUDIT_LOGS"}],"node_to_node_encryption":[{"enabled":true}],"snapshot_options":[],"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-opensearch","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"timeouts":null,"vpc_options":[{}]},"after_unknown":{"advanced_options":true,"advanced_security_options":[{"master_user_options":[{"master_user_password":true}]}],"arn":true,"auto_tune_options":true,"cluster_config":[{"cold_storage_options":true,"node_options":true,"zone_awareness_config":[]}],"cognito_options":[],"dashboard_endpoint":true,"dashboard_endpoint_v2":true,"domain_endpoint_options":[{}],"domain_endpoint_v2_hosted_zone_id":true,"domain_id":true,"ebs_options":[{}],"encrypt_at_rest":[{"kms_key_id":true}],"endpoint":true,"endpoint_v2":true,"id":true,"ip_address_type":true,"kibana_endpoint":true,"log_publishing_options":[{"cloudwatch_log_group_arn":true},{"cloudwatch_log_group_arn":true},{"cloudwatch_log_group_arn":true}],"node_to_node_encryption":[{}],"off_peak_window_options":true,"snapshot_options":[],"software_update_options":true,"tags":{},"tags_all":{},"vpc_options":[{"availability_zones":true,"security_group_ids":true,"subnet_ids":true,"vpc_id":true}]},"before_sensitive":false,"after_sensitive":{"advanced_options":{},"advanced_security_options":[{"master_user_options":[{"master_user_password":true}]}],"auto_tune_options":[],"cluster_config":[{"cold_storage_options":[],"node_options":[],"zone_awareness_config":[]}],"cognito_options":[],"domain_endpoint_options":[{}],"ebs_options":[{}],"encrypt_at_rest":[{}],"log_publishing_options":[{},{},{}],"node_to_node_encryption":[{}],"off_peak_window_options":[],"snapshot_options":[],"software_update_options":[],"tags":{},"tags_all":{},"vpc_options":[{"availability_zones":[],"security_group_ids":[],"subnet_ids":[]}]}}},{"address":"module.search.aws_opensearch_domain_policy.main","module_address":"module.search","mode":"managed","type":"aws_opensearch_domain_policy","name":"main","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"domain_name":"tattoo-artist-directo-search","timeouts":null},"after_unknown":{"access_policies":true,"id":true},"before_sensitive":false,"after_sensitive":{}}},{"address":"module.security_monitoring.aws_cloudwatch_log_metric_filter.cloudtrail_security_alerts[0]","module_address":"module.security_monitoring","mode":"managed","type":"aws_cloudwatch_log_metric_filter","name":"cloudtrail_security_alerts","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"log_group_name":"/aws/cloudtrail/tattoo-artist-directory-dev","metric_transformation":[{"default_value":null,"dimensions":null,"name":"CloudTrailSecurityAlerts","namespace":"tattoo-artist-directory/Security","unit":"None","value":"1"}],"name":"tattoo-artist-directory-dev-cloudtrail-security-alerts","pattern":"{ ($.errorCode = \"*UnauthorizedOperation\") || ($.errorCode = \"AccessDenied*\") || ($.sourceIPAddress != \"AWS Internal\") }"},"after_unknown":{"id":true,"metric_transformation":[{}]},"before_sensitive":false,"after_sensitive":{"metric_transformation":[{}]}}},{"address":"module.security_monitoring.aws_cloudwatch_metric_alarm.cloudtrail_errors[0]","module_address":"module.security_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"cloudtrail_errors","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors CloudTrail log errors","alarm_name":"tattoo-artist-directory-dev-cloudtrail-errors","comparison_operator":"GreaterThanThreshold","datapoints_to_alarm":null,"dimensions":null,"evaluation_periods":1,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"ErrorCount","metric_query":[],"namespace":"CloudWatchLogs","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail-errors","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"},"threshold":0,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.security_monitoring.aws_cloudwatch_metric_alarm.cloudtrail_security_alerts[0]","module_address":"module.security_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"cloudtrail_security_alerts","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors security-related events in CloudTrail (e.g., Unauthorized)","alarm_name":"tattoo-artist-directory-dev-cloudtrail-security-alerts","comparison_operator":"GreaterThanOrEqualToThreshold","datapoints_to_alarm":null,"dimensions":null,"evaluation_periods":1,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"CloudTrailSecurityAlerts","metric_query":[],"namespace":"tattoo-artist-directory/Security","ok_actions":null,"period":300,"statistic":"Sum","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail-security-alerts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-cloudtrail-security-alerts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"},"threshold":1,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.security_monitoring.aws_cloudwatch_metric_alarm.config_compliance[0]","module_address":"module.security_monitoring","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"config_compliance","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"actions_enabled":true,"alarm_description":"This metric monitors AWS Config compliance","alarm_name":"tattoo-artist-directory-dev-config-compliance","comparison_operator":"LessThanThreshold","datapoints_to_alarm":null,"dimensions":null,"evaluation_periods":2,"extended_statistic":null,"insufficient_data_actions":null,"metric_name":"ComplianceByConfigRule","metric_query":[],"namespace":"AWS/Config","ok_actions":null,"period":300,"statistic":"Average","tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-compliance","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-config-compliance","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"},"threshold":1,"threshold_metric_id":null,"treat_missing_data":"missing","unit":null},"after_unknown":{"alarm_actions":true,"arn":true,"evaluate_low_sample_count_percentiles":true,"id":true,"metric_query":[],"tags":{},"tags_all":{}},"before_sensitive":false,"after_sensitive":{"alarm_actions":[],"metric_query":[],"tags":{},"tags_all":{}}}},{"address":"module.security_monitoring.aws_cloudwatch_query_definition.failed_logins[0]","module_address":"module.security_monitoring","mode":"managed","type":"aws_cloudwatch_query_definition","name":"failed_logins","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"log_group_names":["/aws/cloudtrail/tattoo-artist-directory-dev"],"name":"tattoo-artist-directory-dev-failed-logins","query_string":"fields @timestamp, @message, sourceIPAddress, userIdentity, errorCode, errorMessage\r\n| filter errorCode = \"SigninFailure\" or errorCode = \"InvalidUserID.NotFound\"\r\n| sort @timestamp desc\r\n| limit 100\r\n"},"after_unknown":{"id":true,"log_group_names":[false],"query_definition_id":true},"before_sensitive":false,"after_sensitive":{"log_group_names":[false]}}},{"address":"module.security_monitoring.aws_cloudwatch_query_definition.root_usage[0]","module_address":"module.security_monitoring","mode":"managed","type":"aws_cloudwatch_query_definition","name":"root_usage","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"log_group_names":["/aws/cloudtrail/tattoo-artist-directory-dev"],"name":"tattoo-artist-directory-dev-root-usage","query_string":"fields @timestamp, @message, sourceIPAddress, userIdentity, eventName\r\n| filter userIdentity.type = \"Root\"\r\n| sort @timestamp desc\r\n| limit 100\r\n"},"after_unknown":{"id":true,"log_group_names":[false],"query_definition_id":true},"before_sensitive":false,"after_sensitive":{"log_group_names":[false]}}},{"address":"module.security_monitoring.aws_cloudwatch_query_definition.security_events[0]","module_address":"module.security_monitoring","mode":"managed","type":"aws_cloudwatch_query_definition","name":"security_events","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"log_group_names":["/aws/cloudtrail/tattoo-artist-directory-dev"],"name":"tattoo-artist-directory-dev-security-events","query_string":"fields @timestamp, @message, sourceIPAddress, userIdentity.type, eventName\r\n| filter eventName like /Delete/ or eventName like /Create/ or eventName like /Put/\r\n| sort @timestamp desc\r\n| limit 100\r\n"},"after_unknown":{"id":true,"log_group_names":[false],"query_definition_id":true},"before_sensitive":false,"after_sensitive":{"log_group_names":[false]}}},{"address":"module.security_monitoring.aws_sns_topic.security_alerts","module_address":"module.security_monitoring","mode":"managed","type":"aws_sns_topic","name":"security_alerts","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"application_failure_feedback_role_arn":null,"application_success_feedback_role_arn":null,"application_success_feedback_sample_rate":null,"archive_policy":null,"content_based_deduplication":false,"delivery_policy":null,"display_name":null,"fifo_topic":false,"firehose_failure_feedback_role_arn":null,"firehose_success_feedback_role_arn":null,"firehose_success_feedback_sample_rate":null,"http_failure_feedback_role_arn":null,"http_success_feedback_role_arn":null,"http_success_feedback_sample_rate":null,"lambda_failure_feedback_role_arn":null,"lambda_success_feedback_role_arn":null,"lambda_success_feedback_sample_rate":null,"name":"tattoo-artist-directory-dev-security-alerts","sqs_failure_feedback_role_arn":null,"sqs_success_feedback_role_arn":null,"sqs_success_feedback_sample_rate":null,"tags":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-security-alerts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build"},"tags_all":{"CostCentre":"Portfolio Project","DataClassification":"Internal","Environment":"dev","ManagedBy":"Terraform","Name":"tattoo-artist-directory-dev-security-alerts","Owner":"joseph.white1208@gmail.com","Project":"tattoo-artist-directory","Version":"dev-build","aws:cloudformation:stack-name":"Audit-Resources"}},"after_unknown":{"arn":true,"beginning_archive_time":true,"fifo_throughput_scope":true,"id":true,"kms_master_key_id":true,"name_prefix":true,"owner":true,"policy":true,"signature_version":true,"tags":{},"tags_all":{},"tracing_config":true},"before_sensitive":false,"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.security_monitoring.aws_sns_topic_subscription.security_email[0]","module_address":"module.security_monitoring","mode":"managed","type":"aws_sns_topic_subscription","name":"security_email","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"confirmation_timeout_in_minutes":1,"delivery_policy":null,"endpoint":"joseph.white1208@gmail.com","endpoint_auto_confirms":false,"filter_policy":null,"protocol":"email","raw_message_delivery":false,"redrive_policy":null,"replay_policy":null,"subscription_role_arn":null},"after_unknown":{"arn":true,"confirmation_was_authenticated":true,"filter_policy_scope":true,"id":true,"owner_id":true,"pending_confirmation":true,"topic_arn":true},"before_sensitive":false,"after_sensitive":{}}}],"prior_state":{"format_version":"1.0","terraform_version":"1.12.2","values":{"root_module":{"resources":[{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"393138648614","arn":"arn:aws:sts::393138648614:assumed-role/AWSReservedSSO_AdministratorAccess_d2dd7199ecd2cc63/Joseph.White","id":"393138648614","user_id":"AROAVXCHDWYTOLOU3SG3Q:Joseph.White"},"sensitive_values":{}}],"child_modules":[{"resources":[{"address":"module.audit_foundation.data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"098819594789","arn":"arn:aws:sts::098819594789:assumed-role/OrganizationAccountAccessRole/aws-go-sdk-1756487894651139700","id":"098819594789","user_id":"AROAROAQ3LIS6X52P7TJX:aws-go-sdk-1756487894651139700"},"sensitive_values":{}},{"address":"module.audit_foundation.data.aws_region.current","mode":"data","type":"aws_region","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Europe (London)","endpoint":"ec2.eu-west-2.amazonaws.com","id":"eu-west-2","name":"eu-west-2"},"sensitive_values":{}}],"address":"module.audit_foundation"},{"resources":[{"address":"module.delivery.data.aws_cloudfront_cache_policy.caching_disabled","mode":"data","type":"aws_cloudfront_cache_policy","name":"caching_disabled","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:cloudfront::773595699997:cache-policy/4135ea2d-6df8-44a3-9df3-4b5a84be39ad","comment":"Policy with caching disabled","default_ttl":0,"etag":"E23ZP02F085DFQ","id":"4135ea2d-6df8-44a3-9df3-4b5a84be39ad","max_ttl":0,"min_ttl":0,"name":"Managed-CachingDisabled","parameters_in_cache_key_and_forwarded_to_origin":[{"cookies_config":[{"cookie_behavior":"none","cookies":[]}],"enable_accept_encoding_brotli":false,"enable_accept_encoding_gzip":false,"headers_config":[{"header_behavior":"none","headers":[]}],"query_strings_config":[{"query_string_behavior":"none","query_strings":[]}]}]},"sensitive_values":{"parameters_in_cache_key_and_forwarded_to_origin":[{"cookies_config":[{"cookies":[]}],"headers_config":[{"headers":[]}],"query_strings_config":[{"query_strings":[]}]}]}},{"address":"module.delivery.data.aws_cloudfront_cache_policy.caching_optimized","mode":"data","type":"aws_cloudfront_cache_policy","name":"caching_optimized","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:cloudfront::773595699997:cache-policy/658327ea-f89d-4fab-a63d-7e88639e58f6","comment":"Policy with caching enabled. Supports Gzip and Brotli compression.","default_ttl":86400,"etag":"E23ZP02F085DFQ","id":"658327ea-f89d-4fab-a63d-7e88639e58f6","max_ttl":31536000,"min_ttl":1,"name":"Managed-CachingOptimized","parameters_in_cache_key_and_forwarded_to_origin":[{"cookies_config":[{"cookie_behavior":"none","cookies":[]}],"enable_accept_encoding_brotli":true,"enable_accept_encoding_gzip":true,"headers_config":[{"header_behavior":"none","headers":[]}],"query_strings_config":[{"query_string_behavior":"none","query_strings":[]}]}]},"sensitive_values":{"parameters_in_cache_key_and_forwarded_to_origin":[{"cookies_config":[{"cookies":[]}],"headers_config":[{"headers":[]}],"query_strings_config":[{"query_strings":[]}]}]}},{"address":"module.delivery.data.aws_cloudfront_origin_request_policy.all_viewer","mode":"data","type":"aws_cloudfront_origin_request_policy","name":"all_viewer","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:cloudfront::773595699997:origin-request-policy/216adef6-5c7f-47e4-b989-5492eafa07d3","comment":"Policy to forward all parameters in viewer requests","cookies_config":[{"cookie_behavior":"all","cookies":[]}],"etag":"E23ZP02F085DFQ","headers_config":[{"header_behavior":"allViewer","headers":[]}],"id":"216adef6-5c7f-47e4-b989-5492eafa07d3","name":"Managed-AllViewer","query_strings_config":[{"query_string_behavior":"all","query_strings":[]}]},"sensitive_values":{"cookies_config":[{"cookies":[]}],"headers_config":[{"headers":[]}],"query_strings_config":[{"query_strings":[]}]}},{"address":"module.delivery.data.aws_cloudfront_origin_request_policy.cors_s3_origin","mode":"data","type":"aws_cloudfront_origin_request_policy","name":"cors_s3_origin","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:cloudfront::773595699997:origin-request-policy/88a5eaf4-2fd4-4709-b370-b4c650ea3fcf","comment":"Policy for S3 origin with CORS","cookies_config":[{"cookie_behavior":"none","cookies":[]}],"etag":"E23ZP02F085DFQ","headers_config":[{"header_behavior":"whitelist","headers":[{"items":["access-control-request-headers","access-control-request-method","origin"]}]}],"id":"88a5eaf4-2fd4-4709-b370-b4c650ea3fcf","name":"Managed-CORS-S3Origin","query_strings_config":[{"query_string_behavior":"none","query_strings":[]}]},"sensitive_values":{"cookies_config":[{"cookies":[]}],"headers_config":[{"headers":[{"items":[false,false,false]}]}],"query_strings_config":[{"query_strings":[]}]}}],"address":"module.delivery"},{"resources":[{"address":"module.foundation.data.aws_availability_zones.available","mode":"data","type":"aws_availability_zones","name":"available","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"all_availability_zones":null,"exclude_names":null,"exclude_zone_ids":null,"filter":null,"group_names":["eu-west-2-zg-1"],"id":"eu-west-2","names":["eu-west-2a","eu-west-2b","eu-west-2c"],"state":"available","timeouts":null,"zone_ids":["euw2-az2","euw2-az3","euw2-az1"]},"sensitive_values":{"group_names":[false],"names":[false,false,false],"zone_ids":[false,false,false]}},{"address":"module.foundation.data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"393138648614","arn":"arn:aws:sts::393138648614:assumed-role/AWSReservedSSO_AdministratorAccess_d2dd7199ecd2cc63/Joseph.White","id":"393138648614","user_id":"AROAVXCHDWYTOLOU3SG3Q:Joseph.White"},"sensitive_values":{}},{"address":"module.foundation.data.aws_region.current","mode":"data","type":"aws_region","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Europe (London)","endpoint":"ec2.eu-west-2.amazonaws.com","id":"eu-west-2","name":"eu-west-2"},"sensitive_values":{}}],"address":"module.foundation"},{"resources":[{"address":"module.iam.data.aws_iam_policy.api_gateway_push_to_cloudwatch_logs","mode":"data","type":"aws_iam_policy","name":"api_gateway_push_to_cloudwatch_logs","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs","attachment_count":0,"description":"Allows API Gateway to push logs to user's account.","id":"arn:aws:iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs","name":"AmazonAPIGatewayPushToCloudWatchLogs","path":"/service-role/","path_prefix":null,"policy":"{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"logs:CreateLogGroup\",\n                \"logs:CreateLogStream\",\n                \"logs:DescribeLogGroups\",\n                \"logs:DescribeLogStreams\",\n                \"logs:PutLogEvents\",\n                \"logs:GetLogEvents\",\n                \"logs:FilterLogEvents\"\n            ],\n            \"Resource\": \"*\"\n        }\n    ]\n}","policy_id":"ANPAIK4GFO7HLKYN64ASK","tags":{}},"sensitive_values":{"tags":{}}},{"address":"module.iam.data.aws_iam_policy.backup_service_role","mode":"data","type":"aws_iam_policy","name":"backup_service_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::aws:policy/service-role/AWSBackupServiceRolePolicyForBackup","attachment_count":0,"description":"Provides AWS Backup permission to create backups on your behalf across AWS services","id":"arn:aws:iam::aws:policy/service-role/AWSBackupServiceRolePolicyForBackup","name":"AWSBackupServiceRolePolicyForBackup","path":"/service-role/","path_prefix":null,"policy":"{\n\t\"Version\": \"2012-10-17\",\n\t\"Statement\": [\n\t\t{\n\t\t\t\"Sid\": \"DynamoDBPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"dynamodb:DescribeTable\",\n\t\t\t\t\"dynamodb:CreateBackup\"\n\t\t\t],\n\t\t\t\"Resource\": \"arn:aws:dynamodb:*:*:table/*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"DynamoDBBackupResourcePermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"dynamodb:DescribeBackup\",\n\t\t\t\t\"dynamodb:DeleteBackup\"\n\t\t\t],\n\t\t\t\"Resource\": \"arn:aws:dynamodb:*:*:table/*/backup/*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"DynamoDBBackupPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"rds:AddTagsToResource\",\n\t\t\t\t\"rds:ListTagsForResource\",\n\t\t\t\t\"rds:DescribeDBSnapshots\",\n\t\t\t\t\"rds:CreateDBSnapshot\",\n\t\t\t\t\"rds:CopyDBSnapshot\",\n\t\t\t\t\"rds:DescribeDBInstances\",\n\t\t\t\t\"rds:CreateDBClusterSnapshot\",\n\t\t\t\t\"rds:DescribeDBClusters\",\n\t\t\t\t\"rds:DescribeDBClusterSnapshots\",\n\t\t\t\t\"rds:CopyDBClusterSnapshot\",\n\t\t\t\t\"rds:DescribeDBClusterAutomatedBackups\"\n\t\t\t],\n\t\t\t\"Resource\": \"*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"RDSInstanceAutomatedBackupPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": \"rds:DeleteDBInstanceAutomatedBackup\",\n\t\t\t\"Resource\": \"arn:aws:rds:*:*:auto-backup:*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"RDSClusterPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"rds:ModifyDBCluster\"\n\t\t\t],\n\t\t\t\"Resource\": [\n\t\t\t\t\"arn:aws:rds:*:*:cluster:*\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"RDSClusterBackupPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": \"rds:DeleteDBClusterAutomatedBackup\",\n\t\t\t\"Resource\": \"arn:aws:rds:*:*:cluster-auto-backup:*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"RDSModifyPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"rds:ModifyDBInstance\"\n\t\t\t],\n\t\t\t\"Resource\": [\n\t\t\t\t\"arn:aws:rds:*:*:db:*\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"RDSBackupPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"rds:DeleteDBSnapshot\",\n\t\t\t\t\"rds:ModifyDBSnapshotAttribute\"\n\t\t\t],\n\t\t\t\"Resource\": [\n\t\t\t\t\"arn:aws:rds:*:*:snapshot:awsbackup:*\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"RDSClusterModifyPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"rds:DeleteDBClusterSnapshot\",\n\t\t\t\t\"rds:ModifyDBClusterSnapshotAttribute\"\n\t\t\t],\n\t\t\t\"Resource\": [\n\t\t\t\t\"arn:aws:rds:*:*:cluster-snapshot:awsbackup:*\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"StorageGatewayPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"storagegateway:CreateSnapshot\",\n\t\t\t\t\"storagegateway:ListTagsForResource\"\n\t\t\t],\n\t\t\t\"Resource\": \"arn:aws:storagegateway:*:*:gateway/*/volume/*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"EBSCopyPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"ec2:CopySnapshot\"\n\t\t\t],\n\t\t\t\"Resource\": \"arn:aws:ec2:*::snapshot/*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"EC2CopyPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"ec2:CopyImage\"\n\t\t\t],\n\t\t\t\"Resource\": \"*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"EBSTagAndDeletePermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"ec2:CreateTags\",\n\t\t\t\t\"ec2:DeleteSnapshot\"\n\t\t\t],\n\t\t\t\"Resource\": \"arn:aws:ec2:*::snapshot/*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"EC2Permissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"ec2:CreateImage\",\n\t\t\t\t\"ec2:DeregisterImage\",\n\t\t\t\t\"ec2:DescribeSnapshots\",\n\t\t\t\t\"ec2:DescribeTags\",\n\t\t\t\t\"ec2:DescribeImages\",\n\t\t\t\t\"ec2:DescribeInstances\",\n\t\t\t\t\"ec2:DescribeInstanceAttribute\",\n\t\t\t\t\"ec2:DescribeInstanceCreditSpecifications\",\n\t\t\t\t\"ec2:DescribeNetworkInterfaces\",\n\t\t\t\t\"ec2:DescribeElasticGpus\",\n\t\t\t\t\"ec2:DescribeSpotInstanceRequests\",\n\t\t\t\t\"ec2:DescribeSnapshotTierStatus\"\n\t\t\t],\n\t\t\t\"Resource\": \"*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"EC2TagPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"ec2:CreateTags\"\n\t\t\t],\n\t\t\t\"Resource\": \"arn:aws:ec2:*:*:image/*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"EC2ModifyPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"ec2:ModifySnapshotAttribute\",\n\t\t\t\t\"ec2:ModifyImageAttribute\"\n\t\t\t],\n\t\t\t\"Resource\": \"*\",\n\t\t\t\"Condition\": {\n\t\t\t\t\"Null\": {\n\t\t\t\t\t\"aws:ResourceTag/aws:backup:source-resource\": \"false\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"EBSSnapshotTierPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"ec2:ModifySnapshotTier\"\n\t\t\t],\n\t\t\t\"Resource\": \"arn:aws:ec2:*::snapshot/*\",\n\t\t\t\"Condition\": {\n\t\t\t\t\"Null\": {\n\t\t\t\t\t\"aws:ResourceTag/aws:backup:source-resource\": \"false\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"BackupVaultPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"backup:DescribeBackupVault\",\n\t\t\t\t\"backup:CopyIntoBackupVault\"\n\t\t\t],\n\t\t\t\"Resource\": \"arn:aws:backup:*:*:backup-vault:*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"BackupVaultCopyPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"backup:CopyFromBackupVault\"\n\t\t\t],\n\t\t\t\"Resource\": \"*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"EFSPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"elasticfilesystem:Backup\",\n\t\t\t\t\"elasticfilesystem:DescribeTags\"\n\t\t\t],\n\t\t\t\"Resource\": \"arn:aws:elasticfilesystem:*:*:file-system/*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"EBSResourcePermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"ec2:CreateSnapshot\",\n\t\t\t\t\"ec2:DeleteSnapshot\",\n\t\t\t\t\"ec2:DescribeVolumes\",\n\t\t\t\t\"ec2:DescribeSnapshots\"\n\t\t\t],\n\t\t\t\"Resource\": [\n\t\t\t\t\"arn:aws:ec2:*::snapshot/*\",\n\t\t\t\t\"arn:aws:ec2:*:*:volume/*\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"KMSDynamoDBPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"kms:Decrypt\",\n\t\t\t\t\"kms:GenerateDataKey\"\n\t\t\t],\n\t\t\t\"Resource\": \"*\",\n\t\t\t\"Condition\": {\n\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\"kms:ViaService\": [\n\t\t\t\t\t\t\"dynamodb.*.amazonaws.com\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"KMSPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": \"kms:DescribeKey\",\n\t\t\t\"Resource\": \"*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"KMSCreateGrantPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": \"kms:CreateGrant\",\n\t\t\t\"Resource\": \"*\",\n\t\t\t\"Condition\": {\n\t\t\t\t\"Bool\": {\n\t\t\t\t\t\"kms:GrantIsForAWSResource\": \"true\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"KMSEC2Permissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"kms:GenerateDataKeyWithoutPlaintext\",\n\t\t\t\t\"kms:ReEncryptTo\",\n\t\t\t\t\"kms:ReEncryptFrom\"\n\t\t\t],\n\t\t\t\"Resource\": \"arn:aws:kms:*:*:key/*\",\n\t\t\t\"Condition\": {\n\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\"kms:ViaService\": [\n\t\t\t\t\t\t\"ec2.*.amazonaws.com\"\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"ForAnyValue:StringEquals\": {\n\t\t\t\t\t\"kms:EncryptionContextKeys\": \"aws:ebs:id\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"GetResourcesPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"tag:GetResources\"\n\t\t\t],\n\t\t\t\"Resource\": \"*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"SSMPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"ssm:CancelCommand\",\n\t\t\t\t\"ssm:GetCommandInvocation\"\n\t\t\t],\n\t\t\t\"Resource\": \"*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"SSMSendPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": \"ssm:SendCommand\",\n\t\t\t\"Resource\": [\n\t\t\t\t\"arn:aws:ssm:*:*:document/AWSEC2-CreateVssSnapshot\",\n\t\t\t\t\"arn:aws:ec2:*:*:instance/*\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"FsxBackupPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": \"fsx:DescribeBackups\",\n\t\t\t\"Resource\": \"arn:aws:fsx:*:*:backup/*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"FsxCreateBackupPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": \"fsx:CreateBackup\",\n\t\t\t\"Resource\": [\n\t\t\t\t\"arn:aws:fsx:*:*:file-system/*\",\n\t\t\t\t\"arn:aws:fsx:*:*:backup/*\",\n\t\t\t\t\"arn:aws:fsx:*:*:volume/*\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"FsxPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": \"fsx:DescribeFileSystems\",\n\t\t\t\"Resource\": \"arn:aws:fsx:*:*:file-system/*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"FsxVolumePermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": \"fsx:DescribeVolumes\",\n\t\t\t\"Resource\": \"arn:aws:fsx:*:*:volume/*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"FsxListTagsPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": \"fsx:ListTagsForResource\",\n\t\t\t\"Resource\": [\n\t\t\t\t\"arn:aws:fsx:*:*:file-system/*\",\n\t\t\t\t\"arn:aws:fsx:*:*:volume/*\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"FsxDeletePermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": \"fsx:DeleteBackup\",\n\t\t\t\"Resource\": \"arn:aws:fsx:*:*:backup/*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"FsxResourcePermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"fsx:ListTagsForResource\",\n\t\t\t\t\"fsx:ManageBackupPrincipalAssociations\",\n\t\t\t\t\"fsx:CopyBackup\",\n\t\t\t\t\"fsx:TagResource\"\n\t\t\t],\n\t\t\t\"Resource\": \"arn:aws:fsx:*:*:backup/*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"DynamodbBackupPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"dynamodb:StartAwsBackupJob\",\n\t\t\t\t\"dynamodb:ListTagsOfResource\"\n\t\t\t],\n\t\t\t\"Resource\": \"arn:aws:dynamodb:*:*:table/*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"BackupGatewayBackupPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"backup-gateway:Backup\",\n\t\t\t\t\"backup-gateway:ListTagsForResource\"\n\t\t\t],\n\t\t\t\"Resource\": \"arn:aws:backup-gateway:*:*:vm/*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"CloudformationStackPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"cloudformation:ListStacks\",\n\t\t\t\t\"cloudformation:GetTemplate\",\n\t\t\t\t\"cloudformation:DescribeStacks\",\n\t\t\t\t\"cloudformation:ListStackResources\"\n\t\t\t],\n\t\t\t\"Resource\": \"arn:aws:cloudformation:*:*:stack/*/*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"RedshiftCreatePermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"redshift:CreateClusterSnapshot\",\n\t\t\t\t\"redshift:DescribeClusterSnapshots\",\n\t\t\t\t\"redshift:DescribeTags\"\n\t\t\t],\n\t\t\t\"Resource\": [\n\t\t\t\t\"arn:aws:redshift:*:*:snapshot:*/*\",\n\t\t\t\t\"arn:aws:redshift:*:*:cluster:*\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"RedshiftSnapshotPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"redshift:DeleteClusterSnapshot\"\n\t\t\t],\n\t\t\t\"Resource\": [\n\t\t\t\t\"arn:aws:redshift:*:*:snapshot:*/*\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"RedshiftPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"redshift:DescribeClusters\"\n\t\t\t],\n\t\t\t\"Resource\": [\n\t\t\t\t\"arn:aws:redshift:*:*:cluster:*\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"RedshiftResourcePermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"redshift:CreateTags\"\n\t\t\t],\n\t\t\t\"Resource\": [\n\t\t\t\t\"arn:aws:redshift:*:*:snapshot:*/*\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"RedshiftServerlessCreatePermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"redshift-serverless:CreateSnapshot\"\n\t\t\t],\n\t\t\t\"Resource\": [\n\t\t\t\t\"arn:aws:redshift-serverless:*:*:snapshot/*\",\n\t\t\t\t\"arn:aws:redshift-serverless:*:*:namespace/*\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"RedshiftServerlessSnapshotPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"redshift-serverless:DeleteSnapshot\"\n\t\t\t],\n\t\t\t\"Resource\": [\n\t\t\t\t\"arn:aws:redshift-serverless:*:*:snapshot/*\"\n\t\t\t],\n\t\t\t\"Condition\": {\n\t\t\t\t\"Null\": {\n\t\t\t\t\t\"aws:ResourceTag/aws:backup:source-resource\": \"false\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"RedshiftServerlessGetPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"redshift-serverless:GetNamespace\"\n\t\t\t],\n\t\t\t\"Resource\": [\n\t\t\t\t\"arn:aws:redshift-serverless:*:*:namespace/*\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"RedshiftServerlessResourcePermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"redshift-serverless:GetSnapshot\",\n\t\t\t\t\"redshift-serverless:TagResource\"\n\t\t\t],\n\t\t\t\"Resource\": [\n\t\t\t\t\"arn:aws:redshift-serverless:*:*:snapshot/*\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"RedshiftServerlessListPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"redshift-serverless:ListNamespaces\",\n\t\t\t\t\"redshift-serverless:ListSnapshots\",\n\t\t\t\t\"redshift-serverless:ListTagsForResource\"\n\t\t\t],\n\t\t\t\"Resource\": [\n\t\t\t\t\"*\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"TimestreamResourcePermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"timestream:StartAwsBackupJob\",\n\t\t\t\t\"timestream:GetAwsBackupStatus\",\n\t\t\t\t\"timestream:ListTables\",\n\t\t\t\t\"timestream:ListDatabases\",\n\t\t\t\t\"timestream:ListTagsForResource\",\n\t\t\t\t\"timestream:DescribeTable\",\n\t\t\t\t\"timestream:DescribeDatabase\"\n\t\t\t],\n\t\t\t\"Resource\": [\n\t\t\t\t\"arn:aws:timestream:*:*:database/*\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"TimestreamEndpointPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"timestream:DescribeEndpoints\"\n\t\t\t],\n\t\t\t\"Resource\": \"*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"SSMSAPPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"ssm-sap:GetOperation\",\n\t\t\t\t\"ssm-sap:ListDatabases\"\n\t\t\t],\n\t\t\t\"Resource\": \"*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"SSMSAPResourcePermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"ssm-sap:BackupDatabase\",\n\t\t\t\t\"ssm-sap:UpdateHanaBackupSettings\",\n\t\t\t\t\"ssm-sap:GetDatabase\",\n\t\t\t\t\"ssm-sap:ListTagsForResource\"\n\t\t\t],\n\t\t\t\"Resource\": \"arn:aws:ssm-sap:*:*:*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"RecoveryPointTaggingPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"backup:TagResource\"\n\t\t\t],\n\t\t\t\"Resource\": \"arn:aws:backup:*:*:recovery-point:*\",\n\t\t\t\"Condition\": {\n\t\t\t\t\"StringEquals\": {\n\t\t\t\t\t\"aws:PrincipalAccount\": \"${aws:ResourceAccount}\"\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"DSQLResourcePermissionsForBackup\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"dsql:StartBackupJob\",\n\t\t\t\t\"dsql:GetBackupJob\",\n\t\t\t\t\"dsql:StopBackupJob\",\n\t\t\t\t\"dsql:GetCluster\",\n\t\t\t\t\"dsql:ListClusters\",\n\t\t\t\t\"dsql:ListTagsForResource\"\n\t\t\t],\n\t\t\t\"Resource\": [\n\t\t\t\t\"*\"\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"KMSDSQLPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"kms:Decrypt\"\n\t\t\t],\n\t\t\t\"Resource\": \"*\",\n\t\t\t\"Condition\": {\n\t\t\t\t\"StringLike\": {\n\t\t\t\t\t\"kms:ViaService\": [\n\t\t\t\t\t\t\"dsql.*.amazonaws.com\"\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t\"ForAnyValue:StringEquals\": {\n\t\t\t\t\t\"kms:EncryptionContextKeys\": \"aws:dsql:ClusterId\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t]\n}","policy_id":"ANPAIOOYZSLZZXWFJJ5N2","tags":{}},"sensitive_values":{"tags":{}}},{"address":"module.iam.data.aws_iam_policy.config_role_policy","mode":"data","type":"aws_iam_policy","name":"config_role_policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::aws:policy/service-role/AWS_ConfigRole","attachment_count":1,"description":"Default policy for AWS Config service role. Provides permissions required for AWS Config to track changes to your AWS resources.","id":"arn:aws:iam::aws:policy/service-role/AWS_ConfigRole","name":"AWS_ConfigRole","path":"/service-role/","path_prefix":null,"policy":"{\n\t\"Version\": \"2012-10-17\",\n\t\"Statement\": [\n\t\t{\n\t\t\t\"Sid\": \"AWSConfigRoleStatementID\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"access-analyzer:GetAnalyzer\",\n\t\t\t\t\"access-analyzer:GetArchiveRule\",\n\t\t\t\t\"access-analyzer:ListAnalyzers\",\n\t\t\t\t\"access-analyzer:ListArchiveRules\",\n\t\t\t\t\"access-analyzer:ListTagsForResource\",\n\t\t\t\t\"account:GetAlternateContact\",\n\t\t\t\t\"acm-pca:DescribeCertificateAuthority\",\n\t\t\t\t\"acm-pca:GetCertificateAuthorityCertificate\",\n\t\t\t\t\"acm-pca:GetCertificateAuthorityCsr\",\n\t\t\t\t\"acm-pca:ListCertificateAuthorities\",\n\t\t\t\t\"acm-pca:ListTags\",\n\t\t\t\t\"acm:DescribeCertificate\",\n\t\t\t\t\"acm:ListCertificates\",\n\t\t\t\t\"acm:ListTagsForCertificate\",\n\t\t\t\t\"airflow:GetEnvironment\",\n\t\t\t\t\"airflow:ListEnvironments\",\n\t\t\t\t\"airflow:ListTagsForResource\",\n\t\t\t\t\"amplify:GetApp\",\n\t\t\t\t\"amplify:GetBranch\",\n\t\t\t\t\"amplify:ListApps\",\n\t\t\t\t\"amplify:ListBranches\",\n\t\t\t\t\"amplifyuibuilder:ExportThemes\",\n\t\t\t\t\"amplifyuibuilder:GetTheme\",\n\t\t\t\t\"amplifyuibuilder:ListThemes\",\n\t\t\t\t\"aoss:BatchGetCollection\",\n\t\t\t\t\"aoss:BatchGetLifecyclePolicy\",\n\t\t\t\t\"aoss:BatchGetVpcEndpoint\",\n\t\t\t\t\"aoss:GetAccessPolicy\",\n\t\t\t\t\"aoss:GetSecurityConfig\",\n\t\t\t\t\"aoss:GetSecurityPolicy\",\n\t\t\t\t\"aoss:ListAccessPolicies\",\n\t\t\t\t\"aoss:ListCollections\",\n\t\t\t\t\"aoss:ListLifecyclePolicies\",\n\t\t\t\t\"aoss:ListSecurityConfigs\",\n\t\t\t\t\"aoss:ListSecurityPolicies\",\n\t\t\t\t\"aoss:ListVpcEndpoints\",\n\t\t\t\t\"apigateway:GET\",\n\t\t\t\t\"app-integrations:GetApplication\",\n\t\t\t\t\"app-integrations:GetEventIntegration\",\n\t\t\t\t\"app-integrations:ListApplications\",\n\t\t\t\t\"app-integrations:ListEventIntegrationAssociations\",\n\t\t\t\t\"app-integrations:ListEventIntegrations\",\n\t\t\t\t\"app-integrations:ListTagsForResource\",\n\t\t\t\t\"appconfig:GetApplication\",\n\t\t\t\t\"appconfig:GetConfigurationProfile\",\n\t\t\t\t\"appconfig:GetDeployment\",\n\t\t\t\t\"appconfig:GetDeploymentStrategy\",\n\t\t\t\t\"appconfig:GetEnvironment\",\n\t\t\t\t\"appconfig:GetExtension\",\n\t\t\t\t\"appconfig:GetExtensionAssociation\",\n\t\t\t\t\"appconfig:GetHostedConfigurationVersion\",\n\t\t\t\t\"appconfig:ListApplications\",\n\t\t\t\t\"appconfig:ListConfigurationProfiles\",\n\t\t\t\t\"appconfig:ListDeployments\",\n\t\t\t\t\"appconfig:ListDeploymentStrategies\",\n\t\t\t\t\"appconfig:ListEnvironments\",\n\t\t\t\t\"appconfig:ListExtensionAssociations\",\n\t\t\t\t\"appconfig:ListExtensions\",\n\t\t\t\t\"appconfig:ListHostedConfigurationVersions\",\n\t\t\t\t\"appconfig:ListTagsForResource\",\n\t\t\t\t\"appflow:DescribeConnectorProfiles\",\n\t\t\t\t\"appflow:DescribeFlow\",\n\t\t\t\t\"appflow:ListFlows\",\n\t\t\t\t\"appflow:ListTagsForResource\",\n\t\t\t\t\"application-autoscaling:DescribeScalableTargets\",\n\t\t\t\t\"application-autoscaling:DescribeScalingPolicies\",\n\t\t\t\t\"appmesh:DescribeGatewayRoute\",\n\t\t\t\t\"appmesh:DescribeMesh\",\n\t\t\t\t\"appmesh:DescribeRoute\",\n\t\t\t\t\"appmesh:DescribeVirtualGateway\",\n\t\t\t\t\"appmesh:DescribeVirtualNode\",\n\t\t\t\t\"appmesh:DescribeVirtualRouter\",\n\t\t\t\t\"appmesh:DescribeVirtualService\",\n\t\t\t\t\"appmesh:ListGatewayRoutes\",\n\t\t\t\t\"appmesh:ListMeshes\",\n\t\t\t\t\"appmesh:ListRoutes\",\n\t\t\t\t\"appmesh:ListTagsForResource\",\n\t\t\t\t\"appmesh:ListVirtualGateways\",\n\t\t\t\t\"appmesh:ListVirtualNodes\",\n\t\t\t\t\"appmesh:ListVirtualRouters\",\n\t\t\t\t\"appmesh:ListVirtualServices\",\n\t\t\t\t\"apprunner:DescribeService\",\n\t\t\t\t\"apprunner:DescribeVpcConnector\",\n\t\t\t\t\"apprunner:ListServices\",\n\t\t\t\t\"apprunner:ListTagsForResource\",\n\t\t\t\t\"apprunner:ListVpcConnectors\",\n\t\t\t\t\"appstream:DescribeAppBlockBuilders\",\n\t\t\t\t\"appstream:DescribeApplications\",\n\t\t\t\t\"appstream:DescribeDirectoryConfigs\",\n\t\t\t\t\"appstream:DescribeFleets\",\n\t\t\t\t\"appstream:DescribeStacks\",\n\t\t\t\t\"appstream:ListTagsForResource\",\n\t\t\t\t\"appsync:GetApiCache\",\n\t\t\t\t\"appsync:GetGraphqlApi\",\n\t\t\t\t\"appsync:ListGraphqlApis\",\n\t\t\t\t\"aps:DescribeAlertManagerDefinition\",\n\t\t\t\t\"aps:DescribeLoggingConfiguration\",\n\t\t\t\t\"APS:DescribeRuleGroupsNamespace\",\n\t\t\t\t\"APS:DescribeWorkspace\",\n\t\t\t\t\"aps:ListRuleGroupsNamespaces\",\n\t\t\t\t\"aps:ListTagsForResource\",\n\t\t\t\t\"APS:ListWorkspaces\",\n\t\t\t\t\"arc-zonal-shift:GetAutoshiftObserverNotificationStatus\",\n\t\t\t\t\"athena:GetDataCatalog\",\n\t\t\t\t\"athena:GetPreparedStatement\",\n\t\t\t\t\"athena:GetWorkGroup\",\n\t\t\t\t\"athena:ListDataCatalogs\",\n\t\t\t\t\"athena:ListPreparedStatements\",\n\t\t\t\t\"athena:ListTagsForResource\",\n\t\t\t\t\"athena:ListWorkGroups\",\n\t\t\t\t\"auditmanager:GetAccountStatus\",\n\t\t\t\t\"auditmanager:GetAssessment\",\n\t\t\t\t\"auditmanager:ListAssessments\",\n\t\t\t\t\"autoscaling-plans:DescribeScalingPlanResources\",\n\t\t\t\t\"autoscaling-plans:DescribeScalingPlans\",\n\t\t\t\t\"autoscaling-plans:GetScalingPlanResourceForecastData\",\n\t\t\t\t\"autoscaling:DescribeAutoScalingGroups\",\n\t\t\t\t\"autoscaling:DescribeLaunchConfigurations\",\n\t\t\t\t\"autoscaling:DescribeLifecycleHooks\",\n\t\t\t\t\"autoscaling:DescribePolicies\",\n\t\t\t\t\"autoscaling:DescribeScheduledActions\",\n\t\t\t\t\"autoscaling:DescribeTags\",\n\t\t\t\t\"autoscaling:DescribeWarmPool\",\n\t\t\t\t\"b2bi:GetPartnership\",\n\t\t\t\t\"b2bi:GetProfile\",\n\t\t\t\t\"b2bi:ListPartnerships\",\n\t\t\t\t\"b2bi:ListProfiles\",\n\t\t\t\t\"backup-gateway:GetHypervisor\",\n\t\t\t\t\"backup-gateway:ListHypervisors\",\n\t\t\t\t\"backup-gateway:ListTagsForResource\",\n\t\t\t\t\"backup-gateway:ListVirtualMachines\",\n\t\t\t\t\"backup:DescribeBackupVault\",\n\t\t\t\t\"backup:DescribeFramework\",\n\t\t\t\t\"backup:DescribeProtectedResource\",\n\t\t\t\t\"backup:DescribeRecoveryPoint\",\n\t\t\t\t\"backup:DescribeReportPlan\",\n\t\t\t\t\"backup:GetBackupPlan\",\n\t\t\t\t\"backup:GetBackupSelection\",\n\t\t\t\t\"backup:GetBackupVaultAccessPolicy\",\n\t\t\t\t\"backup:GetBackupVaultNotifications\",\n\t\t\t\t\"backup:GetRestoreTestingPlan\",\n\t\t\t\t\"backup:GetRestoreTestingSelection\",\n\t\t\t\t\"backup:ListBackupPlans\",\n\t\t\t\t\"backup:ListBackupSelections\",\n\t\t\t\t\"backup:ListBackupVaults\",\n\t\t\t\t\"backup:ListFrameworks\",\n\t\t\t\t\"backup:ListRecoveryPointsByBackupVault\",\n\t\t\t\t\"backup:ListReportPlans\",\n\t\t\t\t\"backup:ListRestoreTestingPlans\",\n\t\t\t\t\"backup:ListRestoreTestingSelections\",\n\t\t\t\t\"backup:ListTags\",\n\t\t\t\t\"batch:DescribeComputeEnvironments\",\n\t\t\t\t\"batch:DescribeJobQueues\",\n\t\t\t\t\"batch:DescribeSchedulingPolicies\",\n\t\t\t\t\"batch:ListSchedulingPolicies\",\n\t\t\t\t\"batch:ListTagsForResource\",\n\t\t\t\t\"bcm-data-exports:GetExport\",\n\t\t\t\t\"bcm-data-exports:ListExports\",\n\t\t\t\t\"bcm-data-exports:ListTagsForResource\",\n\t\t\t\t\"bedrock:GetAgent\",\n\t\t\t\t\"bedrock:GetAgentActionGroup\",\n\t\t\t\t\"bedrock:GetAgentKnowledgeBase\",\n\t\t\t\t\"bedrock:GetDataSource\",\n\t\t\t\t\"bedrock:GetFlowAlias\",\n\t\t\t\t\"bedrock:GetFlowVersion\",\n\t\t\t\t\"bedrock:GetGuardrail\",\n\t\t\t\t\"bedrock:GetInferenceProfile\",\n\t\t\t\t\"bedrock:GetKnowledgeBase\",\n\t\t\t\t\"bedrock:GetModelInvocationLoggingConfiguration\",\n\t\t\t\t\"bedrock:ListAgentActionGroups\",\n\t\t\t\t\"bedrock:ListAgentKnowledgeBases\",\n\t\t\t\t\"bedrock:ListAgents\",\n\t\t\t\t\"bedrock:ListDataSources\",\n\t\t\t\t\"bedrock:ListFlowAliases\",\n\t\t\t\t\"bedrock:ListFlowVersions\",\n\t\t\t\t\"bedrock:ListGuardrails\",\n\t\t\t\t\"bedrock:ListInferenceProfiles\",\n\t\t\t\t\"bedrock:ListKnowledgeBases\",\n\t\t\t\t\"bedrock:ListTagsForResource\",\n\t\t\t\t\"billingconductor:ListAccountAssociations\",\n\t\t\t\t\"billingconductor:ListBillingGroups\",\n\t\t\t\t\"billingconductor:ListCustomLineItems\",\n\t\t\t\t\"billingconductor:ListPricingPlans\",\n\t\t\t\t\"billingconductor:ListPricingRules\",\n\t\t\t\t\"billingconductor:ListPricingRulesAssociatedToPricingPlan\",\n\t\t\t\t\"billingconductor:ListTagsForResource\",\n\t\t\t\t\"budgets:DescribeBudgetAction\",\n\t\t\t\t\"budgets:DescribeBudgetActionsForAccount\",\n\t\t\t\t\"budgets:DescribeBudgetActionsForBudget\",\n\t\t\t\t\"budgets:ViewBudget\",\n\t\t\t\t\"cassandra:Select\",\n\t\t\t\t\"ce:GetAnomalyMonitors\",\n\t\t\t\t\"ce:GetAnomalySubscriptions\",\n\t\t\t\t\"cleanrooms-ml:GetTrainingDataset\",\n\t\t\t\t\"cleanrooms-ml:ListTrainingDatasets\",\n\t\t\t\t\"cleanrooms:GetConfiguredTable\",\n\t\t\t\t\"cleanrooms:GetConfiguredTableAnalysisRule\",\n\t\t\t\t\"cleanrooms:GetMembership\",\n\t\t\t\t\"cleanrooms:GetPrivacyBudgetTemplate\",\n\t\t\t\t\"cleanrooms:ListConfiguredTables\",\n\t\t\t\t\"cleanrooms:ListMemberships\",\n\t\t\t\t\"cleanrooms:ListPrivacyBudgetTemplates\",\n\t\t\t\t\"cloud9:DescribeEnvironmentMemberships\",\n\t\t\t\t\"cloud9:DescribeEnvironments\",\n\t\t\t\t\"cloud9:ListEnvironments\",\n\t\t\t\t\"cloud9:ListTagsForResource\",\n\t\t\t\t\"cloudformation:BatchDescribeTypeConfigurations\",\n\t\t\t\t\"cloudformation:DescribeStackInstance\",\n\t\t\t\t\"cloudformation:DescribeStackSet\",\n\t\t\t\t\"cloudformation:DescribeType\",\n\t\t\t\t\"cloudformation:GetResource\",\n\t\t\t\t\"cloudformation:ListResources\",\n\t\t\t\t\"cloudformation:ListStackInstances\",\n\t\t\t\t\"cloudformation:ListStackResources\",\n\t\t\t\t\"cloudformation:ListStacks\",\n\t\t\t\t\"cloudformation:ListStackSets\",\n\t\t\t\t\"cloudformation:ListTypes\",\n\t\t\t\t\"cloudfront:GetFunction\",\n\t\t\t\t\"cloudfront:GetOriginAccessControl\",\n\t\t\t\t\"cloudfront:GetPublicKey\",\n\t\t\t\t\"cloudfront:GetRealtimeLogConfig\",\n\t\t\t\t\"cloudfront:GetResponseHeadersPolicy\",\n\t\t\t\t\"cloudfront:ListDistributions\",\n\t\t\t\t\"cloudfront:ListFunctions\",\n\t\t\t\t\"cloudfront:ListOriginAccessControls\",\n\t\t\t\t\"cloudfront:ListPublicKeys\",\n\t\t\t\t\"cloudfront:ListRealtimeLogConfigs\",\n\t\t\t\t\"cloudfront:ListResponseHeadersPolicies\",\n\t\t\t\t\"cloudfront:ListTagsForResource\",\n\t\t\t\t\"cloudtrail:DescribeTrails\",\n\t\t\t\t\"cloudTrail:GetChannel\",\n\t\t\t\t\"cloudtrail:GetEventConfiguration\",\n\t\t\t\t\"cloudtrail:GetEventDataStore\",\n\t\t\t\t\"cloudtrail:GetEventSelectors\",\n\t\t\t\t\"cloudtrail:GetInsightSelectors\",\n\t\t\t\t\"cloudtrail:GetTrailStatus\",\n\t\t\t\t\"cloudTrail:ListChannels\",\n\t\t\t\t\"cloudtrail:ListEventDataStores\",\n\t\t\t\t\"cloudtrail:ListTags\",\n\t\t\t\t\"cloudtrail:ListTrails\",\n\t\t\t\t\"cloudwatch:DescribeAlarms\",\n\t\t\t\t\"cloudwatch:DescribeAlarmsForMetric\",\n\t\t\t\t\"cloudwatch:DescribeAnomalyDetectors\",\n\t\t\t\t\"cloudwatch:GetDashboard\",\n\t\t\t\t\"cloudwatch:GetMetricStream\",\n\t\t\t\t\"cloudwatch:ListDashboards\",\n\t\t\t\t\"cloudwatch:ListMetricStreams\",\n\t\t\t\t\"cloudwatch:ListTagsForResource\",\n\t\t\t\t\"codeartifact:DescribeDomain\",\n\t\t\t\t\"codeartifact:DescribeRepository\",\n\t\t\t\t\"codeartifact:GetDomainPermissionsPolicy\",\n\t\t\t\t\"codeartifact:GetRepositoryPermissionsPolicy\",\n\t\t\t\t\"codeartifact:ListDomains\",\n\t\t\t\t\"codeartifact:ListPackages\",\n\t\t\t\t\"codeartifact:ListPackageVersions\",\n\t\t\t\t\"codeartifact:ListRepositories\",\n\t\t\t\t\"codeartifact:ListTagsForResource\",\n\t\t\t\t\"codebuild:BatchGetReportGroups\",\n\t\t\t\t\"codebuild:ListReportGroups\",\n\t\t\t\t\"codecommit:GetRepository\",\n\t\t\t\t\"codecommit:GetRepositoryTriggers\",\n\t\t\t\t\"codecommit:ListRepositories\",\n\t\t\t\t\"codecommit:ListTagsForResource\",\n\t\t\t\t\"codeconnections:GetConnection\",\n\t\t\t\t\"codeconnections:ListConnections\",\n\t\t\t\t\"codeconnections:ListTagsForResource\",\n\t\t\t\t\"codedeploy:GetDeploymentConfig\",\n\t\t\t\t\"codeguru-profiler:DescribeProfilingGroup\",\n\t\t\t\t\"codeguru-profiler:GetNotificationConfiguration\",\n\t\t\t\t\"codeguru-profiler:GetPolicy\",\n\t\t\t\t\"codeguru-profiler:ListProfilingGroups\",\n\t\t\t\t\"codeguru-reviewer:DescribeRepositoryAssociation\",\n\t\t\t\t\"codeguru-reviewer:ListRepositoryAssociations\",\n\t\t\t\t\"codepipeline:GetPipeline\",\n\t\t\t\t\"codepipeline:GetPipelineState\",\n\t\t\t\t\"codepipeline:ListPipelines\",\n\t\t\t\t\"cognito-identity:DescribeIdentityPool\",\n\t\t\t\t\"cognito-identity:GetIdentityPoolRoles\",\n\t\t\t\t\"cognito-identity:GetPrincipalTagAttributeMap\",\n\t\t\t\t\"cognito-identity:ListIdentityPools\",\n\t\t\t\t\"cognito-identity:ListTagsForResource\",\n\t\t\t\t\"cognito-idp:DescribeIdentityProvider\",\n\t\t\t\t\"cognito-idp:DescribeResourceServer\",\n\t\t\t\t\"cognito-idp:DescribeUserPool\",\n\t\t\t\t\"cognito-idp:DescribeUserPoolClient\",\n\t\t\t\t\"cognito-idp:DescribeUserPoolDomain\",\n\t\t\t\t\"cognito-idp:GetGroup\",\n\t\t\t\t\"cognito-idp:GetUserPoolMfaConfig\",\n\t\t\t\t\"cognito-idp:ListGroups\",\n\t\t\t\t\"cognito-idp:ListIdentityProviders\",\n\t\t\t\t\"cognito-idp:ListResourceServers\",\n\t\t\t\t\"cognito-idp:ListTagsForResource\",\n\t\t\t\t\"cognito-idp:ListUserPoolClients\",\n\t\t\t\t\"cognito-idp:ListUserPools\",\n\t\t\t\t\"comprehend:DescribeFlywheel\",\n\t\t\t\t\"comprehend:ListFlywheels\",\n\t\t\t\t\"comprehend:ListTagsForResource\",\n\t\t\t\t\"config:BatchGet*\",\n\t\t\t\t\"config:Describe*\",\n\t\t\t\t\"config:Get*\",\n\t\t\t\t\"config:List*\",\n\t\t\t\t\"config:Put*\",\n\t\t\t\t\"config:Select*\",\n\t\t\t\t\"connect:DescribeEvaluationForm\",\n\t\t\t\t\"connect:DescribeInstance\",\n\t\t\t\t\"connect:DescribeInstanceStorageConfig\",\n\t\t\t\t\"connect:DescribePhoneNumber\",\n\t\t\t\t\"connect:DescribePrompt\",\n\t\t\t\t\"connect:DescribeQueue\",\n\t\t\t\t\"connect:DescribeQuickConnect\",\n\t\t\t\t\"connect:DescribeRoutingProfile\",\n\t\t\t\t\"connect:DescribeRule\",\n\t\t\t\t\"connect:DescribeSecurityProfile\",\n\t\t\t\t\"connect:DescribeUser\",\n\t\t\t\t\"connect:GetTaskTemplate\",\n\t\t\t\t\"connect:ListApprovedOrigins\",\n\t\t\t\t\"connect:ListEvaluationForms\",\n\t\t\t\t\"connect:ListInstanceAttributes\",\n\t\t\t\t\"connect:ListInstances\",\n\t\t\t\t\"connect:ListInstanceStorageConfigs\",\n\t\t\t\t\"connect:ListIntegrationAssociations\",\n\t\t\t\t\"connect:ListPhoneNumbers\",\n\t\t\t\t\"connect:ListPhoneNumbersV2\",\n\t\t\t\t\"connect:ListPrompts\",\n\t\t\t\t\"connect:ListQueueQuickConnects\",\n\t\t\t\t\"connect:ListQueues\",\n\t\t\t\t\"connect:ListQuickConnects\",\n\t\t\t\t\"connect:ListRoutingProfileQueues\",\n\t\t\t\t\"connect:ListRoutingProfiles\",\n\t\t\t\t\"connect:ListRules\",\n\t\t\t\t\"connect:ListSecurityKeys\",\n\t\t\t\t\"connect:ListSecurityProfileApplications\",\n\t\t\t\t\"connect:ListSecurityProfilePermissions\",\n\t\t\t\t\"connect:ListSecurityProfiles\",\n\t\t\t\t\"connect:ListTagsForResource\",\n\t\t\t\t\"connect:ListTaskTemplates\",\n\t\t\t\t\"connect:ListUsers\",\n\t\t\t\t\"connect:SearchAvailablePhoneNumbers\",\n\t\t\t\t\"databrew:DescribeDataset\",\n\t\t\t\t\"databrew:DescribeJob\",\n\t\t\t\t\"databrew:DescribeProject\",\n\t\t\t\t\"databrew:DescribeRecipe\",\n\t\t\t\t\"databrew:DescribeRuleset\",\n\t\t\t\t\"databrew:DescribeSchedule\",\n\t\t\t\t\"databrew:ListDatasets\",\n\t\t\t\t\"databrew:ListJobs\",\n\t\t\t\t\"databrew:ListProjects\",\n\t\t\t\t\"databrew:ListRecipes\",\n\t\t\t\t\"databrew:ListRecipeVersions\",\n\t\t\t\t\"databrew:ListRulesets\",\n\t\t\t\t\"databrew:ListSchedules\",\n\t\t\t\t\"datasync:DescribeAgent\",\n\t\t\t\t\"datasync:DescribeLocationEfs\",\n\t\t\t\t\"datasync:DescribeLocationFsxLustre\",\n\t\t\t\t\"datasync:DescribeLocationFsxWindows\",\n\t\t\t\t\"datasync:DescribeLocationHdfs\",\n\t\t\t\t\"datasync:DescribeLocationNfs\",\n\t\t\t\t\"datasync:DescribeLocationObjectStorage\",\n\t\t\t\t\"datasync:DescribeLocationS3\",\n\t\t\t\t\"datasync:DescribeLocationSmb\",\n\t\t\t\t\"datasync:DescribeTask\",\n\t\t\t\t\"datasync:ListAgents\",\n\t\t\t\t\"datasync:ListLocations\",\n\t\t\t\t\"datasync:ListTagsForResource\",\n\t\t\t\t\"datasync:ListTasks\",\n\t\t\t\t\"datazone:GetDomain\",\n\t\t\t\t\"datazone:ListDomains\",\n\t\t\t\t\"dax:DescribeClusters\",\n\t\t\t\t\"dax:DescribeParameterGroups\",\n\t\t\t\t\"dax:DescribeParameters\",\n\t\t\t\t\"dax:DescribeSubnetGroups\",\n\t\t\t\t\"dax:ListTags\",\n\t\t\t\t\"deadline:GetFleet\",\n\t\t\t\t\"deadline:GetQueueFleetAssociation\",\n\t\t\t\t\"deadline:ListFleets\",\n\t\t\t\t\"deadline:ListQueueFleetAssociations\",\n\t\t\t\t\"deadline:ListTagsForResource\",\n\t\t\t\t\"detective:ListGraphs\",\n\t\t\t\t\"detective:ListTagsForResource\",\n\t\t\t\t\"devicefarm:GetInstanceProfile\",\n\t\t\t\t\"devicefarm:GetNetworkProfile\",\n\t\t\t\t\"devicefarm:GetProject\",\n\t\t\t\t\"devicefarm:GetTestGridProject\",\n\t\t\t\t\"devicefarm:ListInstanceProfiles\",\n\t\t\t\t\"devicefarm:ListNetworkProfiles\",\n\t\t\t\t\"devicefarm:ListProjects\",\n\t\t\t\t\"devicefarm:ListTagsForResource\",\n\t\t\t\t\"devicefarm:ListTestGridProjects\",\n\t\t\t\t\"devops-guru:GetResourceCollection\",\n\t\t\t\t\"devops-guru:ListNotificationChannels\",\n\t\t\t\t\"directconnect:DescribeConnections\",\n\t\t\t\t\"dms:DescribeCertificates\",\n\t\t\t\t\"dms:DescribeDataMigrations\",\n\t\t\t\t\"dms:DescribeEndpoints\",\n\t\t\t\t\"dms:DescribeEventSubscriptions\",\n\t\t\t\t\"dms:DescribeReplicationConfigs\",\n\t\t\t\t\"dms:DescribeReplicationInstances\",\n\t\t\t\t\"dms:DescribeReplicationSubnetGroups\",\n\t\t\t\t\"dms:DescribeReplicationTaskAssessmentRuns\",\n\t\t\t\t\"dms:DescribeReplicationTasks\",\n\t\t\t\t\"dms:ListMigrationProjects\",\n\t\t\t\t\"dms:ListTagsForResource\",\n\t\t\t\t\"ds:DescribeDirectories\",\n\t\t\t\t\"ds:DescribeDomainControllers\",\n\t\t\t\t\"ds:DescribeEventTopics\",\n\t\t\t\t\"ds:ListLogSubscriptions\",\n\t\t\t\t\"ds:ListTagsForResource\",\n\t\t\t\t\"dynamodb:DescribeContinuousBackups\",\n\t\t\t\t\"dynamodb:DescribeGlobalTable\",\n\t\t\t\t\"dynamodb:DescribeGlobalTableSettings\",\n\t\t\t\t\"dynamodb:DescribeLimits\",\n\t\t\t\t\"dynamodb:DescribeTable\",\n\t\t\t\t\"dynamodb:DescribeTableReplicaAutoScaling\",\n\t\t\t\t\"dynamodb:DescribeTimeToLive\",\n\t\t\t\t\"dynamodb:ListTables\",\n\t\t\t\t\"dynamodb:ListTagsOfResource\",\n\t\t\t\t\"ec2:Describe*\",\n\t\t\t\t\"ec2:DescribeClientVpnAuthorizationRules\",\n\t\t\t\t\"ec2:DescribeClientVpnEndpoints\",\n\t\t\t\t\"ec2:DescribeDhcpOptions\",\n\t\t\t\t\"ec2:DescribeFleets\",\n\t\t\t\t\"ec2:DescribeNetworkAcls\",\n\t\t\t\t\"ec2:DescribePlacementGroups\",\n\t\t\t\t\"ec2:DescribeRouteTables\",\n\t\t\t\t\"ec2:DescribeSpotFleetRequests\",\n\t\t\t\t\"ec2:DescribeTags\",\n\t\t\t\t\"ec2:DescribeTrafficMirrorFilters\",\n\t\t\t\t\"ec2:DescribeTrafficMirrorSessions\",\n\t\t\t\t\"ec2:DescribeTrafficMirrorTargets\",\n\t\t\t\t\"ec2:DescribeVolumeAttribute\",\n\t\t\t\t\"ec2:DescribeVolumes\",\n\t\t\t\t\"ec2:DescribeVpcEndpoints\",\n\t\t\t\t\"ec2:GetAllowedImagesSettings\",\n\t\t\t\t\"ec2:GetEbsEncryptionByDefault\",\n\t\t\t\t\"ec2:GetInstanceTypesFromInstanceRequirements\",\n\t\t\t\t\"ec2:GetIpamPoolAllocations\",\n\t\t\t\t\"ec2:GetIpamPoolCidrs\",\n\t\t\t\t\"ec2:GetManagedPrefixListEntries\",\n\t\t\t\t\"ec2:GetNetworkInsightsAccessScopeAnalysisFindings\",\n\t\t\t\t\"ec2:GetNetworkInsightsAccessScopeContent\",\n\t\t\t\t\"ec2:GetSnapshotBlockPublicAccessState\",\n\t\t\t\t\"ecr-public:DescribeRepositories\",\n\t\t\t\t\"ecr-public:GetRepositoryCatalogData\",\n\t\t\t\t\"ecr-public:GetRepositoryPolicy\",\n\t\t\t\t\"ecr-public:ListTagsForResource\",\n\t\t\t\t\"ecr:BatchGetRepositoryScanningConfiguration\",\n\t\t\t\t\"ecr:DescribePullThroughCacheRules\",\n\t\t\t\t\"ecr:DescribeRegistry\",\n\t\t\t\t\"ecr:DescribeRepositories\",\n\t\t\t\t\"ecr:DescribeRepositoryCreationTemplates\",\n\t\t\t\t\"ecr:GetLifecyclePolicy\",\n\t\t\t\t\"ecr:GetRegistryPolicy\",\n\t\t\t\t\"ecr:GetRepositoryPolicy\",\n\t\t\t\t\"ecr:ListTagsForResource\",\n\t\t\t\t\"ecs:DescribeCapacityProviders\",\n\t\t\t\t\"ecs:DescribeClusters\",\n\t\t\t\t\"ecs:DescribeServices\",\n\t\t\t\t\"ecs:DescribeTaskDefinition\",\n\t\t\t\t\"ecs:DescribeTaskSets\",\n\t\t\t\t\"ecs:ListClusters\",\n\t\t\t\t\"ecs:ListServices\",\n\t\t\t\t\"ecs:ListTagsForResource\",\n\t\t\t\t\"ecs:ListTaskDefinitionFamilies\",\n\t\t\t\t\"ecs:ListTaskDefinitions\",\n\t\t\t\t\"eks:DescribeAddon\",\n\t\t\t\t\"eks:DescribeCluster\",\n\t\t\t\t\"eks:DescribeFargateProfile\",\n\t\t\t\t\"eks:DescribeIdentityProviderConfig\",\n\t\t\t\t\"eks:DescribeNodegroup\",\n\t\t\t\t\"eks:ListAddons\",\n\t\t\t\t\"eks:ListClusters\",\n\t\t\t\t\"eks:ListFargateProfiles\",\n\t\t\t\t\"eks:ListIdentityProviderConfigs\",\n\t\t\t\t\"eks:ListNodegroups\",\n\t\t\t\t\"eks:ListTagsForResource\",\n\t\t\t\t\"elasticache:DescribeCacheClusters\",\n\t\t\t\t\"elasticache:DescribeCacheParameterGroups\",\n\t\t\t\t\"elasticache:DescribeCacheParameters\",\n\t\t\t\t\"elasticache:DescribeCacheSecurityGroups\",\n\t\t\t\t\"elasticache:DescribeCacheSubnetGroups\",\n\t\t\t\t\"elasticache:DescribeGlobalReplicationGroups\",\n\t\t\t\t\"elasticache:DescribeReplicationGroups\",\n\t\t\t\t\"elasticache:DescribeSnapshots\",\n\t\t\t\t\"elasticache:DescribeUserGroups\",\n\t\t\t\t\"elasticache:DescribeUsers\",\n\t\t\t\t\"elasticache:ListTagsForResource\",\n\t\t\t\t\"elasticbeanstalk:DescribeConfigurationSettings\",\n\t\t\t\t\"elasticbeanstalk:DescribeEnvironments\",\n\t\t\t\t\"elasticfilesystem:DescribeAccessPoints\",\n\t\t\t\t\"elasticfilesystem:DescribeBackupPolicy\",\n\t\t\t\t\"elasticfilesystem:DescribeFileSystemPolicy\",\n\t\t\t\t\"elasticfilesystem:DescribeFileSystems\",\n\t\t\t\t\"elasticfilesystem:DescribeLifecycleConfiguration\",\n\t\t\t\t\"elasticfilesystem:DescribeMountTargets\",\n\t\t\t\t\"elasticfilesystem:DescribeMountTargetSecurityGroups\",\n\t\t\t\t\"elasticfilesystem:DescribeTags\",\n\t\t\t\t\"elasticloadbalancing:DescribeListenerCertificates\",\n\t\t\t\t\"elasticloadbalancing:DescribeListeners\",\n\t\t\t\t\"elasticloadbalancing:DescribeLoadBalancerAttributes\",\n\t\t\t\t\"elasticloadbalancing:DescribeLoadBalancerPolicies\",\n\t\t\t\t\"elasticloadbalancing:DescribeLoadBalancers\",\n\t\t\t\t\"elasticloadbalancing:DescribeRules\",\n\t\t\t\t\"elasticloadbalancing:DescribeTags\",\n\t\t\t\t\"elasticloadbalancing:DescribeTargetGroupAttributes\",\n\t\t\t\t\"elasticloadbalancing:DescribeTargetGroups\",\n\t\t\t\t\"elasticloadbalancing:DescribeTargetHealth\",\n\t\t\t\t\"elasticmapreduce:DescribeCluster\",\n\t\t\t\t\"elasticmapreduce:DescribeSecurityConfiguration\",\n\t\t\t\t\"elasticmapreduce:DescribeStep\",\n\t\t\t\t\"elasticmapreduce:DescribeStudio\",\n\t\t\t\t\"elasticmapreduce:GetBlockPublicAccessConfiguration\",\n\t\t\t\t\"elasticmapreduce:GetManagedScalingPolicy\",\n\t\t\t\t\"elasticmapreduce:GetStudioSessionMapping\",\n\t\t\t\t\"elasticmapreduce:ListClusters\",\n\t\t\t\t\"elasticmapreduce:ListInstanceFleets\",\n\t\t\t\t\"elasticmapreduce:ListInstanceGroups\",\n\t\t\t\t\"elasticmapreduce:ListInstances\",\n\t\t\t\t\"elasticmapreduce:ListSecurityConfigurations\",\n\t\t\t\t\"elasticmapreduce:ListSteps\",\n\t\t\t\t\"elasticmapreduce:ListStudios\",\n\t\t\t\t\"elasticmapreduce:ListStudioSessionMappings\",\n\t\t\t\t\"emr-containers:DescribeJobRun\",\n\t\t\t\t\"emr-containers:DescribeVirtualCluster\",\n\t\t\t\t\"emr-containers:ListJobRuns\",\n\t\t\t\t\"emr-containers:ListManagedEndpoints\",\n\t\t\t\t\"emr-containers:ListVirtualClusters\",\n\t\t\t\t\"emr-serverless:GetApplication\",\n\t\t\t\t\"emr-serverless:GetJobRun\",\n\t\t\t\t\"emr-serverless:ListApplications\",\n\t\t\t\t\"emr-serverless:ListJobRuns\",\n\t\t\t\t\"entityresolution:GetIdMappingWorkflow\",\n\t\t\t\t\"entityresolution:GetSchemaMapping\",\n\t\t\t\t\"entityresolution:ListIdMappingWorkflows\",\n\t\t\t\t\"entityresolution:ListSchemaMappings\",\n\t\t\t\t\"entityresolution:ListTagsForResource\",\n\t\t\t\t\"es:DescribeDomain\",\n\t\t\t\t\"es:DescribeDomains\",\n\t\t\t\t\"es:DescribeElasticsearchDomain\",\n\t\t\t\t\"es:DescribeElasticsearchDomains\",\n\t\t\t\t\"es:GetCompatibleElasticsearchVersions\",\n\t\t\t\t\"es:GetCompatibleVersions\",\n\t\t\t\t\"es:ListDomainNames\",\n\t\t\t\t\"es:ListTags\",\n\t\t\t\t\"events:DescribeApiDestination\",\n\t\t\t\t\"events:DescribeArchive\",\n\t\t\t\t\"events:DescribeConnection\",\n\t\t\t\t\"events:DescribeEndpoint\",\n\t\t\t\t\"events:DescribeEventBus\",\n\t\t\t\t\"events:DescribeRule\",\n\t\t\t\t\"events:ListApiDestinations\",\n\t\t\t\t\"events:ListArchives\",\n\t\t\t\t\"events:ListConnections\",\n\t\t\t\t\"events:ListEndpoints\",\n\t\t\t\t\"events:ListEventBuses\",\n\t\t\t\t\"events:ListRules\",\n\t\t\t\t\"events:ListTagsForResource\",\n\t\t\t\t\"events:ListTargetsByRule\",\n\t\t\t\t\"evidently:GetLaunch\",\n\t\t\t\t\"evidently:GetProject\",\n\t\t\t\t\"evidently:GetSegment\",\n\t\t\t\t\"evidently:ListLaunches\",\n\t\t\t\t\"evidently:ListProjects\",\n\t\t\t\t\"evidently:ListSegments\",\n\t\t\t\t\"evidently:ListTagsForResource\",\n\t\t\t\t\"finspace:GetEnvironment\",\n\t\t\t\t\"finspace:ListEnvironments\",\n\t\t\t\t\"firehose:DescribeDeliveryStream\",\n\t\t\t\t\"firehose:ListDeliveryStreams\",\n\t\t\t\t\"firehose:ListTagsForDeliveryStream\",\n\t\t\t\t\"fis:GetExperimentTemplate\",\n\t\t\t\t\"fis:ListExperimentTemplates\",\n\t\t\t\t\"fms:GetNotificationChannel\",\n\t\t\t\t\"fms:GetPolicy\",\n\t\t\t\t\"fms:ListPolicies\",\n\t\t\t\t\"fms:ListTagsForResource\",\n\t\t\t\t\"forecast:DescribeDataset\",\n\t\t\t\t\"forecast:DescribeDatasetGroup\",\n\t\t\t\t\"forecast:ListDatasetGroups\",\n\t\t\t\t\"forecast:ListDatasets\",\n\t\t\t\t\"forecast:ListTagsForResource\",\n\t\t\t\t\"frauddetector:GetDetectors\",\n\t\t\t\t\"frauddetector:GetDetectorVersion\",\n\t\t\t\t\"frauddetector:GetEntityTypes\",\n\t\t\t\t\"frauddetector:GetEventTypes\",\n\t\t\t\t\"frauddetector:GetExternalModels\",\n\t\t\t\t\"frauddetector:GetLabels\",\n\t\t\t\t\"frauddetector:GetModels\",\n\t\t\t\t\"frauddetector:GetOutcomes\",\n\t\t\t\t\"frauddetector:GetRules\",\n\t\t\t\t\"frauddetector:GetVariables\",\n\t\t\t\t\"frauddetector:ListTagsForResource\",\n\t\t\t\t\"fsx:DescribeBackups\",\n\t\t\t\t\"fsx:DescribeDataRepositoryAssociations\",\n\t\t\t\t\"fsx:DescribeFileSystems\",\n\t\t\t\t\"fsx:DescribeSnapshots\",\n\t\t\t\t\"fsx:DescribeStorageVirtualMachines\",\n\t\t\t\t\"fsx:DescribeVolumes\",\n\t\t\t\t\"fsx:ListTagsForResource\",\n\t\t\t\t\"gamelift:DescribeAlias\",\n\t\t\t\t\"gamelift:DescribeBuild\",\n\t\t\t\t\"gamelift:DescribeFleetAttributes\",\n\t\t\t\t\"gamelift:DescribeFleetCapacity\",\n\t\t\t\t\"gamelift:DescribeFleetLocationAttributes\",\n\t\t\t\t\"gamelift:DescribeFleetLocationCapacity\",\n\t\t\t\t\"gamelift:DescribeFleetPortSettings\",\n\t\t\t\t\"gamelift:DescribeGameServerGroup\",\n\t\t\t\t\"gamelift:DescribeGameSessionQueues\",\n\t\t\t\t\"gamelift:DescribeMatchmakingConfigurations\",\n\t\t\t\t\"gamelift:DescribeMatchmakingRuleSets\",\n\t\t\t\t\"gamelift:DescribeRuntimeConfiguration\",\n\t\t\t\t\"gamelift:DescribeScript\",\n\t\t\t\t\"gamelift:DescribeVpcPeeringAuthorizations\",\n\t\t\t\t\"gamelift:DescribeVpcPeeringConnections\",\n\t\t\t\t\"gamelift:ListAliases\",\n\t\t\t\t\"gamelift:ListBuilds\",\n\t\t\t\t\"gamelift:ListFleets\",\n\t\t\t\t\"gamelift:ListGameServerGroups\",\n\t\t\t\t\"gamelift:ListScripts\",\n\t\t\t\t\"gamelift:ListTagsForResource\",\n\t\t\t\t\"geo:DescribeGeofenceCollection\",\n\t\t\t\t\"geo:DescribeMap\",\n\t\t\t\t\"geo:DescribePlaceIndex\",\n\t\t\t\t\"geo:DescribeRouteCalculator\",\n\t\t\t\t\"geo:DescribeTracker\",\n\t\t\t\t\"geo:ListGeofenceCollections\",\n\t\t\t\t\"geo:ListMaps\",\n\t\t\t\t\"geo:ListPlaceIndexes\",\n\t\t\t\t\"geo:ListRouteCalculators\",\n\t\t\t\t\"geo:ListTrackerConsumers\",\n\t\t\t\t\"geo:ListTrackers\",\n\t\t\t\t\"globalaccelerator:DescribeAccelerator\",\n\t\t\t\t\"globalaccelerator:DescribeEndpointGroup\",\n\t\t\t\t\"globalaccelerator:DescribeListener\",\n\t\t\t\t\"globalaccelerator:ListAccelerators\",\n\t\t\t\t\"globalaccelerator:ListEndpointGroups\",\n\t\t\t\t\"globalaccelerator:ListListeners\",\n\t\t\t\t\"globalaccelerator:ListTagsForResource\",\n\t\t\t\t\"glue:BatchGetDevEndpoints\",\n\t\t\t\t\"glue:BatchGetJobs\",\n\t\t\t\t\"glue:BatchGetWorkflows\",\n\t\t\t\t\"glue:GetClassifier\",\n\t\t\t\t\"glue:GetClassifiers\",\n\t\t\t\t\"glue:GetCrawler\",\n\t\t\t\t\"glue:GetCrawlers\",\n\t\t\t\t\"glue:GetDataCatalogEncryptionSettings\",\n\t\t\t\t\"glue:GetDatabase\",\n\t\t\t\t\"glue:GetDatabases\",\n\t\t\t\t\"glue:GetDevEndpoint\",\n\t\t\t\t\"glue:GetDevEndpoints\",\n\t\t\t\t\"glue:GetJob\",\n\t\t\t\t\"glue:GetJobs\",\n\t\t\t\t\"glue:GetMLTransform\",\n\t\t\t\t\"glue:GetMLTransforms\",\n\t\t\t\t\"glue:GetPartition\",\n\t\t\t\t\"glue:GetPartitions\",\n\t\t\t\t\"glue:GetRegistry\",\n\t\t\t\t\"glue:GetSecurityConfiguration\",\n\t\t\t\t\"glue:GetSecurityConfigurations\",\n\t\t\t\t\"glue:GetTable\",\n\t\t\t\t\"glue:GetTags\",\n\t\t\t\t\"glue:GetTrigger\",\n\t\t\t\t\"glue:GetWorkflow\",\n\t\t\t\t\"glue:ListCrawlers\",\n\t\t\t\t\"glue:ListDevEndpoints\",\n\t\t\t\t\"glue:ListJobs\",\n\t\t\t\t\"glue:ListMLTransforms\",\n\t\t\t\t\"glue:ListRegistries\",\n\t\t\t\t\"glue:ListTriggers\",\n\t\t\t\t\"glue:ListWorkflows\",\n\t\t\t\t\"grafana:DescribeWorkspace\",\n\t\t\t\t\"grafana:DescribeWorkspaceAuthentication\",\n\t\t\t\t\"grafana:DescribeWorkspaceConfiguration\",\n\t\t\t\t\"grafana:ListWorkspaces\",\n\t\t\t\t\"greengrass:DescribeComponent\",\n\t\t\t\t\"greengrass:GetComponent\",\n\t\t\t\t\"greengrass:ListComponents\",\n\t\t\t\t\"greengrass:ListComponentVersions\",\n\t\t\t\t\"groundstation:GetConfig\",\n\t\t\t\t\"groundstation:GetDataflowEndpointGroup\",\n\t\t\t\t\"groundstation:GetMissionProfile\",\n\t\t\t\t\"groundstation:ListConfigs\",\n\t\t\t\t\"groundstation:ListDataflowEndpointGroups\",\n\t\t\t\t\"groundstation:ListMissionProfiles\",\n\t\t\t\t\"groundstation:ListTagsForResource\",\n\t\t\t\t\"guardduty:DescribePublishingDestination\",\n\t\t\t\t\"guardduty:GetAdministratorAccount\",\n\t\t\t\t\"guardduty:GetDetector\",\n\t\t\t\t\"guardduty:GetFilter\",\n\t\t\t\t\"guardduty:GetFindings\",\n\t\t\t\t\"guardduty:GetIPSet\",\n\t\t\t\t\"guardduty:GetMasterAccount\",\n\t\t\t\t\"guardduty:GetMemberDetectors\",\n\t\t\t\t\"guardduty:GetMembers\",\n\t\t\t\t\"guardduty:GetThreatIntelSet\",\n\t\t\t\t\"guardduty:ListDetectors\",\n\t\t\t\t\"guardduty:ListFilters\",\n\t\t\t\t\"guardduty:ListFindings\",\n\t\t\t\t\"guardduty:ListIPSets\",\n\t\t\t\t\"guardduty:ListMembers\",\n\t\t\t\t\"guardduty:ListOrganizationAdminAccounts\",\n\t\t\t\t\"guardduty:ListPublishingDestinations\",\n\t\t\t\t\"guardduty:ListTagsForResource\",\n\t\t\t\t\"guardduty:ListThreatIntelSets\",\n\t\t\t\t\"healthlake:DescribeFHIRDatastore\",\n\t\t\t\t\"healthlake:ListFHIRDatastores\",\n\t\t\t\t\"healthlake:ListTagsForResource\",\n\t\t\t\t\"iam:GenerateCredentialReport\",\n\t\t\t\t\"iam:GetAccountAuthorizationDetails\",\n\t\t\t\t\"iam:GetAccountPasswordPolicy\",\n\t\t\t\t\"iam:GetAccountSummary\",\n\t\t\t\t\"iam:GetCredentialReport\",\n\t\t\t\t\"iam:GetGroup\",\n\t\t\t\t\"iam:GetGroupPolicy\",\n\t\t\t\t\"iam:GetInstanceProfile\",\n\t\t\t\t\"iam:GetOpenIDConnectProvider\",\n\t\t\t\t\"iam:GetPolicy\",\n\t\t\t\t\"iam:GetPolicyVersion\",\n\t\t\t\t\"iam:GetRole\",\n\t\t\t\t\"iam:GetRolePolicy\",\n\t\t\t\t\"iam:GetSAMLProvider\",\n\t\t\t\t\"iam:GetServerCertificate\",\n\t\t\t\t\"iam:GetUser\",\n\t\t\t\t\"iam:GetUserPolicy\",\n\t\t\t\t\"iam:ListAccessKeys\",\n\t\t\t\t\"iam:ListAttachedGroupPolicies\",\n\t\t\t\t\"iam:ListAttachedRolePolicies\",\n\t\t\t\t\"iam:ListAttachedUserPolicies\",\n\t\t\t\t\"iam:ListEntitiesForPolicy\",\n\t\t\t\t\"iam:ListGroupPolicies\",\n\t\t\t\t\"iam:ListGroups\",\n\t\t\t\t\"iam:ListGroupsForUser\",\n\t\t\t\t\"iam:ListInstanceProfiles\",\n\t\t\t\t\"iam:ListInstanceProfilesForRole\",\n\t\t\t\t\"iam:ListInstanceProfileTags\",\n\t\t\t\t\"iam:ListMFADevices\",\n\t\t\t\t\"iam:ListMFADeviceTags\",\n\t\t\t\t\"iam:ListOpenIDConnectProviders\",\n\t\t\t\t\"iam:ListPolicies\",\n\t\t\t\t\"iam:ListPolicyVersions\",\n\t\t\t\t\"iam:ListRolePolicies\",\n\t\t\t\t\"iam:ListRoles\",\n\t\t\t\t\"iam:ListSAMLProviders\",\n\t\t\t\t\"iam:ListServerCertificates\",\n\t\t\t\t\"iam:ListUserPolicies\",\n\t\t\t\t\"iam:ListUsers\",\n\t\t\t\t\"iam:ListVirtualMFADevices\",\n\t\t\t\t\"identitystore:DescribeGroup\",\n\t\t\t\t\"identitystore:DescribeGroupMembership\",\n\t\t\t\t\"identitystore:ListGroupMemberships\",\n\t\t\t\t\"identitystore:ListGroups\",\n\t\t\t\t\"imagebuilder:GetComponent\",\n\t\t\t\t\"imagebuilder:GetContainerRecipe\",\n\t\t\t\t\"imagebuilder:GetDistributionConfiguration\",\n\t\t\t\t\"imagebuilder:GetImage\",\n\t\t\t\t\"imagebuilder:GetImagePipeline\",\n\t\t\t\t\"imagebuilder:GetImageRecipe\",\n\t\t\t\t\"imagebuilder:GetInfrastructureConfiguration\",\n\t\t\t\t\"imagebuilder:GetLifecyclePolicy\",\n\t\t\t\t\"imagebuilder:ListComponentBuildVersions\",\n\t\t\t\t\"imagebuilder:ListComponents\",\n\t\t\t\t\"imagebuilder:ListContainerRecipes\",\n\t\t\t\t\"imagebuilder:ListDistributionConfigurations\",\n\t\t\t\t\"imagebuilder:ListImageBuildVersions\",\n\t\t\t\t\"imagebuilder:ListImagePipelines\",\n\t\t\t\t\"imagebuilder:ListImageRecipes\",\n\t\t\t\t\"imagebuilder:ListImages\",\n\t\t\t\t\"imagebuilder:ListInfrastructureConfigurations\",\n\t\t\t\t\"imagebuilder:ListLifecyclePolicies\",\n\t\t\t\t\"inspector2:BatchGetAccountStatus\",\n\t\t\t\t\"inspector2:GetDelegatedAdminAccount\",\n\t\t\t\t\"inspector2:ListFilters\",\n\t\t\t\t\"inspector2:ListMembers\",\n\t\t\t\t\"iot:DescribeAccountAuditConfiguration\",\n\t\t\t\t\"iot:DescribeAuthorizer\",\n\t\t\t\t\"iot:DescribeBillingGroup\",\n\t\t\t\t\"iot:DescribeCACertificate\",\n\t\t\t\t\"iot:DescribeCertificate\",\n\t\t\t\t\"iot:DescribeCustomMetric\",\n\t\t\t\t\"iot:DescribeDimension\",\n\t\t\t\t\"iot:DescribeDomainConfiguration\",\n\t\t\t\t\"iot:DescribeFleetMetric\",\n\t\t\t\t\"iot:DescribeJobTemplate\",\n\t\t\t\t\"iot:DescribeMitigationAction\",\n\t\t\t\t\"iot:DescribeProvisioningTemplate\",\n\t\t\t\t\"iot:DescribeRoleAlias\",\n\t\t\t\t\"iot:DescribeScheduledAudit\",\n\t\t\t\t\"iot:DescribeSecurityProfile\",\n\t\t\t\t\"iot:DescribeThingGroup\",\n\t\t\t\t\"iot:DescribeThingType\",\n\t\t\t\t\"iot:GetPolicy\",\n\t\t\t\t\"iot:GetTopicRule\",\n\t\t\t\t\"iot:GetTopicRuleDestination\",\n\t\t\t\t\"iot:ListAuthorizers\",\n\t\t\t\t\"iot:ListBillingGroups\",\n\t\t\t\t\"iot:ListCACertificates\",\n\t\t\t\t\"iot:ListCertificates\",\n\t\t\t\t\"iot:ListCustomMetrics\",\n\t\t\t\t\"iot:ListDimensions\",\n\t\t\t\t\"iot:ListDomainConfigurations\",\n\t\t\t\t\"iot:ListFleetMetrics\",\n\t\t\t\t\"iot:ListJobTemplates\",\n\t\t\t\t\"iot:ListMitigationActions\",\n\t\t\t\t\"iot:ListPolicies\",\n\t\t\t\t\"iot:ListProvisioningTemplates\",\n\t\t\t\t\"iot:ListRoleAliases\",\n\t\t\t\t\"iot:ListScheduledAudits\",\n\t\t\t\t\"iot:ListSecurityProfiles\",\n\t\t\t\t\"iot:ListSecurityProfilesForTarget\",\n\t\t\t\t\"iot:ListTagsForResource\",\n\t\t\t\t\"iot:ListTargetsForSecurityProfile\",\n\t\t\t\t\"iot:ListThingGroups\",\n\t\t\t\t\"iot:ListThingTypes\",\n\t\t\t\t\"iot:ListTopicRuleDestinations\",\n\t\t\t\t\"iot:ListTopicRules\",\n\t\t\t\t\"iot:ListV2LoggingLevels\",\n\t\t\t\t\"iot:ValidateSecurityProfileBehaviors\",\n\t\t\t\t\"iotanalytics:DescribeChannel\",\n\t\t\t\t\"iotanalytics:DescribeDataset\",\n\t\t\t\t\"iotanalytics:DescribeDatastore\",\n\t\t\t\t\"iotanalytics:DescribePipeline\",\n\t\t\t\t\"iotanalytics:ListChannels\",\n\t\t\t\t\"iotanalytics:ListDatasets\",\n\t\t\t\t\"iotanalytics:ListDatastores\",\n\t\t\t\t\"iotanalytics:ListPipelines\",\n\t\t\t\t\"iotanalytics:ListTagsForResource\",\n\t\t\t\t\"iotdeviceadvisor:GetSuiteDefinition\",\n\t\t\t\t\"iotdeviceadvisor:ListSuiteDefinitions\",\n\t\t\t\t\"iotevents:DescribeAlarmModel\",\n\t\t\t\t\"iotevents:DescribeDetectorModel\",\n\t\t\t\t\"iotevents:DescribeInput\",\n\t\t\t\t\"iotevents:ListAlarmModels\",\n\t\t\t\t\"iotevents:ListDetectorModels\",\n\t\t\t\t\"iotevents:ListInputs\",\n\t\t\t\t\"iotevents:ListTagsForResource\",\n\t\t\t\t\"iotfleetwise:GetDecoderManifest\",\n\t\t\t\t\"iotfleetwise:GetFleet\",\n\t\t\t\t\"iotfleetwise:GetModelManifest\",\n\t\t\t\t\"iotfleetwise:GetSignalCatalog\",\n\t\t\t\t\"iotfleetwise:GetVehicle\",\n\t\t\t\t\"iotfleetwise:ListDecoderManifestNetworkInterfaces\",\n\t\t\t\t\"iotfleetwise:ListDecoderManifests\",\n\t\t\t\t\"iotfleetwise:ListDecoderManifestSignals\",\n\t\t\t\t\"iotfleetwise:ListFleets\",\n\t\t\t\t\"iotfleetwise:ListModelManifestNodes\",\n\t\t\t\t\"iotfleetwise:ListModelManifests\",\n\t\t\t\t\"iotfleetwise:ListSignalCatalogNodes\",\n\t\t\t\t\"iotfleetwise:ListSignalCatalogs\",\n\t\t\t\t\"iotfleetwise:ListTagsForResource\",\n\t\t\t\t\"iotfleetwise:ListVehicles\",\n\t\t\t\t\"iotsitewise:DescribeAccessPolicy\",\n\t\t\t\t\"iotsitewise:DescribeAsset\",\n\t\t\t\t\"iotsitewise:DescribeAssetModel\",\n\t\t\t\t\"iotsitewise:DescribeDashboard\",\n\t\t\t\t\"iotsitewise:DescribeGateway\",\n\t\t\t\t\"iotsitewise:DescribePortal\",\n\t\t\t\t\"iotsitewise:DescribeProject\",\n\t\t\t\t\"iotsitewise:ListAccessPolicies\",\n\t\t\t\t\"iotsitewise:ListAssetModels\",\n\t\t\t\t\"iotsitewise:ListAssets\",\n\t\t\t\t\"iotsitewise:ListDashboards\",\n\t\t\t\t\"iotsitewise:ListGateways\",\n\t\t\t\t\"iotsitewise:ListPortals\",\n\t\t\t\t\"iotsitewise:ListProjectAssets\",\n\t\t\t\t\"iotsitewise:ListProjects\",\n\t\t\t\t\"iotsitewise:ListTagsForResource\",\n\t\t\t\t\"iottwinmaker:GetComponentType\",\n\t\t\t\t\"iottwinmaker:GetEntity\",\n\t\t\t\t\"iottwinmaker:GetScene\",\n\t\t\t\t\"iottwinmaker:GetSyncJob\",\n\t\t\t\t\"iottwinmaker:GetWorkspace\",\n\t\t\t\t\"iottwinmaker:ListComponentTypes\",\n\t\t\t\t\"iottwinmaker:ListEntities\",\n\t\t\t\t\"iottwinmaker:ListScenes\",\n\t\t\t\t\"iottwinmaker:ListSyncJobs\",\n\t\t\t\t\"iottwinmaker:ListTagsForResource\",\n\t\t\t\t\"iottwinmaker:ListWorkspaces\",\n\t\t\t\t\"iotwireless:GetDestination\",\n\t\t\t\t\"iotwireless:GetDeviceProfile\",\n\t\t\t\t\"iotwireless:GetFuotaTask\",\n\t\t\t\t\"iotwireless:GetMulticastGroup\",\n\t\t\t\t\"iotwireless:GetServiceProfile\",\n\t\t\t\t\"iotwireless:GetWirelessDevice\",\n\t\t\t\t\"iotwireless:GetWirelessGateway\",\n\t\t\t\t\"iotwireless:GetWirelessGatewayTaskDefinition\",\n\t\t\t\t\"iotwireless:ListDestinations\",\n\t\t\t\t\"iotwireless:ListDeviceProfiles\",\n\t\t\t\t\"iotwireless:ListFuotaTasks\",\n\t\t\t\t\"iotwireless:ListMulticastGroups\",\n\t\t\t\t\"iotwireless:ListServiceProfiles\",\n\t\t\t\t\"iotwireless:ListTagsForResource\",\n\t\t\t\t\"iotwireless:ListWirelessDevices\",\n\t\t\t\t\"iotwireless:ListWirelessGateways\",\n\t\t\t\t\"iotwireless:ListWirelessGatewayTaskDefinitions\",\n\t\t\t\t\"ivs:GetChannel\",\n\t\t\t\t\"ivs:GetEncoderConfiguration\",\n\t\t\t\t\"ivs:GetPlaybackKeyPair\",\n\t\t\t\t\"ivs:GetPlaybackRestrictionPolicy\",\n\t\t\t\t\"ivs:GetRecordingConfiguration\",\n\t\t\t\t\"ivs:GetStage\",\n\t\t\t\t\"ivs:GetStorageConfiguration\",\n\t\t\t\t\"ivs:GetStreamKey\",\n\t\t\t\t\"ivs:ListChannels\",\n\t\t\t\t\"ivs:ListEncoderConfigurations\",\n\t\t\t\t\"ivs:ListPlaybackKeyPairs\",\n\t\t\t\t\"ivs:ListPlaybackRestrictionPolicies\",\n\t\t\t\t\"ivs:ListRecordingConfigurations\",\n\t\t\t\t\"ivs:ListStages\",\n\t\t\t\t\"ivs:ListStorageConfigurations\",\n\t\t\t\t\"ivs:ListStreamKeys\",\n\t\t\t\t\"ivs:ListTagsForResource\",\n\t\t\t\t\"ivschat:GetLoggingConfiguration\",\n\t\t\t\t\"ivschat:GetRoom\",\n\t\t\t\t\"ivschat:ListLoggingConfigurations\",\n\t\t\t\t\"ivschat:ListRooms\",\n\t\t\t\t\"ivschat:ListTagsForResource\",\n\t\t\t\t\"kafka:DescribeCluster\",\n\t\t\t\t\"kafka:DescribeClusterV2\",\n\t\t\t\t\"kafka:DescribeConfiguration\",\n\t\t\t\t\"kafka:DescribeConfigurationRevision\",\n\t\t\t\t\"kafka:DescribeVpcConnection\",\n\t\t\t\t\"kafka:GetClusterPolicy\",\n\t\t\t\t\"kafka:ListClusters\",\n\t\t\t\t\"kafka:ListClustersV2\",\n\t\t\t\t\"kafka:ListConfigurations\",\n\t\t\t\t\"kafka:ListScramSecrets\",\n\t\t\t\t\"kafka:ListTagsForResource\",\n\t\t\t\t\"kafka:ListVpcConnections\",\n\t\t\t\t\"kafkaconnect:DescribeConnector\",\n\t\t\t\t\"kafkaconnect:DescribeCustomPlugin\",\n\t\t\t\t\"kafkaconnect:DescribeWorkerConfiguration\",\n\t\t\t\t\"kafkaconnect:ListConnectors\",\n\t\t\t\t\"kafkaconnect:ListCustomPlugins\",\n\t\t\t\t\"kafkaconnect:ListTagsForResource\",\n\t\t\t\t\"kafkaconnect:ListWorkerConfigurations\",\n\t\t\t\t\"kendra:DescribeIndex\",\n\t\t\t\t\"kendra:ListIndices\",\n\t\t\t\t\"kendra:ListTagsForResource\",\n\t\t\t\t\"kinesis:DescribeStreamConsumer\",\n\t\t\t\t\"kinesis:DescribeStreamSummary\",\n\t\t\t\t\"kinesis:ListStreamConsumers\",\n\t\t\t\t\"kinesis:ListStreams\",\n\t\t\t\t\"kinesis:ListTagsForStream\",\n\t\t\t\t\"kinesisanalytics:DescribeApplication\",\n\t\t\t\t\"kinesisanalytics:ListApplications\",\n\t\t\t\t\"kinesisanalytics:ListTagsForResource\",\n\t\t\t\t\"kinesisvideo:DescribeSignalingChannel\",\n\t\t\t\t\"kinesisvideo:DescribeStream\",\n\t\t\t\t\"kinesisvideo:ListSignalingChannels\",\n\t\t\t\t\"kinesisvideo:ListStreams\",\n\t\t\t\t\"kinesisvideo:ListTagsForResource\",\n\t\t\t\t\"kinesisvideo:ListTagsForStream\",\n\t\t\t\t\"kms:DescribeKey\",\n\t\t\t\t\"kms:GetKeyPolicy\",\n\t\t\t\t\"kms:GetKeyRotationStatus\",\n\t\t\t\t\"kms:ListAliases\",\n\t\t\t\t\"kms:ListKeys\",\n\t\t\t\t\"kms:ListResourceTags\",\n\t\t\t\t\"lakeformation:DescribeLakeFormationIdentityCenterConfiguration\",\n\t\t\t\t\"lakeformation:DescribeResource\",\n\t\t\t\t\"lakeformation:GetDataLakeSettings\",\n\t\t\t\t\"lakeformation:ListPermissions\",\n\t\t\t\t\"lakeformation:ListResources\",\n\t\t\t\t\"lambda:GetAlias\",\n\t\t\t\t\"lambda:GetCodeSigningConfig\",\n\t\t\t\t\"lambda:GetEventSourceMapping\",\n\t\t\t\t\"lambda:GetFunction\",\n\t\t\t\t\"lambda:GetFunctionCodeSigningConfig\",\n\t\t\t\t\"lambda:GetLayerVersion\",\n\t\t\t\t\"lambda:GetPolicy\",\n\t\t\t\t\"lambda:ListAliases\",\n\t\t\t\t\"lambda:ListCodeSigningConfigs\",\n\t\t\t\t\"lambda:ListEventSourceMappings\",\n\t\t\t\t\"lambda:ListFunctions\",\n\t\t\t\t\"lambda:ListLayers\",\n\t\t\t\t\"lambda:ListLayerVersions\",\n\t\t\t\t\"lambda:ListTags\",\n\t\t\t\t\"lambda:ListVersionsByFunction\",\n\t\t\t\t\"lex:DescribeBot\",\n\t\t\t\t\"lex:DescribeBotAlias\",\n\t\t\t\t\"lex:DescribeBotVersion\",\n\t\t\t\t\"lex:DescribeResourcePolicy\",\n\t\t\t\t\"lex:ListBotAliases\",\n\t\t\t\t\"lex:ListBotLocales\",\n\t\t\t\t\"lex:ListBots\",\n\t\t\t\t\"lex:ListBotVersions\",\n\t\t\t\t\"lex:ListTagsForResource\",\n\t\t\t\t\"license-manager:GetGrant\",\n\t\t\t\t\"license-manager:GetLicense\",\n\t\t\t\t\"license-manager:ListDistributedGrants\",\n\t\t\t\t\"license-manager:ListLicenses\",\n\t\t\t\t\"license-manager:ListReceivedGrants\",\n\t\t\t\t\"lightsail:GetAlarms\",\n\t\t\t\t\"lightsail:GetBuckets\",\n\t\t\t\t\"lightsail:GetCertificates\",\n\t\t\t\t\"lightsail:GetContainerServices\",\n\t\t\t\t\"lightsail:GetDisk\",\n\t\t\t\t\"lightsail:GetDisks\",\n\t\t\t\t\"lightsail:GetDistributions\",\n\t\t\t\t\"lightsail:GetInstance\",\n\t\t\t\t\"lightsail:GetInstances\",\n\t\t\t\t\"lightsail:GetKeyPair\",\n\t\t\t\t\"lightsail:GetLoadBalancer\",\n\t\t\t\t\"lightsail:GetLoadBalancers\",\n\t\t\t\t\"lightsail:GetLoadBalancerTlsCertificates\",\n\t\t\t\t\"lightsail:GetRelationalDatabase\",\n\t\t\t\t\"lightsail:GetRelationalDatabaseParameters\",\n\t\t\t\t\"lightsail:GetRelationalDatabases\",\n\t\t\t\t\"lightsail:GetStaticIp\",\n\t\t\t\t\"lightsail:GetStaticIps\",\n\t\t\t\t\"logs:DescribeAccountPolicies\",\n\t\t\t\t\"logs:DescribeDestinations\",\n\t\t\t\t\"logs:DescribeIndexPolicies\",\n\t\t\t\t\"logs:DescribeLogGroups\",\n\t\t\t\t\"logs:DescribeMetricFilters\",\n\t\t\t\t\"logs:DescribeResourcePolicies\",\n\t\t\t\t\"logs:GetDataProtectionPolicy\",\n\t\t\t\t\"logs:GetLogAnomalyDetector\",\n\t\t\t\t\"logs:GetLogDelivery\",\n\t\t\t\t\"logs:ListLogAnomalyDetectors\",\n\t\t\t\t\"logs:ListLogDeliveries\",\n\t\t\t\t\"logs:ListTagsForResource\",\n\t\t\t\t\"logs:ListTagsLogGroup\",\n\t\t\t\t\"lookoutequipment:DescribeInferenceScheduler\",\n\t\t\t\t\"lookoutequipment:ListTagsForResource\",\n\t\t\t\t\"lookoutmetrics:DescribeAlert\",\n\t\t\t\t\"lookoutmetrics:DescribeAnomalyDetector\",\n\t\t\t\t\"lookoutmetrics:ListAlerts\",\n\t\t\t\t\"lookoutmetrics:ListAnomalyDetectors\",\n\t\t\t\t\"lookoutmetrics:ListMetricSets\",\n\t\t\t\t\"lookoutmetrics:ListTagsForResource\",\n\t\t\t\t\"lookoutvision:DescribeProject\",\n\t\t\t\t\"lookoutvision:ListProjects\",\n\t\t\t\t\"m2:GetEnvironment\",\n\t\t\t\t\"m2:ListEnvironments\",\n\t\t\t\t\"m2:ListTagsForResource\",\n\t\t\t\t\"macie2:DescribeOrganizationConfiguration\",\n\t\t\t\t\"macie2:GetAutomatedDiscoveryConfiguration\",\n\t\t\t\t\"macie2:GetClassificationExportConfiguration\",\n\t\t\t\t\"macie2:GetCustomDataIdentifier\",\n\t\t\t\t\"macie2:GetFindingsPublicationConfiguration\",\n\t\t\t\t\"macie2:GetMacieSession\",\n\t\t\t\t\"macie2:ListAutomatedDiscoveryAccounts\",\n\t\t\t\t\"macie2:ListCustomDataIdentifiers\",\n\t\t\t\t\"macie2:ListTagsForResource\",\n\t\t\t\t\"managedblockchain:GetAccessor\",\n\t\t\t\t\"managedblockchain:GetMember\",\n\t\t\t\t\"managedblockchain:GetNetwork\",\n\t\t\t\t\"managedblockchain:GetNode\",\n\t\t\t\t\"managedblockchain:ListAccessors\",\n\t\t\t\t\"managedblockchain:ListInvitations\",\n\t\t\t\t\"managedblockchain:ListMembers\",\n\t\t\t\t\"managedblockchain:ListNodes\",\n\t\t\t\t\"mediaconnect:DescribeBridge\",\n\t\t\t\t\"mediaconnect:DescribeFlow\",\n\t\t\t\t\"mediaconnect:DescribeGateway\",\n\t\t\t\t\"mediaconnect:ListBridges\",\n\t\t\t\t\"mediaconnect:ListFlows\",\n\t\t\t\t\"mediaconnect:ListGateways\",\n\t\t\t\t\"mediaconnect:ListTagsForResource\",\n\t\t\t\t\"medialive:DescribeMultiplexProgram\",\n\t\t\t\t\"medialive:ListMultiplexPrograms\",\n\t\t\t\t\"mediapackage-vod:DescribePackagingConfiguration\",\n\t\t\t\t\"mediapackage-vod:DescribePackagingGroup\",\n\t\t\t\t\"mediapackage-vod:ListPackagingConfigurations\",\n\t\t\t\t\"mediapackage-vod:ListPackagingGroups\",\n\t\t\t\t\"mediapackage-vod:ListTagsForResource\",\n\t\t\t\t\"mediapackagev2:GetChannel\",\n\t\t\t\t\"mediapackagev2:GetChannelGroup\",\n\t\t\t\t\"mediapackagev2:ListChannelGroups\",\n\t\t\t\t\"mediapackagev2:ListChannels\",\n\t\t\t\t\"mediatailor:DescribeChannel\",\n\t\t\t\t\"mediatailor:DescribeLiveSource\",\n\t\t\t\t\"mediatailor:DescribeSourceLocation\",\n\t\t\t\t\"mediatailor:DescribeVodSource\",\n\t\t\t\t\"mediatailor:GetPlaybackConfiguration\",\n\t\t\t\t\"mediatailor:ListChannels\",\n\t\t\t\t\"mediatailor:ListLiveSources\",\n\t\t\t\t\"mediatailor:ListPlaybackConfigurations\",\n\t\t\t\t\"mediatailor:ListSourceLocations\",\n\t\t\t\t\"mediatailor:ListVodSources\",\n\t\t\t\t\"memorydb:DescribeAcls\",\n\t\t\t\t\"memorydb:DescribeClusters\",\n\t\t\t\t\"memorydb:DescribeParameterGroups\",\n\t\t\t\t\"memorydb:DescribeParameters\",\n\t\t\t\t\"memorydb:DescribeSubnetGroups\",\n\t\t\t\t\"memorydb:DescribeUsers\",\n\t\t\t\t\"memorydb:ListTags\",\n\t\t\t\t\"mobiletargeting:GetApp\",\n\t\t\t\t\"mobiletargeting:GetApplicationSettings\",\n\t\t\t\t\"mobiletargeting:GetApps\",\n\t\t\t\t\"mobiletargeting:GetCampaign\",\n\t\t\t\t\"mobiletargeting:GetCampaigns\",\n\t\t\t\t\"mobiletargeting:GetEmailChannel\",\n\t\t\t\t\"mobiletargeting:GetEmailTemplate\",\n\t\t\t\t\"mobiletargeting:GetEventStream\",\n\t\t\t\t\"mobiletargeting:GetInAppTemplate\",\n\t\t\t\t\"mobiletargeting:GetSegment\",\n\t\t\t\t\"mobiletargeting:GetSegments\",\n\t\t\t\t\"mobiletargeting:ListTagsForResource\",\n\t\t\t\t\"mobiletargeting:ListTemplates\",\n\t\t\t\t\"mq:DescribeBroker\",\n\t\t\t\t\"mq:ListBrokers\",\n\t\t\t\t\"network-firewall:DescribeLoggingConfiguration\",\n\t\t\t\t\"network-firewall:ListFirewalls\",\n\t\t\t\t\"networkmanager:DescribeGlobalNetworks\",\n\t\t\t\t\"networkmanager:GetConnectPeer\",\n\t\t\t\t\"networkmanager:GetCustomerGatewayAssociations\",\n\t\t\t\t\"networkmanager:GetDevices\",\n\t\t\t\t\"networkmanager:GetLinkAssociations\",\n\t\t\t\t\"networkmanager:GetLinks\",\n\t\t\t\t\"networkmanager:GetSites\",\n\t\t\t\t\"networkmanager:GetTransitGatewayPeering\",\n\t\t\t\t\"networkmanager:GetTransitGatewayRegistrations\",\n\t\t\t\t\"networkmanager:ListConnectPeers\",\n\t\t\t\t\"networkmanager:ListPeerings\",\n\t\t\t\t\"networkmanager:ListTagsForResource\",\n\t\t\t\t\"nimble:GetLaunchProfile\",\n\t\t\t\t\"nimble:GetLaunchProfileDetails\",\n\t\t\t\t\"nimble:GetStreamingImage\",\n\t\t\t\t\"nimble:GetStudio\",\n\t\t\t\t\"nimble:GetStudioComponent\",\n\t\t\t\t\"nimble:ListLaunchProfiles\",\n\t\t\t\t\"nimble:ListStreamingImages\",\n\t\t\t\t\"nimble:ListStudioComponents\",\n\t\t\t\t\"nimble:ListStudios\",\n\t\t\t\t\"oam:GetSink\",\n\t\t\t\t\"oam:GetSinkPolicy\",\n\t\t\t\t\"oam:ListSinks\",\n\t\t\t\t\"omics:GetAnnotationStore\",\n\t\t\t\t\"omics:GetRunGroup\",\n\t\t\t\t\"omics:GetSequenceStore\",\n\t\t\t\t\"omics:GetVariantStore\",\n\t\t\t\t\"omics:GetWorkflow\",\n\t\t\t\t\"omics:ListAnnotationStores\",\n\t\t\t\t\"omics:ListRunGroups\",\n\t\t\t\t\"omics:ListSequenceStores\",\n\t\t\t\t\"omics:ListTagsForResource\",\n\t\t\t\t\"omics:ListVariantStores\",\n\t\t\t\t\"omics:ListWorkflows\",\n\t\t\t\t\"opsworks:DescribeInstances\",\n\t\t\t\t\"opsworks:DescribeLayers\",\n\t\t\t\t\"opsworks:DescribeTimeBasedAutoScaling\",\n\t\t\t\t\"opsworks:DescribeVolumes\",\n\t\t\t\t\"opsworks:ListTags\",\n\t\t\t\t\"organizations:DescribeAccount\",\n\t\t\t\t\"organizations:DescribeEffectivePolicy\",\n\t\t\t\t\"organizations:DescribeOrganization\",\n\t\t\t\t\"organizations:DescribeOrganizationalUnit\",\n\t\t\t\t\"organizations:DescribePolicy\",\n\t\t\t\t\"organizations:DescribeResourcePolicy\",\n\t\t\t\t\"organizations:ListAccounts\",\n\t\t\t\t\"organizations:ListAccountsForParent\",\n\t\t\t\t\"organizations:ListDelegatedAdministrators\",\n\t\t\t\t\"organizations:ListOrganizationalUnitsForParent\",\n\t\t\t\t\"organizations:ListParents\",\n\t\t\t\t\"organizations:ListPolicies\",\n\t\t\t\t\"organizations:ListPoliciesForTarget\",\n\t\t\t\t\"organizations:ListRoots\",\n\t\t\t\t\"organizations:ListTagsForResource\",\n\t\t\t\t\"organizations:ListTargetsForPolicy\",\n\t\t\t\t\"panorama:DescribeApplicationInstance\",\n\t\t\t\t\"panorama:DescribeApplicationInstanceDetails\",\n\t\t\t\t\"panorama:DescribePackage\",\n\t\t\t\t\"panorama:DescribePackageVersion\",\n\t\t\t\t\"panorama:ListApplicationInstances\",\n\t\t\t\t\"panorama:ListNodes\",\n\t\t\t\t\"panorama:ListPackages\",\n\t\t\t\t\"payment-cryptography:GetAlias\",\n\t\t\t\t\"payment-cryptography:GetKey\",\n\t\t\t\t\"payment-cryptography:ListAliases\",\n\t\t\t\t\"payment-cryptography:ListKeys\",\n\t\t\t\t\"payment-cryptography:ListTagsForResource\",\n\t\t\t\t\"pca-connector-ad:GetDirectoryRegistration\",\n\t\t\t\t\"pca-connector-ad:ListDirectoryRegistrations\",\n\t\t\t\t\"pca-connector-ad:ListTagsForResource\",\n\t\t\t\t\"personalize:DescribeDataset\",\n\t\t\t\t\"personalize:DescribeDatasetGroup\",\n\t\t\t\t\"personalize:DescribeSchema\",\n\t\t\t\t\"personalize:DescribeSolution\",\n\t\t\t\t\"personalize:ListDatasetGroups\",\n\t\t\t\t\"personalize:ListDatasetImportJobs\",\n\t\t\t\t\"personalize:ListDatasets\",\n\t\t\t\t\"personalize:ListSchemas\",\n\t\t\t\t\"personalize:ListSolutions\",\n\t\t\t\t\"personalize:ListTagsForResource\",\n\t\t\t\t\"profile:GetDomain\",\n\t\t\t\t\"profile:GetIntegration\",\n\t\t\t\t\"profile:GetProfileObjectType\",\n\t\t\t\t\"profile:ListDomains\",\n\t\t\t\t\"profile:ListIntegrations\",\n\t\t\t\t\"profile:ListProfileObjectTypes\",\n\t\t\t\t\"profile:ListTagsForResource\",\n\t\t\t\t\"qbusiness:GetApplication\",\n\t\t\t\t\"qbusiness:ListApplications\",\n\t\t\t\t\"qbusiness:ListTagsForResource\",\n\t\t\t\t\"quicksight:DescribeAccountSubscription\",\n\t\t\t\t\"quicksight:DescribeAnalysis\",\n\t\t\t\t\"quicksight:DescribeAnalysisPermissions\",\n\t\t\t\t\"quicksight:DescribeDashboard\",\n\t\t\t\t\"quicksight:DescribeDashboardPermissions\",\n\t\t\t\t\"quicksight:DescribeDataSet\",\n\t\t\t\t\"quicksight:DescribeDataSetPermissions\",\n\t\t\t\t\"quicksight:DescribeDataSetRefreshProperties\",\n\t\t\t\t\"quicksight:DescribeDataSource\",\n\t\t\t\t\"quicksight:DescribeDataSourcePermissions\",\n\t\t\t\t\"quicksight:DescribeTemplate\",\n\t\t\t\t\"quicksight:DescribeTemplatePermissions\",\n\t\t\t\t\"quicksight:DescribeTheme\",\n\t\t\t\t\"quicksight:DescribeThemePermissions\",\n\t\t\t\t\"quicksight:ListAnalyses\",\n\t\t\t\t\"quicksight:ListDashboards\",\n\t\t\t\t\"quicksight:ListDataSets\",\n\t\t\t\t\"quicksight:ListDataSources\",\n\t\t\t\t\"quicksight:ListTagsForResource\",\n\t\t\t\t\"quicksight:ListTemplates\",\n\t\t\t\t\"quicksight:ListThemes\",\n\t\t\t\t\"ram:GetPermission\",\n\t\t\t\t\"ram:GetResourceShareAssociations\",\n\t\t\t\t\"ram:GetResourceShares\",\n\t\t\t\t\"ram:ListPermissionAssociations\",\n\t\t\t\t\"ram:ListPermissions\",\n\t\t\t\t\"ram:ListPermissionVersions\",\n\t\t\t\t\"ram:ListResources\",\n\t\t\t\t\"ram:ListResourceSharePermissions\",\n\t\t\t\t\"rds:DescribeDBClusterParameterGroups\",\n\t\t\t\t\"rds:DescribeDBClusterParameters\",\n\t\t\t\t\"rds:DescribeDBClusters\",\n\t\t\t\t\"rds:DescribeDBClusterSnapshotAttributes\",\n\t\t\t\t\"rds:DescribeDBClusterSnapshots\",\n\t\t\t\t\"rds:DescribeDBEngineVersions\",\n\t\t\t\t\"rds:DescribeDBInstances\",\n\t\t\t\t\"rds:DescribeDBParameterGroups\",\n\t\t\t\t\"rds:DescribeDBParameters\",\n\t\t\t\t\"rds:DescribeDBProxies\",\n\t\t\t\t\"rds:DescribeDBProxyEndpoints\",\n\t\t\t\t\"rds:DescribeDBProxyTargetGroups\",\n\t\t\t\t\"rds:DescribeDBProxyTargets\",\n\t\t\t\t\"rds:DescribeDBSecurityGroups\",\n\t\t\t\t\"rds:DescribeDBShardGroups\",\n\t\t\t\t\"rds:DescribeDBSnapshotAttributes\",\n\t\t\t\t\"rds:DescribeDBSnapshots\",\n\t\t\t\t\"rds:DescribeDBSubnetGroups\",\n\t\t\t\t\"rds:DescribeEngineDefaultClusterParameters\",\n\t\t\t\t\"rds:DescribeEngineDefaultParameters\",\n\t\t\t\t\"rds:DescribeEventSubscriptions\",\n\t\t\t\t\"rds:DescribeGlobalClusters\",\n\t\t\t\t\"rds:DescribeIntegrations\",\n\t\t\t\t\"rds:DescribeOptionGroups\",\n\t\t\t\t\"rds:ListTagsForResource\",\n\t\t\t\t\"redshift-serverless:GetNamespace\",\n\t\t\t\t\"redshift-serverless:GetWorkgroup\",\n\t\t\t\t\"redshift-serverless:ListNamespaces\",\n\t\t\t\t\"redshift-serverless:ListTagsForResource\",\n\t\t\t\t\"redshift-serverless:ListWorkgroups\",\n\t\t\t\t\"redshift:DescribeClusterParameterGroups\",\n\t\t\t\t\"redshift:DescribeClusterParameters\",\n\t\t\t\t\"redshift:DescribeClusters\",\n\t\t\t\t\"redshift:DescribeClusterSecurityGroups\",\n\t\t\t\t\"redshift:DescribeClusterSnapshots\",\n\t\t\t\t\"redshift:DescribeClusterSubnetGroups\",\n\t\t\t\t\"redshift:DescribeEndpointAccess\",\n\t\t\t\t\"redshift:DescribeEndpointAuthorization\",\n\t\t\t\t\"redshift:DescribeEventSubscriptions\",\n\t\t\t\t\"redshift:DescribeIntegrations\",\n\t\t\t\t\"redshift:DescribeLoggingStatus\",\n\t\t\t\t\"redshift:DescribeScheduledActions\",\n\t\t\t\t\"redshift:DescribeTags\",\n\t\t\t\t\"refactor-spaces:GetEnvironment\",\n\t\t\t\t\"refactor-spaces:GetService\",\n\t\t\t\t\"refactor-spaces:ListApplications\",\n\t\t\t\t\"refactor-spaces:ListEnvironments\",\n\t\t\t\t\"refactor-spaces:ListServices\",\n\t\t\t\t\"rekognition:DescribeProjects\",\n\t\t\t\t\"rekognition:DescribeStreamProcessor\",\n\t\t\t\t\"rekognition:ListStreamProcessors\",\n\t\t\t\t\"rekognition:ListTagsForResource\",\n\t\t\t\t\"resiliencehub:DescribeApp\",\n\t\t\t\t\"resiliencehub:DescribeAppVersionTemplate\",\n\t\t\t\t\"resiliencehub:DescribeResiliencyPolicy\",\n\t\t\t\t\"resiliencehub:ListApps\",\n\t\t\t\t\"resiliencehub:ListAppVersionResourceMappings\",\n\t\t\t\t\"resiliencehub:ListResiliencyPolicies\",\n\t\t\t\t\"resiliencehub:ListTagsForResource\",\n\t\t\t\t\"resource-explorer-2:GetIndex\",\n\t\t\t\t\"resource-explorer-2:ListIndexes\",\n\t\t\t\t\"resource-explorer-2:ListTagsForResource\",\n\t\t\t\t\"resource-groups:GetGroup\",\n\t\t\t\t\"resource-groups:GetGroupConfiguration\",\n\t\t\t\t\"resource-groups:GetGroupQuery\",\n\t\t\t\t\"resource-groups:GetTags\",\n\t\t\t\t\"resource-groups:ListGroupResources\",\n\t\t\t\t\"resource-groups:ListGroups\",\n\t\t\t\t\"robomaker:DescribeRobotApplication\",\n\t\t\t\t\"robomaker:DescribeSimulationApplication\",\n\t\t\t\t\"robomaker:ListRobotApplications\",\n\t\t\t\t\"robomaker:ListSimulationApplications\",\n\t\t\t\t\"rolesanywhere:GetProfile\",\n\t\t\t\t\"rolesanywhere:GetTrustAnchor\",\n\t\t\t\t\"rolesanywhere:ListProfiles\",\n\t\t\t\t\"rolesanywhere:ListTagsForResource\",\n\t\t\t\t\"rolesanywhere:ListTrustAnchors\",\n\t\t\t\t\"route53-recovery-control-config:DescribeCluster\",\n\t\t\t\t\"route53-recovery-control-config:DescribeControlPanel\",\n\t\t\t\t\"route53-recovery-control-config:DescribeRoutingControl\",\n\t\t\t\t\"route53-recovery-control-config:DescribeSafetyRule\",\n\t\t\t\t\"route53-recovery-control-config:ListClusters\",\n\t\t\t\t\"route53-recovery-control-config:ListControlPanels\",\n\t\t\t\t\"route53-recovery-control-config:ListRoutingControls\",\n\t\t\t\t\"route53-recovery-control-config:ListSafetyRules\",\n\t\t\t\t\"route53-recovery-control-config:ListTagsForResource\",\n\t\t\t\t\"route53-recovery-readiness:GetCell\",\n\t\t\t\t\"route53-recovery-readiness:GetReadinessCheck\",\n\t\t\t\t\"route53-recovery-readiness:GetRecoveryGroup\",\n\t\t\t\t\"route53-recovery-readiness:GetResourceSet\",\n\t\t\t\t\"route53-recovery-readiness:ListCells\",\n\t\t\t\t\"route53-recovery-readiness:ListReadinessChecks\",\n\t\t\t\t\"route53-recovery-readiness:ListRecoveryGroups\",\n\t\t\t\t\"route53-recovery-readiness:ListResourceSets\",\n\t\t\t\t\"route53:GetChange\",\n\t\t\t\t\"route53:GetDNSSEC\",\n\t\t\t\t\"route53:GetHealthCheck\",\n\t\t\t\t\"route53:GetHostedZone\",\n\t\t\t\t\"route53:ListCidrBlocks\",\n\t\t\t\t\"route53:ListCidrCollections\",\n\t\t\t\t\"route53:ListCidrLocations\",\n\t\t\t\t\"route53:ListHealthChecks\",\n\t\t\t\t\"route53:ListHostedZones\",\n\t\t\t\t\"route53:ListHostedZonesByName\",\n\t\t\t\t\"route53:ListQueryLoggingConfigs\",\n\t\t\t\t\"route53:ListResourceRecordSets\",\n\t\t\t\t\"route53:ListTagsForResource\",\n\t\t\t\t\"route53profiles:GetProfile\",\n\t\t\t\t\"route53profiles:GetProfileAssociation\",\n\t\t\t\t\"route53profiles:ListProfileAssociations\",\n\t\t\t\t\"route53profiles:ListProfiles\",\n\t\t\t\t\"route53profiles:ListTagsForResource\",\n\t\t\t\t\"route53resolver:GetFirewallDomainList\",\n\t\t\t\t\"route53resolver:GetFirewallRuleGroup\",\n\t\t\t\t\"route53resolver:GetFirewallRuleGroupAssociation\",\n\t\t\t\t\"route53resolver:GetResolverDnssecConfig\",\n\t\t\t\t\"route53resolver:GetResolverEndpoint\",\n\t\t\t\t\"route53resolver:GetResolverQueryLogConfig\",\n\t\t\t\t\"route53resolver:GetResolverQueryLogConfigAssociation\",\n\t\t\t\t\"route53resolver:GetResolverRule\",\n\t\t\t\t\"route53resolver:GetResolverRuleAssociation\",\n\t\t\t\t\"route53resolver:ListFirewallDomainLists\",\n\t\t\t\t\"route53resolver:ListFirewallDomains\",\n\t\t\t\t\"route53resolver:ListFirewallRuleGroupAssociations\",\n\t\t\t\t\"route53resolver:ListFirewallRuleGroups\",\n\t\t\t\t\"route53resolver:ListFirewallRules\",\n\t\t\t\t\"route53resolver:ListResolverDnssecConfigs\",\n\t\t\t\t\"route53resolver:ListResolverEndpointIpAddresses\",\n\t\t\t\t\"route53resolver:ListResolverEndpoints\",\n\t\t\t\t\"route53resolver:ListResolverQueryLogConfigAssociations\",\n\t\t\t\t\"route53resolver:ListResolverQueryLogConfigs\",\n\t\t\t\t\"route53resolver:ListResolverRuleAssociations\",\n\t\t\t\t\"route53resolver:ListResolverRules\",\n\t\t\t\t\"route53resolver:ListTagsForResource\",\n\t\t\t\t\"rum:GetAppMonitor\",\n\t\t\t\t\"rum:GetAppMonitorData\",\n\t\t\t\t\"rum:ListAppMonitors\",\n\t\t\t\t\"rum:ListTagsForResource\",\n\t\t\t\t\"s3-outposts:GetAccessPoint\",\n\t\t\t\t\"s3-outposts:GetAccessPointPolicy\",\n\t\t\t\t\"s3-outposts:GetBucket\",\n\t\t\t\t\"s3-outposts:GetBucketPolicy\",\n\t\t\t\t\"s3-outposts:GetBucketTagging\",\n\t\t\t\t\"s3-outposts:GetLifecycleConfiguration\",\n\t\t\t\t\"s3-outposts:ListAccessPoints\",\n\t\t\t\t\"s3-outposts:ListEndpoints\",\n\t\t\t\t\"s3-outposts:ListRegionalBuckets\",\n\t\t\t\t\"s3:GetAccelerateConfiguration\",\n\t\t\t\t\"s3:GetAccessGrant\",\n\t\t\t\t\"s3:GetAccessGrantsInstance\",\n\t\t\t\t\"s3:GetAccessGrantsLocation\",\n\t\t\t\t\"s3:GetAccessPoint\",\n\t\t\t\t\"s3:GetAccessPointForObjectLambda\",\n\t\t\t\t\"s3:GetAccessPointPolicy\",\n\t\t\t\t\"s3:GetAccessPointPolicyForObjectLambda\",\n\t\t\t\t\"s3:GetAccessPointPolicyStatus\",\n\t\t\t\t\"s3:GetAccessPointPolicyStatusForObjectLambda\",\n\t\t\t\t\"s3:GetAccountPublicAccessBlock\",\n\t\t\t\t\"s3:GetBucketAcl\",\n\t\t\t\t\"s3:GetBucketCORS\",\n\t\t\t\t\"s3:GetBucketLocation\",\n\t\t\t\t\"s3:GetBucketLogging\",\n\t\t\t\t\"s3:GetBucketNotification\",\n\t\t\t\t\"s3:GetBucketObjectLockConfiguration\",\n\t\t\t\t\"s3:GetBucketPolicy\",\n\t\t\t\t\"s3:GetBucketPolicyStatus\",\n\t\t\t\t\"s3:GetBucketPublicAccessBlock\",\n\t\t\t\t\"s3:GetBucketRequestPayment\",\n\t\t\t\t\"s3:GetBucketTagging\",\n\t\t\t\t\"s3:GetBucketVersioning\",\n\t\t\t\t\"s3:GetBucketWebsite\",\n\t\t\t\t\"s3:GetEncryptionConfiguration\",\n\t\t\t\t\"s3:GetLifecycleConfiguration\",\n\t\t\t\t\"s3:GetMultiRegionAccessPoint\",\n\t\t\t\t\"s3:GetMultiRegionAccessPointPolicy\",\n\t\t\t\t\"s3:GetMultiRegionAccessPointPolicyStatus\",\n\t\t\t\t\"s3:GetReplicationConfiguration\",\n\t\t\t\t\"s3:GetStorageLensConfiguration\",\n\t\t\t\t\"s3:GetStorageLensConfigurationTagging\",\n\t\t\t\t\"s3:GetStorageLensGroup\",\n\t\t\t\t\"s3:ListAccessGrants\",\n\t\t\t\t\"s3:ListAccessGrantsInstances\",\n\t\t\t\t\"s3:ListAccessGrantsLocations\",\n\t\t\t\t\"s3:ListAccessPoints\",\n\t\t\t\t\"s3:ListAccessPointsForObjectLambda\",\n\t\t\t\t\"s3:ListAllMyBuckets\",\n\t\t\t\t\"s3:ListBucket\",\n\t\t\t\t\"s3:ListMultiRegionAccessPoints\",\n\t\t\t\t\"s3:ListStorageLensConfigurations\",\n\t\t\t\t\"s3:ListStorageLensGroups\",\n\t\t\t\t\"s3:ListTagsForResource\",\n\t\t\t\t\"s3express:GetBucketPolicy\",\n\t\t\t\t\"s3express:GetEncryptionConfiguration\",\n\t\t\t\t\"s3express:GetLifecycleConfiguration\",\n\t\t\t\t\"s3express:ListAllMyDirectoryBuckets\",\n\t\t\t\t\"s3tables:GetTableBucket\",\n\t\t\t\t\"s3tables:GetTableBucketEncryption\",\n\t\t\t\t\"s3tables:GetTableBucketMaintenanceConfiguration\",\n\t\t\t\t\"s3tables:ListTableBuckets\",\n\t\t\t\t\"sagemaker:DescribeAppImageConfig\",\n\t\t\t\t\"sagemaker:DescribeCluster\",\n\t\t\t\t\"sagemaker:DescribeCodeRepository\",\n\t\t\t\t\"sagemaker:DescribeDataQualityJobDefinition\",\n\t\t\t\t\"sagemaker:DescribeDeviceFleet\",\n\t\t\t\t\"sagemaker:DescribeDomain\",\n\t\t\t\t\"sagemaker:DescribeEndpoint\",\n\t\t\t\t\"sagemaker:DescribeEndpointConfig\",\n\t\t\t\t\"sagemaker:DescribeFeatureGroup\",\n\t\t\t\t\"sagemaker:DescribeImage\",\n\t\t\t\t\"sagemaker:DescribeImageVersion\",\n\t\t\t\t\"sagemaker:DescribeInferenceExperiment\",\n\t\t\t\t\"sagemaker:DescribeMlflowTrackingServer\",\n\t\t\t\t\"sagemaker:DescribeModel\",\n\t\t\t\t\"sagemaker:DescribeModelBiasJobDefinition\",\n\t\t\t\t\"sagemaker:DescribeModelExplainabilityJobDefinition\",\n\t\t\t\t\"sagemaker:DescribeModelQualityJobDefinition\",\n\t\t\t\t\"sagemaker:DescribeMonitoringSchedule\",\n\t\t\t\t\"sagemaker:DescribeNotebookInstance\",\n\t\t\t\t\"sagemaker:DescribeNotebookInstanceLifecycleConfig\",\n\t\t\t\t\"sagemaker:DescribePipeline\",\n\t\t\t\t\"sagemaker:DescribeProject\",\n\t\t\t\t\"sagemaker:DescribeStudioLifecycleConfig\",\n\t\t\t\t\"sagemaker:DescribeWorkteam\",\n\t\t\t\t\"sagemaker:ListAppImageConfigs\",\n\t\t\t\t\"sagemaker:ListClusters\",\n\t\t\t\t\"sagemaker:ListCodeRepositories\",\n\t\t\t\t\"sagemaker:ListDataQualityJobDefinitions\",\n\t\t\t\t\"sagemaker:ListDeviceFleets\",\n\t\t\t\t\"sagemaker:ListDomains\",\n\t\t\t\t\"sagemaker:ListEndpointConfigs\",\n\t\t\t\t\"sagemaker:ListEndpoints\",\n\t\t\t\t\"sagemaker:ListFeatureGroups\",\n\t\t\t\t\"sagemaker:ListImages\",\n\t\t\t\t\"sagemaker:ListImageVersions\",\n\t\t\t\t\"sagemaker:ListInferenceExperiments\",\n\t\t\t\t\"sagemaker:ListMlflowTrackingServers\",\n\t\t\t\t\"sagemaker:ListModelBiasJobDefinitions\",\n\t\t\t\t\"sagemaker:ListModelExplainabilityJobDefinitions\",\n\t\t\t\t\"sagemaker:ListModelQualityJobDefinitions\",\n\t\t\t\t\"sagemaker:ListModels\",\n\t\t\t\t\"sagemaker:ListMonitoringSchedules\",\n\t\t\t\t\"sagemaker:ListNotebookInstanceLifecycleConfigs\",\n\t\t\t\t\"sagemaker:ListNotebookInstances\",\n\t\t\t\t\"sagemaker:ListPipelines\",\n\t\t\t\t\"sagemaker:ListProjects\",\n\t\t\t\t\"sagemaker:ListStudioLifecycleConfigs\",\n\t\t\t\t\"sagemaker:ListTags\",\n\t\t\t\t\"sagemaker:ListWorkteams\",\n\t\t\t\t\"scheduler:GetSchedule\",\n\t\t\t\t\"scheduler:GetScheduleGroup\",\n\t\t\t\t\"scheduler:ListScheduleGroups\",\n\t\t\t\t\"scheduler:ListSchedules\",\n\t\t\t\t\"scheduler:ListTagsForResource\",\n\t\t\t\t\"schemas:DescribeDiscoverer\",\n\t\t\t\t\"schemas:DescribeRegistry\",\n\t\t\t\t\"schemas:DescribeSchema\",\n\t\t\t\t\"schemas:GetResourcePolicy\",\n\t\t\t\t\"schemas:ListDiscoverers\",\n\t\t\t\t\"schemas:ListRegistries\",\n\t\t\t\t\"schemas:ListSchemas\",\n\t\t\t\t\"sdb:GetAttributes\",\n\t\t\t\t\"sdb:ListDomains\",\n\t\t\t\t\"secretsmanager:DescribeSecret\",\n\t\t\t\t\"secretsmanager:ListSecrets\",\n\t\t\t\t\"secretsmanager:ListSecretVersionIds\",\n\t\t\t\t\"securityhub:DescribeHub\",\n\t\t\t\t\"securityhub:DescribeStandardsControls\",\n\t\t\t\t\"securityhub:GetEnabledStandards\",\n\t\t\t\t\"securitylake:ListDataLakeExceptions\",\n\t\t\t\t\"securitylake:ListDataLakes\",\n\t\t\t\t\"securitylake:ListLogSources\",\n\t\t\t\t\"serviceCatalog:DescribePortfolioShares\",\n\t\t\t\t\"servicecatalog:GetAttributeGroup\",\n\t\t\t\t\"servicecatalog:ListAttributeGroups\",\n\t\t\t\t\"servicecatalog:ListServiceActions\",\n\t\t\t\t\"servicecatalog:ListServiceActionsForProvisioningArtifact\",\n\t\t\t\t\"servicediscovery:GetInstance\",\n\t\t\t\t\"servicediscovery:GetNamespace\",\n\t\t\t\t\"servicediscovery:GetService\",\n\t\t\t\t\"servicediscovery:ListInstances\",\n\t\t\t\t\"servicediscovery:ListNamespaces\",\n\t\t\t\t\"servicediscovery:ListServices\",\n\t\t\t\t\"servicediscovery:ListTagsForResource\",\n\t\t\t\t\"ses:DescribeReceiptRule\",\n\t\t\t\t\"ses:DescribeReceiptRuleSet\",\n\t\t\t\t\"ses:GetConfigurationSet\",\n\t\t\t\t\"ses:GetConfigurationSetEventDestinations\",\n\t\t\t\t\"ses:GetContactList\",\n\t\t\t\t\"ses:GetDedicatedIpPool\",\n\t\t\t\t\"ses:GetDedicatedIps\",\n\t\t\t\t\"ses:GetEmailTemplate\",\n\t\t\t\t\"ses:GetTemplate\",\n\t\t\t\t\"ses:GetTrafficPolicy\",\n\t\t\t\t\"ses:ListConfigurationSets\",\n\t\t\t\t\"ses:ListContactLists\",\n\t\t\t\t\"ses:ListDedicatedIpPools\",\n\t\t\t\t\"ses:ListEmailTemplates\",\n\t\t\t\t\"ses:ListReceiptFilters\",\n\t\t\t\t\"ses:ListReceiptRuleSets\",\n\t\t\t\t\"ses:ListTagsForResource\",\n\t\t\t\t\"ses:ListTemplates\",\n\t\t\t\t\"ses:ListTrafficPolicies\",\n\t\t\t\t\"shield:DescribeDRTAccess\",\n\t\t\t\t\"shield:DescribeProtection\",\n\t\t\t\t\"shield:DescribeSubscription\",\n\t\t\t\t\"signer:GetSigningProfile\",\n\t\t\t\t\"signer:ListProfilePermissions\",\n\t\t\t\t\"signer:ListSigningProfiles\",\n\t\t\t\t\"sns:GetDataProtectionPolicy\",\n\t\t\t\t\"sns:GetSMSSandboxAccountStatus\",\n\t\t\t\t\"sns:GetSubscriptionAttributes\",\n\t\t\t\t\"sns:GetTopicAttributes\",\n\t\t\t\t\"sns:ListSubscriptions\",\n\t\t\t\t\"sns:ListSubscriptionsByTopic\",\n\t\t\t\t\"sns:ListTagsForResource\",\n\t\t\t\t\"sns:ListTopics\",\n\t\t\t\t\"sqs:GetQueueAttributes\",\n\t\t\t\t\"sqs:ListQueues\",\n\t\t\t\t\"sqs:ListQueueTags\",\n\t\t\t\t\"ssm-contacts:GetContact\",\n\t\t\t\t\"ssm-contacts:GetContactChannel\",\n\t\t\t\t\"ssm-contacts:ListContactChannels\",\n\t\t\t\t\"ssm-contacts:ListContacts\",\n\t\t\t\t\"ssm-incidents:GetResponsePlan\",\n\t\t\t\t\"ssm-incidents:ListResponsePlans\",\n\t\t\t\t\"ssm-incidents:ListTagsForResource\",\n\t\t\t\t\"ssm-quicksetup:GetConfigurationManager\",\n\t\t\t\t\"ssm-quicksetup:ListConfigurationManagers\",\n\t\t\t\t\"ssm-sap:ListTagsForResource\",\n\t\t\t\t\"ssm:DescribeAutomationExecutions\",\n\t\t\t\t\"ssm:DescribeDocument\",\n\t\t\t\t\"ssm:DescribeDocumentPermission\",\n\t\t\t\t\"ssm:DescribeInstanceInformation\",\n\t\t\t\t\"ssm:DescribeParameters\",\n\t\t\t\t\"ssm:GetAutomationExecution\",\n\t\t\t\t\"ssm:GetDocument\",\n\t\t\t\t\"ssm:GetServiceSetting\",\n\t\t\t\t\"ssm:ListDocuments\",\n\t\t\t\t\"ssm:ListTagsForResource\",\n\t\t\t\t\"sso:DescribeInstanceAccessControlAttributeConfiguration\",\n\t\t\t\t\"sso:DescribePermissionSet\",\n\t\t\t\t\"sso:GetInlinePolicyForPermissionSet\",\n\t\t\t\t\"sso:ListManagedPoliciesInPermissionSet\",\n\t\t\t\t\"sso:ListPermissionSets\",\n\t\t\t\t\"sso:ListTagsForResource\",\n\t\t\t\t\"states:DescribeActivity\",\n\t\t\t\t\"states:DescribeStateMachine\",\n\t\t\t\t\"states:ListActivities\",\n\t\t\t\t\"states:ListStateMachines\",\n\t\t\t\t\"states:ListTagsForResource\",\n\t\t\t\t\"storagegateway:ListGateways\",\n\t\t\t\t\"storagegateway:ListTagsForResource\",\n\t\t\t\t\"storagegateway:ListVolumes\",\n\t\t\t\t\"sts:GetCallerIdentity\",\n\t\t\t\t\"support:DescribeCases\",\n\t\t\t\t\"synthetics:DescribeCanaries\",\n\t\t\t\t\"synthetics:DescribeCanariesLastRun\",\n\t\t\t\t\"synthetics:DescribeRuntimeVersions\",\n\t\t\t\t\"synthetics:GetCanary\",\n\t\t\t\t\"synthetics:GetCanaryRuns\",\n\t\t\t\t\"synthetics:GetGroup\",\n\t\t\t\t\"synthetics:ListAssociatedGroups\",\n\t\t\t\t\"synthetics:ListGroupResources\",\n\t\t\t\t\"synthetics:ListGroups\",\n\t\t\t\t\"synthetics:ListTagsForResource\",\n\t\t\t\t\"tag:GetResources\",\n\t\t\t\t\"timestream:DescribeDatabase\",\n\t\t\t\t\"timestream:DescribeEndpoints\",\n\t\t\t\t\"timestream:DescribeTable\",\n\t\t\t\t\"timestream:ListDatabases\",\n\t\t\t\t\"timestream:ListTables\",\n\t\t\t\t\"timestream:ListTagsForResource\",\n\t\t\t\t\"transfer:DescribeAgreement\",\n\t\t\t\t\"transfer:DescribeCertificate\",\n\t\t\t\t\"transfer:DescribeConnector\",\n\t\t\t\t\"transfer:DescribeProfile\",\n\t\t\t\t\"transfer:DescribeServer\",\n\t\t\t\t\"transfer:DescribeUser\",\n\t\t\t\t\"transfer:DescribeWorkflow\",\n\t\t\t\t\"transfer:ListAgreements\",\n\t\t\t\t\"transfer:ListCertificates\",\n\t\t\t\t\"transfer:ListConnectors\",\n\t\t\t\t\"transfer:ListProfiles\",\n\t\t\t\t\"transfer:ListServers\",\n\t\t\t\t\"transfer:ListTagsForResource\",\n\t\t\t\t\"transfer:ListUsers\",\n\t\t\t\t\"transfer:ListWorkflows\",\n\t\t\t\t\"voiceid:DescribeDomain\",\n\t\t\t\t\"voiceid:ListTagsForResource\",\n\t\t\t\t\"vpc-lattice:GetAccessLogSubscription\",\n\t\t\t\t\"vpc-lattice:GetService\",\n\t\t\t\t\"vpc-lattice:GetServiceNetwork\",\n\t\t\t\t\"vpc-lattice:GetTargetGroup\",\n\t\t\t\t\"vpc-lattice:ListAccessLogSubscriptions\",\n\t\t\t\t\"vpc-lattice:ListServiceNetworks\",\n\t\t\t\t\"vpc-lattice:ListServices\",\n\t\t\t\t\"vpc-lattice:ListTagsForResource\",\n\t\t\t\t\"vpc-lattice:ListTargetGroups\",\n\t\t\t\t\"vpc-lattice:ListTargets\",\n\t\t\t\t\"waf-regional:GetLoggingConfiguration\",\n\t\t\t\t\"waf-regional:GetWebACL\",\n\t\t\t\t\"waf-regional:GetWebACLForResource\",\n\t\t\t\t\"waf-regional:ListLoggingConfigurations\",\n\t\t\t\t\"waf:GetLoggingConfiguration\",\n\t\t\t\t\"waf:GetWebACL\",\n\t\t\t\t\"wafv2:GetLoggingConfiguration\",\n\t\t\t\t\"wafv2:GetRuleGroup\",\n\t\t\t\t\"wafv2:ListRuleGroups\",\n\t\t\t\t\"wafv2:ListTagsForResource\",\n\t\t\t\t\"workspaces:DescribeConnectionAliases\",\n\t\t\t\t\"workspaces:DescribeTags\",\n\t\t\t\t\"workspaces:DescribeWorkspaces\",\n\t\t\t\t\"xray:GetGroup\",\n\t\t\t\t\"xray:GetGroups\",\n\t\t\t\t\"xray:GetSamplingRules\",\n\t\t\t\t\"xray:ListResourcePolicies\",\n\t\t\t\t\"xray:ListTagsForResource\"\n\t\t\t],\n\t\t\t\"Resource\": \"*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"ConfigLogStreamStatementID\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"logs:CreateLogStream\",\n\t\t\t\t\"logs:CreateLogGroup\"\n\t\t\t],\n\t\t\t\"Resource\": \"arn:aws:logs:*:*:log-group:/aws/config/*\"\n\t\t},\n\t\t{\n\t\t\t\"Sid\": \"ConfigLogEventsStatementID\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": \"logs:PutLogEvents\",\n\t\t\t\"Resource\": \"arn:aws:logs:*:*:log-group:/aws/config/*:log-stream:config-rule-evaluation/*\"\n\t\t}\n\t]\n}","policy_id":"ANPAZKAPJZG4PP7QZ4FBG","tags":{}},"sensitive_values":{"tags":{}}},{"address":"module.iam.data.aws_iam_policy.ecs_task_execution_role","mode":"data","type":"aws_iam_policy","name":"ecs_task_execution_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy","attachment_count":0,"description":"Provides access to other AWS service resources that are required to run Amazon ECS tasks","id":"arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy","name":"AmazonECSTaskExecutionRolePolicy","path":"/service-role/","path_prefix":null,"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecr:GetAuthorizationToken\",\n        \"ecr:BatchCheckLayerAvailability\",\n        \"ecr:GetDownloadUrlForLayer\",\n        \"ecr:BatchGetImage\",\n        \"logs:CreateLogStream\",\n        \"logs:PutLogEvents\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}","policy_id":"ANPAJG4T4G4PV56DE72PY","tags":{}},"sensitive_values":{"tags":{}}},{"address":"module.iam.data.aws_iam_policy.lambda_basic_execution","mode":"data","type":"aws_iam_policy","name":"lambda_basic_execution","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","attachment_count":1,"description":"Provides write permissions to CloudWatch Logs.","id":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","name":"AWSLambdaBasicExecutionRole","path":"/service-role/","path_prefix":null,"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:CreateLogGroup\",\n        \"logs:CreateLogStream\",\n        \"logs:PutLogEvents\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}","policy_id":"ANPAJNCQGXC42545SKXIK","tags":{}},"sensitive_values":{"tags":{}}},{"address":"module.iam.data.aws_iam_policy.lambda_vpc_access_execution","mode":"data","type":"aws_iam_policy","name":"lambda_vpc_access_execution","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole","attachment_count":0,"description":"Provides minimum permissions for a Lambda function to execute while accessing a resource within a VPC - create, describe, delete network interfaces and write permissions to CloudWatch Logs. ","id":"arn:aws:iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole","name":"AWSLambdaVPCAccessExecutionRole","path":"/service-role/","path_prefix":null,"policy":"{\n\t\"Version\": \"2012-10-17\",\n\t\"Statement\": [\n\t\t{\n\t\t\t\"Sid\": \"AWSLambdaVPCAccessExecutionPermissions\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"logs:CreateLogGroup\",\n\t\t\t\t\"logs:CreateLogStream\",\n\t\t\t\t\"logs:PutLogEvents\",\n\t\t\t\t\"ec2:CreateNetworkInterface\",\n\t\t\t\t\"ec2:DescribeNetworkInterfaces\",\n\t\t\t\t\"ec2:DescribeSubnets\",\n\t\t\t\t\"ec2:DeleteNetworkInterface\",\n\t\t\t\t\"ec2:AssignPrivateIpAddresses\",\n\t\t\t\t\"ec2:UnassignPrivateIpAddresses\"\n\t\t\t],\n\t\t\t\"Resource\": \"*\"\n\t\t}\n\t]\n}","policy_id":"ANPAJVTME3YLVNL72YR2K","tags":{}},"sensitive_values":{"tags":{}}},{"address":"module.iam.data.aws_iam_policy.ssm_automation_role","mode":"data","type":"aws_iam_policy","name":"ssm_automation_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::aws:policy/service-role/AmazonSSMAutomationRole","attachment_count":0,"description":"Provides permissions for EC2 Automation service to execute activities defined within Automation documents","id":"arn:aws:iam::aws:policy/service-role/AmazonSSMAutomationRole","name":"AmazonSSMAutomationRole","path":"/service-role/","path_prefix":null,"policy":"{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"lambda:InvokeFunction\"\n            ],\n            \"Resource\": [\n                \"arn:aws:lambda:*:*:function:Automation*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ec2:CreateImage\",\n                \"ec2:CopyImage\",\n                \"ec2:DeregisterImage\",\n                \"ec2:DescribeImages\",\n                \"ec2:DeleteSnapshot\",\n                \"ec2:StartInstances\",\n                \"ec2:RunInstances\",\n                \"ec2:StopInstances\",\n                \"ec2:TerminateInstances\",\n                \"ec2:DescribeInstanceStatus\",\n                \"ec2:CreateTags\",\n                \"ec2:DeleteTags\",\n                \"ec2:DescribeTags\",\n                \"cloudformation:CreateStack\",\n                \"cloudformation:DescribeStackEvents\",\n                \"cloudformation:DescribeStacks\",\n                \"cloudformation:UpdateStack\",\n                \"cloudformation:DeleteStack\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ssm:*\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"sns:Publish\"\n            ],\n            \"Resource\": [\n                \"arn:aws:sns:*:*:Automation*\"\n            ]\n        }\n    ]\n}","policy_id":"ANPAJIBQCTBCXD2XRNB6W","tags":{}},"sensitive_values":{"tags":{}}},{"address":"module.iam.data.aws_iam_policy.xray_daemon_write_access","mode":"data","type":"aws_iam_policy","name":"xray_daemon_write_access","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess","attachment_count":0,"description":"Allow the AWS X-Ray Daemon to relay raw trace segments data to the service's API and retrieve sampling data (rules, targets, etc.) to be used by the X-Ray SDK.","id":"arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess","name":"AWSXRayDaemonWriteAccess","path":"/","path_prefix":null,"policy":"{\n\t\"Version\": \"2012-10-17\",\n\t\"Statement\": [\n\t\t{\n\t\t\t\"Sid\": \"AWSXRayDaemonWriteAccess\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Action\": [\n\t\t\t\t\"xray:PutTraceSegments\",\n\t\t\t\t\"xray:PutTelemetryRecords\",\n\t\t\t\t\"xray:GetSamplingRules\",\n\t\t\t\t\"xray:GetSamplingTargets\",\n\t\t\t\t\"xray:GetSamplingStatisticSummaries\"\n\t\t\t],\n\t\t\t\"Resource\": [\n\t\t\t\t\"*\"\n\t\t\t]\n\t\t}\n\t]\n}","policy_id":"ANPAIOE47HSUE5AVBNEDM","tags":{}},"sensitive_values":{"tags":{}}}],"address":"module.iam"},{"resources":[{"address":"module.log_storage.data.aws_iam_policy_document.log_archive_key","mode":"data","type":"aws_iam_policy_document","name":"log_archive_key","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"89204731","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"EnableIAMUserPermissions\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"kms:*\",\n      \"Resource\": \"*\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::224425919836:root\"\n      }\n    },\n    {\n      \"Sid\": \"AllowAuditAccountKmsUsage\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"kms:DescribeKey\",\n        \"kms:Decrypt\"\n      ],\n      \"Resource\": \"*\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::098819594789:root\"\n      },\n      \"Condition\": {\n        \"StringEquals\": {\n          \"aws:PrincipalTag/iam.amazonaws.com/role-purpose\": \"log-auditing\"\n        }\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"EnableIAMUserPermissions\",\"Effect\":\"Allow\",\"Action\":\"kms:*\",\"Resource\":\"*\",\"Principal\":{\"AWS\":\"arn:aws:iam::224425919836:root\"}},{\"Sid\":\"AllowAuditAccountKmsUsage\",\"Effect\":\"Allow\",\"Action\":[\"kms:DescribeKey\",\"kms:Decrypt\"],\"Resource\":\"*\",\"Principal\":{\"AWS\":\"arn:aws:iam::098819594789:root\"},\"Condition\":{\"StringEquals\":{\"aws:PrincipalTag/iam.amazonaws.com/role-purpose\":\"log-auditing\"}}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["kms:*"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["arn:aws:iam::224425919836:root"],"type":"AWS"}],"resources":["*"],"sid":"EnableIAMUserPermissions"},{"actions":["kms:Decrypt","kms:DescribeKey"],"condition":[{"test":"StringEquals","values":["log-auditing"],"variable":"aws:PrincipalTag/iam.amazonaws.com/role-purpose"}],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["arn:aws:iam::098819594789:root"],"type":"AWS"}],"resources":["*"],"sid":"AllowAuditAccountKmsUsage"}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[false]},{"actions":[false,false],"condition":[{"values":[false]}],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[false]}]}}],"address":"module.log_storage"}]}}},"configuration":{"provider_config":{"archive":{"name":"archive","full_name":"registry.terraform.io/hashicorp/archive","version_constraint":"~\u003e 2.2"},"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"~\u003e 5.0","expressions":{"default_tags":[{"tags":{"references":["local.common_tags"]}}],"region":{"references":["var.aws_region"]}}},"aws.audit_primary":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","alias":"audit_primary","version_constraint":"~\u003e 5.0","expressions":{"assume_role":[{"role_arn":{"references":["var.audit_account_id"]}}],"default_tags":[{"tags":{"references":["local.common_tags"]}}],"region":{"references":["var.aws_region"]}}},"aws.audit_replica":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","alias":"audit_replica","version_constraint":"~\u003e 5.0","expressions":{"assume_role":[{"role_arn":{"references":["var.audit_account_id"]}}],"default_tags":[{"tags":{"references":["local.common_tags"]}}],"region":{"references":["var.replica_aws_region"]}}},"aws.infra_primary":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","alias":"infra_primary","version_constraint":"~\u003e 5.0","expressions":{"assume_role":[{"role_arn":{"references":["var.infra_account_id"]}}],"default_tags":[{"tags":{"references":["local.common_tags"]}}],"region":{"references":["var.aws_region"]}}},"aws.infra_replica":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","alias":"infra_replica","version_constraint":"~\u003e 5.0","expressions":{"assume_role":[{"role_arn":{"references":["var.infra_account_id"]}}],"default_tags":[{"tags":{"references":["local.common_tags"]}}],"region":{"references":["var.replica_aws_region"]}}},"aws.infra_us_east_1":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","alias":"infra_us_east_1","version_constraint":"~\u003e 5.0","expressions":{"assume_role":[{"role_arn":{"references":["var.infra_account_id"]}}],"default_tags":[{"tags":{"references":["local.common_tags"]}}],"region":{"constant_value":"us-east-1"}}},"aws.log_archive_primary":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","alias":"log_archive_primary","version_constraint":"~\u003e 5.0","expressions":{"assume_role":[{"role_arn":{"references":["var.log_archive_account_id"]}}],"default_tags":[{"tags":{"references":["local.common_tags"]}}],"region":{"references":["var.aws_region"]}}},"aws.log_archive_replica":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","alias":"log_archive_replica","version_constraint":"~\u003e 5.0","expressions":{"assume_role":[{"role_arn":{"references":["var.log_archive_account_id"]}}],"default_tags":[{"tags":{"references":["local.common_tags"]}}],"region":{"references":["var.replica_aws_region"]}}},"random":{"name":"random","full_name":"registry.terraform.io/hashicorp/random","version_constraint":"~\u003e 3.1"}},"root_module":{"resources":[{"address":"aws_iam_policy.github_actions_cicd","mode":"managed","type":"aws_iam_policy","name":"github_actions_cicd","provider_config_key":"aws.infra_primary","expressions":{"name":{"references":["local.context.name_prefix","local.context"]},"path":{"constant_value":"/cicd/"},"policy":{"references":["aws_ssm_parameter.lambda_artifacts_bucket_name.arn","aws_ssm_parameter.lambda_artifacts_bucket_name","module.foundation.kms_key_main_arn","module.foundation","local.context.aws_region","local.context"]}},"schema_version":0},{"address":"aws_iam_policy.s3_replication","mode":"managed","type":"aws_iam_policy","name":"s3_replication","provider_config_key":"aws.infra_primary","expressions":{"name":{"references":["local.context.name_prefix","local.context"]},"policy":{"references":["local.all_source_buckets_object_arns","local.all_source_buckets_arns","local.all_replica_buckets_object_arns","module.foundation.kms_key_main_arn","module.foundation","module.log_storage.kms_key_log_archive_arn","module.log_storage","module.foundation.kms_key_replica_arn","module.foundation","module.log_storage.kms_key_log_archive_replica_arn","module.log_storage"]}},"schema_version":0,"count_expression":{"references":["local.context.enable_cross_region_replication","local.context"]}},{"address":"aws_iam_role_policy_attachment.github_actions_cicd","mode":"managed","type":"aws_iam_role_policy_attachment","name":"github_actions_cicd","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["aws_iam_policy.github_actions_cicd.arn","aws_iam_policy.github_actions_cicd"]},"role":{"constant_value":"GitHubActionsTerraformRole"}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.s3_replication","mode":"managed","type":"aws_iam_role_policy_attachment","name":"s3_replication","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["aws_iam_policy.s3_replication[0].arn","aws_iam_policy.s3_replication[0]","aws_iam_policy.s3_replication"]},"role":{"references":["module.iam.s3_replication_role_name","module.iam"]}},"schema_version":0,"count_expression":{"references":["local.context.enable_cross_region_replication","local.context"]}},{"address":"aws_iam_user.security_analyst","mode":"managed","type":"aws_iam_user","name":"security_analyst","provider_config_key":"aws.audit_primary","expressions":{"name":{"references":["local.context.name_prefix","local.context"]},"path":{"constant_value":"/users/"},"tags":{"references":["local.context.common_tags","local.context","local.context.name_prefix","local.context"]}},"schema_version":0},{"address":"aws_ssm_parameter.lambda_artifacts_bucket_name","mode":"managed","type":"aws_ssm_parameter","name":"lambda_artifacts_bucket_name","provider_config_key":"aws.infra_primary","expressions":{"description":{"constant_value":"The name of the S3 bucket used to store Lambda deployment artifacts."},"key_id":{"references":["module.foundation.kms_key_main_arn","module.foundation"]},"name":{"references":["local.context.name_prefix","local.context"]},"tags":{"references":["local.context.common_tags","local.context","local.context.name_prefix","local.context"]},"type":{"constant_value":"SecureString"},"value":{"references":["module.app_storage.lambda_artifacts_bucket_id","module.app_storage"]}},"schema_version":0},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_config_key":"aws","schema_version":0}],"module_calls":{"api":{"source":"../../modules/13-api","expressions":{"api_certificate_arn":{"constant_value":""},"api_cors_allowed_origins":{"references":["var.api_cors_allowed_origins"]},"api_gateway_log_group_arn":{"references":["module.central_logging.api_gateway_log_group_arn","module.central_logging"]},"api_handler_lambda_function_name":{"references":["module.compute.api_handler_lambda_function_name","module.compute"]},"api_handler_lambda_invoke_arn":{"references":["module.compute.api_handler_lambda_invoke_arn","module.compute"]},"context":{"references":["local.context"]},"hosted_zone_id":{"constant_value":""}},"module":{"outputs":{"api_arn":{"expression":{"references":["aws_apigatewayv2_api.main.arn","aws_apigatewayv2_api.main"]},"description":"ARN of the API Gateway"},"api_endpoint":{"expression":{"references":["aws_apigatewayv2_api.main.api_endpoint","aws_apigatewayv2_api.main"]},"description":"Default endpoint URL of the API Gateway"},"api_execution_arn":{"expression":{"references":["aws_apigatewayv2_api.main.execution_arn","aws_apigatewayv2_api.main"]},"description":"Execution ARN of the API Gateway"},"api_id":{"expression":{"references":["aws_apigatewayv2_api.main.id","aws_apigatewayv2_api.main"]},"description":"ID of the API Gateway"},"custom_domain_name":{"expression":{"references":["var.context.domain_name","var.context","aws_apigatewayv2_domain_name.main[0].domain_name","aws_apigatewayv2_domain_name.main[0]","aws_apigatewayv2_domain_name.main"]},"description":"Custom domain name for the API"},"custom_domain_target":{"expression":{"references":["var.context.domain_name","var.context","aws_apigatewayv2_domain_name.main[0].domain_name_configuration[0].target_domain_name","aws_apigatewayv2_domain_name.main[0].domain_name_configuration[0]","aws_apigatewayv2_domain_name.main[0].domain_name_configuration","aws_apigatewayv2_domain_name.main[0]","aws_apigatewayv2_domain_name.main"]},"description":"Target domain name for the custom domain"},"stage_invoke_url":{"expression":{"references":["aws_apigatewayv2_stage.main.invoke_url","aws_apigatewayv2_stage.main"]},"description":"Invoke URL of the API Gateway stage"},"stage_name":{"expression":{"references":["aws_apigatewayv2_stage.main.name","aws_apigatewayv2_stage.main"]},"description":"Name of the API Gateway stage"}},"resources":[{"address":"aws_apigatewayv2_api.main","mode":"managed","type":"aws_apigatewayv2_api","name":"main","provider_config_key":"aws.infra_primary","expressions":{"cors_configuration":[{"allow_credentials":{"constant_value":false},"allow_headers":{"constant_value":["content-type","x-amz-date","authorization","x-api-key","x-amz-security-token","x-amz-user-agent"]},"allow_methods":{"constant_value":["*"]},"allow_origins":{"references":["var.api_cors_allowed_origins"]},"expose_headers":{"constant_value":["date","keep-alive"]},"max_age":{"constant_value":86400}}],"description":{"references":["var.context.project_name","var.context"]},"name":{"references":["var.context.name_prefix","var.context"]},"protocol_type":{"constant_value":"HTTP"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_apigatewayv2_api_mapping.main","mode":"managed","type":"aws_apigatewayv2_api_mapping","name":"main","provider_config_key":"aws.infra_primary","expressions":{"api_id":{"references":["aws_apigatewayv2_api.main.id","aws_apigatewayv2_api.main"]},"domain_name":{"references":["aws_apigatewayv2_domain_name.main[0].id","aws_apigatewayv2_domain_name.main[0]","aws_apigatewayv2_domain_name.main"]},"stage":{"references":["aws_apigatewayv2_stage.main.id","aws_apigatewayv2_stage.main"]}},"schema_version":0,"count_expression":{"references":["var.context.domain_name","var.context"]}},{"address":"aws_apigatewayv2_deployment.main","mode":"managed","type":"aws_apigatewayv2_deployment","name":"main","provider_config_key":"aws.infra_primary","expressions":{"api_id":{"references":["aws_apigatewayv2_api.main.id","aws_apigatewayv2_api.main"]},"triggers":{"references":["aws_apigatewayv2_route.proxy.id","aws_apigatewayv2_route.proxy","aws_apigatewayv2_integration.lambda.id","aws_apigatewayv2_integration.lambda"]}},"schema_version":0,"count_expression":{"references":["var.context.environment","var.context"]}},{"address":"aws_apigatewayv2_domain_name.main","mode":"managed","type":"aws_apigatewayv2_domain_name","name":"main","provider_config_key":"aws.infra_primary","expressions":{"domain_name":{"references":["var.context.domain_name","var.context"]},"domain_name_configuration":[{"certificate_arn":{"references":["var.api_certificate_arn"]},"endpoint_type":{"constant_value":"REGIONAL"},"security_policy":{"constant_value":"TLS_1_2"}}],"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0,"count_expression":{"references":["var.context.domain_name","var.context"]}},{"address":"aws_apigatewayv2_integration.lambda","mode":"managed","type":"aws_apigatewayv2_integration","name":"lambda","provider_config_key":"aws.infra_primary","expressions":{"api_id":{"references":["aws_apigatewayv2_api.main.id","aws_apigatewayv2_api.main"]},"integration_method":{"constant_value":"POST"},"integration_type":{"constant_value":"AWS_PROXY"},"integration_uri":{"references":["var.api_handler_lambda_invoke_arn"]},"timeout_milliseconds":{"constant_value":30000}},"schema_version":0},{"address":"aws_apigatewayv2_route.artist_by_id","mode":"managed","type":"aws_apigatewayv2_route","name":"artist_by_id","provider_config_key":"aws.infra_primary","expressions":{"api_id":{"references":["aws_apigatewayv2_api.main.id","aws_apigatewayv2_api.main"]},"authorization_type":{"constant_value":"NONE"},"route_key":{"constant_value":"GET /artists/{id}"},"target":{"references":["aws_apigatewayv2_integration.lambda.id","aws_apigatewayv2_integration.lambda"]}},"schema_version":0},{"address":"aws_apigatewayv2_route.artists","mode":"managed","type":"aws_apigatewayv2_route","name":"artists","provider_config_key":"aws.infra_primary","expressions":{"api_id":{"references":["aws_apigatewayv2_api.main.id","aws_apigatewayv2_api.main"]},"authorization_type":{"constant_value":"NONE"},"route_key":{"constant_value":"GET /artists"},"target":{"references":["aws_apigatewayv2_integration.lambda.id","aws_apigatewayv2_integration.lambda"]}},"schema_version":0},{"address":"aws_apigatewayv2_route.health","mode":"managed","type":"aws_apigatewayv2_route","name":"health","provider_config_key":"aws.infra_primary","expressions":{"api_id":{"references":["aws_apigatewayv2_api.main.id","aws_apigatewayv2_api.main"]},"authorization_type":{"constant_value":"NONE"},"route_key":{"constant_value":"GET /health"},"target":{"references":["aws_apigatewayv2_integration.lambda.id","aws_apigatewayv2_integration.lambda"]}},"schema_version":0},{"address":"aws_apigatewayv2_route.proxy","mode":"managed","type":"aws_apigatewayv2_route","name":"proxy","provider_config_key":"aws.infra_primary","expressions":{"api_id":{"references":["aws_apigatewayv2_api.main.id","aws_apigatewayv2_api.main"]},"authorization_type":{"constant_value":"AWS_IAM"},"route_key":{"constant_value":"ANY /{proxy+}"},"target":{"references":["aws_apigatewayv2_integration.lambda.id","aws_apigatewayv2_integration.lambda"]}},"schema_version":0},{"address":"aws_apigatewayv2_route.search","mode":"managed","type":"aws_apigatewayv2_route","name":"search","provider_config_key":"aws.infra_primary","expressions":{"api_id":{"references":["aws_apigatewayv2_api.main.id","aws_apigatewayv2_api.main"]},"authorization_type":{"constant_value":"NONE"},"route_key":{"constant_value":"GET /search"},"target":{"references":["aws_apigatewayv2_integration.lambda.id","aws_apigatewayv2_integration.lambda"]}},"schema_version":0},{"address":"aws_apigatewayv2_stage.main","mode":"managed","type":"aws_apigatewayv2_stage","name":"main","provider_config_key":"aws.infra_primary","expressions":{"access_log_settings":[{"destination_arn":{"references":["var.api_gateway_log_group_arn"]},"format":{}}],"api_id":{"references":["aws_apigatewayv2_api.main.id","aws_apigatewayv2_api.main"]},"auto_deploy":{"references":["var.context.environment","var.context"]},"default_route_settings":[{"detailed_metrics_enabled":{"references":["var.context.enable_advanced_monitoring","var.context"]},"throttling_burst_limit":{"references":["var.context.environment","var.context"]},"throttling_rate_limit":{"references":["var.context.environment","var.context"]}}],"deployment_id":{"references":["var.context.environment","var.context","aws_apigatewayv2_deployment.main[0].id","aws_apigatewayv2_deployment.main[0]","aws_apigatewayv2_deployment.main"]},"name":{"references":["var.context.environment","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_lambda_permission.api_gateway","mode":"managed","type":"aws_lambda_permission","name":"api_gateway","provider_config_key":"aws.infra_primary","expressions":{"action":{"constant_value":"lambda:InvokeFunction"},"function_name":{"references":["var.api_handler_lambda_function_name"]},"principal":{"constant_value":"apigateway.amazonaws.com"},"source_arn":{"references":["aws_apigatewayv2_api.main.execution_arn","aws_apigatewayv2_api.main"]},"statement_id":{"constant_value":"AllowExecutionFromAPIGateway"}},"schema_version":0},{"address":"aws_route53_record.api","mode":"managed","type":"aws_route53_record","name":"api","provider_config_key":"aws.infra_primary","expressions":{"alias":[{"evaluate_target_health":{"constant_value":false},"name":{"references":["aws_apigatewayv2_domain_name.main[0].domain_name_configuration[0].target_domain_name","aws_apigatewayv2_domain_name.main[0].domain_name_configuration[0]","aws_apigatewayv2_domain_name.main[0].domain_name_configuration","aws_apigatewayv2_domain_name.main[0]","aws_apigatewayv2_domain_name.main"]},"zone_id":{"references":["aws_apigatewayv2_domain_name.main[0].domain_name_configuration[0].hosted_zone_id","aws_apigatewayv2_domain_name.main[0].domain_name_configuration[0]","aws_apigatewayv2_domain_name.main[0].domain_name_configuration","aws_apigatewayv2_domain_name.main[0]","aws_apigatewayv2_domain_name.main"]}}],"name":{"references":["var.context.domain_name","var.context"]},"type":{"constant_value":"A"},"zone_id":{"references":["var.hosted_zone_id"]}},"schema_version":2,"count_expression":{"references":["var.context.domain_name","var.context","var.hosted_zone_id"]}}],"variables":{"api_certificate_arn":{"default":"","description":"ARN of the ACM certificate for the API custom domain"},"api_cors_allowed_origins":{"default":["*"],"description":"List of allowed origins for CORS configuration"},"api_gateway_log_group_arn":{"description":"ARN of the API Gateway CloudWatch log group from the Security Account"},"api_handler_lambda_function_name":{"description":"Name of the API handler Lambda function"},"api_handler_lambda_invoke_arn":{"description":"Invoke ARN of the API handler Lambda function"},"context":{"description":"A single object containing all shared configuration values."},"hosted_zone_id":{"default":"","description":"Route 53 hosted zone ID for the domain"}}}},"app_monitoring":{"source":"../../modules/15-app-monitoring","expressions":{"api_gateway_id":{"references":["module.api.api_id","module.api"]},"api_gateway_log_group_name":{"references":["module.central_logging.api_gateway_log_group_name","module.central_logging"]},"context":{"references":["local.context"]},"ecs_cluster_name":{"references":["module.compute.ecs_cluster_name","module.compute"]},"kms_key_main_arn":{"references":["module.foundation.kms_key_main_arn","module.foundation"]},"lambda_function_names":{"references":["module.compute.lambda_function_names","module.compute"]},"main_table_name":{"references":["module.app_storage.main_table_name","module.app_storage"]},"opensearch_domain_name":{"references":["module.search.domain_name","module.search"]},"step_functions_state_machine_name":{"references":["module.compute.step_functions_state_machine_name","module.compute"]}},"module":{"outputs":{"alarm_arns":{"expression":{"references":["aws_cloudwatch_metric_alarm.api_gateway_4xx_errors.arn","aws_cloudwatch_metric_alarm.api_gateway_4xx_errors","aws_cloudwatch_metric_alarm.api_gateway_5xx_errors.arn","aws_cloudwatch_metric_alarm.api_gateway_5xx_errors","aws_cloudwatch_metric_alarm.api_gateway_latency.arn","aws_cloudwatch_metric_alarm.api_gateway_latency","aws_cloudwatch_metric_alarm.dynamodb_throttles.arn","aws_cloudwatch_metric_alarm.dynamodb_throttles","aws_cloudwatch_metric_alarm.dynamodb_errors.arn","aws_cloudwatch_metric_alarm.dynamodb_errors","aws_cloudwatch_metric_alarm.opensearch_cluster_status.arn","aws_cloudwatch_metric_alarm.opensearch_cluster_status","aws_cloudwatch_metric_alarm.opensearch_cpu_utilization.arn","aws_cloudwatch_metric_alarm.opensearch_cpu_utilization","aws_cloudwatch_metric_alarm.lambda_errors","aws_cloudwatch_metric_alarm.lambda_duration"]},"description":"Map of CloudWatch alarm ARNs"},"critical_alerts_topic_arn":{"expression":{"references":["aws_sns_topic.critical_alerts.arn","aws_sns_topic.critical_alerts"]},"description":"ARN of the critical alerts SNS topic"},"dashboard_name":{"expression":{"references":["aws_cloudwatch_dashboard.main.dashboard_name","aws_cloudwatch_dashboard.main"]},"description":"Name of the CloudWatch dashboard"},"dashboard_url":{"expression":{"references":["var.context.aws_region","var.context","var.context.aws_region","var.context","aws_cloudwatch_dashboard.main.dashboard_name","aws_cloudwatch_dashboard.main"]},"description":"URL of the CloudWatch dashboard"},"log_insights_query_arns":{"expression":{"references":["aws_cloudwatch_query_definition.api_errors.query_definition_id","aws_cloudwatch_query_definition.api_errors","aws_cloudwatch_query_definition.lambda_errors.query_definition_id","aws_cloudwatch_query_definition.lambda_errors","aws_cloudwatch_query_definition.performance_analysis.query_definition_id","aws_cloudwatch_query_definition.performance_analysis"]},"description":"Map of CloudWatch Log Insights query ARNs"},"warning_alerts_topic_arn":{"expression":{"references":["aws_sns_topic.warning_alerts.arn","aws_sns_topic.warning_alerts"]},"description":"ARN of the warning alerts SNS topic"}},"resources":[{"address":"aws_cloudwatch_dashboard.main","mode":"managed","type":"aws_cloudwatch_dashboard","name":"main","provider_config_key":"aws.infra_primary","expressions":{"dashboard_body":{"references":["path.module","var.context.aws_region","var.context","var.api_gateway_id","var.lambda_function_names.api_handler","var.lambda_function_names","var.main_table_name","var.opensearch_domain_name","var.ecs_cluster_name","var.step_functions_state_machine_name","var.context.infra_account_id","var.context"]},"dashboard_name":{"references":["var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_cloudwatch_metric_alarm.api_gateway_4xx_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"api_gateway_4xx_errors","provider_config_key":"aws.infra_primary","expressions":{"alarm_actions":{"references":["aws_sns_topic.warning_alerts.arn","aws_sns_topic.warning_alerts"]},"alarm_description":{"constant_value":"This metric monitors API Gateway 4XX errors"},"alarm_name":{"references":["var.context.name_prefix","var.context"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["var.api_gateway_id"]},"evaluation_periods":{"constant_value":"2"},"metric_name":{"constant_value":"4XXError"},"namespace":{"constant_value":"AWS/ApiGatewayV2"},"period":{"constant_value":"300"},"statistic":{"constant_value":"Sum"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"threshold":{"constant_value":"10"}},"schema_version":1},{"address":"aws_cloudwatch_metric_alarm.api_gateway_5xx_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"api_gateway_5xx_errors","provider_config_key":"aws.infra_primary","expressions":{"alarm_actions":{"references":["aws_sns_topic.critical_alerts.arn","aws_sns_topic.critical_alerts"]},"alarm_description":{"constant_value":"This metric monitors API Gateway 5XX errors"},"alarm_name":{"references":["var.context.name_prefix","var.context"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["var.api_gateway_id"]},"evaluation_periods":{"constant_value":"2"},"metric_name":{"constant_value":"5XXError"},"namespace":{"constant_value":"AWS/ApiGatewayV2"},"period":{"constant_value":"300"},"statistic":{"constant_value":"Sum"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"threshold":{"constant_value":"5"}},"schema_version":1},{"address":"aws_cloudwatch_metric_alarm.api_gateway_latency","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"api_gateway_latency","provider_config_key":"aws.infra_primary","expressions":{"alarm_actions":{"references":["aws_sns_topic.warning_alerts.arn","aws_sns_topic.warning_alerts"]},"alarm_description":{"constant_value":"This metric monitors API Gateway latency"},"alarm_name":{"references":["var.context.name_prefix","var.context"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["var.api_gateway_id"]},"evaluation_periods":{"constant_value":"2"},"metric_name":{"constant_value":"IntegrationLatency"},"namespace":{"constant_value":"AWS/ApiGatewayV2"},"period":{"constant_value":"300"},"statistic":{"constant_value":"Average"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"threshold":{"constant_value":"5000"}},"schema_version":1},{"address":"aws_cloudwatch_metric_alarm.dynamodb_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"dynamodb_errors","provider_config_key":"aws.infra_primary","expressions":{"alarm_actions":{"references":["aws_sns_topic.critical_alerts.arn","aws_sns_topic.critical_alerts"]},"alarm_description":{"constant_value":"This metric monitors DynamoDB system errors"},"alarm_name":{"references":["var.context.name_prefix","var.context"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["var.main_table_name"]},"evaluation_periods":{"constant_value":"2"},"metric_name":{"constant_value":"SystemErrors"},"namespace":{"constant_value":"AWS/DynamoDB"},"period":{"constant_value":"300"},"statistic":{"constant_value":"Sum"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"threshold":{"constant_value":"0"}},"schema_version":1},{"address":"aws_cloudwatch_metric_alarm.dynamodb_throttles","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"dynamodb_throttles","provider_config_key":"aws.infra_primary","expressions":{"alarm_actions":{"references":["aws_sns_topic.critical_alerts.arn","aws_sns_topic.critical_alerts"]},"alarm_description":{"constant_value":"This metric monitors DynamoDB throttled requests"},"alarm_name":{"references":["var.context.name_prefix","var.context"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["var.main_table_name"]},"evaluation_periods":{"constant_value":"2"},"metric_name":{"constant_value":"ThrottledRequests"},"namespace":{"constant_value":"AWS/DynamoDB"},"period":{"constant_value":"300"},"statistic":{"constant_value":"Sum"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"threshold":{"constant_value":"0"}},"schema_version":1},{"address":"aws_cloudwatch_metric_alarm.lambda_duration","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_duration","provider_config_key":"aws.infra_primary","expressions":{"alarm_actions":{"references":["aws_sns_topic.warning_alerts.arn","aws_sns_topic.warning_alerts"]},"alarm_description":{"references":["each.key"]},"alarm_name":{"references":["var.context.name_prefix","var.context","each.key"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["each.value"]},"evaluation_periods":{"constant_value":"2"},"metric_name":{"constant_value":"Duration"},"namespace":{"constant_value":"AWS/Lambda"},"period":{"constant_value":"300"},"statistic":{"constant_value":"Average"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context","each.key"]},"threshold":{"constant_value":"25000"}},"schema_version":1,"for_each_expression":{"references":["var.lambda_function_names"]}},{"address":"aws_cloudwatch_metric_alarm.lambda_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"lambda_errors","provider_config_key":"aws.infra_primary","expressions":{"alarm_actions":{"references":["aws_sns_topic.critical_alerts.arn","aws_sns_topic.critical_alerts"]},"alarm_description":{"references":["each.key"]},"alarm_name":{"references":["var.context.name_prefix","var.context","each.key"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["each.value"]},"evaluation_periods":{"constant_value":"2"},"metric_name":{"constant_value":"Errors"},"namespace":{"constant_value":"AWS/Lambda"},"period":{"constant_value":"300"},"statistic":{"constant_value":"Sum"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context","each.key"]},"threshold":{"constant_value":"5"}},"schema_version":1,"for_each_expression":{"references":["var.lambda_function_names"]}},{"address":"aws_cloudwatch_metric_alarm.opensearch_cluster_status","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"opensearch_cluster_status","provider_config_key":"aws.infra_primary","expressions":{"alarm_actions":{"references":["aws_sns_topic.critical_alerts.arn","aws_sns_topic.critical_alerts"]},"alarm_description":{"constant_value":"This metric monitors OpenSearch cluster status"},"alarm_name":{"references":["var.context.name_prefix","var.context"]},"comparison_operator":{"constant_value":"LessThanThreshold"},"dimensions":{"references":["var.opensearch_domain_name","var.context.infra_account_id","var.context"]},"evaluation_periods":{"constant_value":"1"},"metric_name":{"constant_value":"ClusterStatus.green"},"namespace":{"constant_value":"AWS/ES"},"period":{"constant_value":"60"},"statistic":{"constant_value":"Maximum"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"threshold":{"constant_value":"1"}},"schema_version":1},{"address":"aws_cloudwatch_metric_alarm.opensearch_cpu_utilization","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"opensearch_cpu_utilization","provider_config_key":"aws.infra_primary","expressions":{"alarm_actions":{"references":["aws_sns_topic.warning_alerts.arn","aws_sns_topic.warning_alerts"]},"alarm_description":{"constant_value":"This metric monitors OpenSearch CPU utilization"},"alarm_name":{"references":["var.context.name_prefix","var.context"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["var.opensearch_domain_name","var.context.infra_account_id","var.context"]},"evaluation_periods":{"constant_value":"2"},"metric_name":{"constant_value":"CPUUtilization"},"namespace":{"constant_value":"AWS/ES"},"period":{"constant_value":"300"},"statistic":{"constant_value":"Average"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"threshold":{"constant_value":"80"}},"schema_version":1},{"address":"aws_cloudwatch_query_definition.api_errors","mode":"managed","type":"aws_cloudwatch_query_definition","name":"api_errors","provider_config_key":"aws.infra_primary","expressions":{"log_group_names":{"references":["var.api_gateway_log_group_name"]},"name":{"references":["var.context.name_prefix","var.context"]},"query_string":{"constant_value":"fields @timestamp, @message, status, errorMessage, errorType\r\n| filter status \u003e= 400\r\n| sort @timestamp desc\r\n| limit 100\r\n"}},"schema_version":0},{"address":"aws_cloudwatch_query_definition.lambda_errors","mode":"managed","type":"aws_cloudwatch_query_definition","name":"lambda_errors","provider_config_key":"aws.infra_primary","expressions":{"log_group_names":{"references":["var.lambda_log_group_names"]},"name":{"references":["var.context.name_prefix","var.context"]},"query_string":{"constant_value":"fields @timestamp, @message, @requestId\r\n| filter @message like /ERROR/\r\n| sort @timestamp desc\r\n| limit 100\r\n"}},"schema_version":0},{"address":"aws_cloudwatch_query_definition.performance_analysis","mode":"managed","type":"aws_cloudwatch_query_definition","name":"performance_analysis","provider_config_key":"aws.infra_primary","expressions":{"log_group_names":{"references":["var.api_gateway_log_group_name"]},"name":{"references":["var.context.name_prefix","var.context"]},"query_string":{"constant_value":"fields @timestamp, responseLength, requestTime, httpMethod, routeKey\r\n| filter responseLength \u003e 1000000 or requestTime \u003e 5000\r\n| sort @timestamp desc\r\n| limit 50\r\n"}},"schema_version":0},{"address":"aws_sns_topic.critical_alerts","mode":"managed","type":"aws_sns_topic","name":"critical_alerts","provider_config_key":"aws.infra_primary","expressions":{"kms_master_key_id":{"references":["var.kms_key_main_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_sns_topic.warning_alerts","mode":"managed","type":"aws_sns_topic","name":"warning_alerts","provider_config_key":"aws.infra_primary","expressions":{"kms_master_key_id":{"references":["var.kms_key_main_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_sns_topic_subscription.critical_email","mode":"managed","type":"aws_sns_topic_subscription","name":"critical_email","provider_config_key":"aws.infra_primary","expressions":{"endpoint":{"references":["var.context.notification_email","var.context"]},"protocol":{"constant_value":"email"},"topic_arn":{"references":["aws_sns_topic.critical_alerts.arn","aws_sns_topic.critical_alerts"]}},"schema_version":0,"count_expression":{"references":["var.context.notification_email","var.context"]}},{"address":"aws_sns_topic_subscription.warning_email","mode":"managed","type":"aws_sns_topic_subscription","name":"warning_email","provider_config_key":"aws.infra_primary","expressions":{"endpoint":{"references":["var.context.notification_email","var.context"]},"protocol":{"constant_value":"email"},"topic_arn":{"references":["aws_sns_topic.warning_alerts.arn","aws_sns_topic.warning_alerts"]}},"schema_version":0,"count_expression":{"references":["var.context.notification_email","var.context"]}}],"variables":{"api_gateway_id":{"description":"ID of the API Gateway"},"api_gateway_log_group_name":{"description":"Name of the API Gateway log group"},"context":{"description":"A single object containing all shared configuration values."},"ecs_cluster_name":{"description":"Name of the ECS cluster"},"kms_key_main_arn":{"description":"ARN of the main KMS key for encryption"},"lambda_function_names":{"description":"Map of Lambda function names"},"lambda_log_group_names":{"default":[],"description":"List of Lambda function log group names"},"main_table_name":{"description":"Name of the main DynamoDB table"},"opensearch_domain_name":{"description":"Name of the OpenSearch domain"},"step_functions_state_machine_name":{"description":"Name of the Step Functions state machine"}}}},"app_security":{"source":"../../modules/07-app-security","expressions":{"app_secrets_password":{"references":["module.foundation.app_secrets_password","module.foundation"]},"context":{"references":["local.context"]},"kms_key_main_arn":{"references":["module.foundation.kms_key_main_arn","module.foundation"]},"opensearch_master_password":{"references":["module.foundation.opensearch_master_password","module.foundation"]},"waf_firehose_arn":{"references":["module.central_logging.waf_firehose_arn","module.central_logging"]}},"module":{"outputs":{"app_secrets_arn":{"expression":{"references":["aws_secretsmanager_secret.app_secrets.arn","aws_secretsmanager_secret.app_secrets"]},"description":"ARN of the application secrets"},"app_secrets_id":{"expression":{"references":["aws_secretsmanager_secret.app_secrets.id","aws_secretsmanager_secret.app_secrets"]},"description":"ID of the application secrets"},"opensearch_master_secret_arn":{"expression":{"references":["aws_secretsmanager_secret.opensearch_master.arn","aws_secretsmanager_secret.opensearch_master"]},"description":"ARN of the OpenSearch master user secret"},"opensearch_master_secret_id":{"expression":{"references":["aws_secretsmanager_secret.opensearch_master.id","aws_secretsmanager_secret.opensearch_master"]},"description":"ID of the OpenSearch master user secret"},"waf_web_acl_arn":{"expression":{"references":["aws_wafv2_web_acl.enhanced_frontend.arn","aws_wafv2_web_acl.enhanced_frontend"]},"description":"ARN of the WAF Web ACL"},"waf_web_acl_id":{"expression":{"references":["aws_wafv2_web_acl.enhanced_frontend.id","aws_wafv2_web_acl.enhanced_frontend"]},"description":"ID of the WAF Web ACL"}},"resources":[{"address":"aws_secretsmanager_secret.app_secrets","mode":"managed","type":"aws_secretsmanager_secret","name":"app_secrets","provider_config_key":"aws.infra_primary","expressions":{"description":{"references":["var.context.project_name","var.context"]},"kms_key_id":{"references":["var.kms_key_main_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"recovery_window_in_days":{"references":["var.context.environment","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_secretsmanager_secret.opensearch_master","mode":"managed","type":"aws_secretsmanager_secret","name":"opensearch_master","provider_config_key":"aws.infra_primary","expressions":{"description":{"constant_value":"OpenSearch master user credentials"},"kms_key_id":{"references":["var.kms_key_main_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"recovery_window_in_days":{"references":["var.context.environment","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_secretsmanager_secret_version.app_secrets","mode":"managed","type":"aws_secretsmanager_secret_version","name":"app_secrets","provider_config_key":"aws.infra_primary","expressions":{"secret_id":{"references":["aws_secretsmanager_secret.app_secrets.id","aws_secretsmanager_secret.app_secrets"]},"secret_string":{"references":["var.opensearch_master_password","var.app_secrets_password"]}},"schema_version":0},{"address":"aws_secretsmanager_secret_version.opensearch_master","mode":"managed","type":"aws_secretsmanager_secret_version","name":"opensearch_master","provider_config_key":"aws.infra_primary","expressions":{"secret_id":{"references":["aws_secretsmanager_secret.opensearch_master.id","aws_secretsmanager_secret.opensearch_master"]},"secret_string":{"references":["var.opensearch_master_password"]}},"schema_version":0},{"address":"aws_wafv2_web_acl.enhanced_frontend","mode":"managed","type":"aws_wafv2_web_acl","name":"enhanced_frontend","provider_config_key":"aws.infra_primary","expressions":{"default_action":[{"allow":[{}]}],"name":{"references":["var.context.name_prefix","var.context"]},"rule":[{"action":[{"block":[{}]}],"name":{"constant_value":"APIRateLimitRule"},"priority":{"constant_value":6},"statement":[{"rate_based_statement":[{"aggregate_key_type":{"constant_value":"IP"},"evaluation_window_sec":{"constant_value":300},"limit":{"constant_value":500},"scope_down_statement":[{"byte_match_statement":[{"field_to_match":[{"uri_path":[{}]}],"positional_constraint":{"constant_value":"STARTS_WITH"},"search_string":{"constant_value":"/v1/artists"},"text_transformation":[{"priority":{"constant_value":0},"type":{"constant_value":"NONE"}}]}]}]}]}],"visibility_config":[{"cloudwatch_metrics_enabled":{"constant_value":true},"metric_name":{"constant_value":"APIRateLimitRuleMetric"},"sampled_requests_enabled":{"constant_value":true}}]},{"action":[{"block":[{}]}],"name":{"constant_value":"GeneralRateLimitRule"},"priority":{"constant_value":7},"statement":[{"rate_based_statement":[{"aggregate_key_type":{"constant_value":"IP"},"limit":{"constant_value":2000}}]}],"visibility_config":[{"cloudwatch_metrics_enabled":{"constant_value":true},"metric_name":{"constant_value":"GeneralRateLimit"},"sampled_requests_enabled":{"constant_value":true}}]}],"scope":{"constant_value":"CLOUDFRONT"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"visibility_config":[{"cloudwatch_metrics_enabled":{"constant_value":true},"metric_name":{"references":["var.context.name_prefix","var.context"]},"sampled_requests_enabled":{"constant_value":true}}]},"schema_version":0},{"address":"aws_wafv2_web_acl_logging_configuration.enhanced_frontend","mode":"managed","type":"aws_wafv2_web_acl_logging_configuration","name":"enhanced_frontend","provider_config_key":"aws.infra_primary","expressions":{"log_destination_configs":{"references":["var.waf_firehose_arn"]},"redacted_fields":[{"single_header":[{"name":{"constant_value":"authorization"}}]},{"single_header":[{"name":{"constant_value":"cookie"}}]}],"resource_arn":{"references":["aws_wafv2_web_acl.enhanced_frontend.arn","aws_wafv2_web_acl.enhanced_frontend"]}},"schema_version":0}],"variables":{"app_secrets_password":{"description":"Password for application secrets","sensitive":true},"context":{"description":"A single object containing all shared configuration values."},"kms_key_main_arn":{"description":"ARN of the main KMS key for encryption"},"opensearch_master_password":{"description":"Password for OpenSearch master user","sensitive":true},"waf_firehose_arn":{"description":"ARN of the WAF Kinesis Firehose stream in the Security Account"}}}},"app_storage":{"source":"../../modules/09-app-storage","expressions":{"access_logs_bucket_domain_name":{"references":["module.log_storage.access_logs_bucket_domain_name","module.log_storage"]},"access_logs_bucket_id":{"references":["module.log_storage.access_logs_bucket_id","module.log_storage"]},"context":{"references":["local.context"]},"kms_key_main_arn":{"references":["module.foundation.kms_key_main_arn","module.foundation"]},"kms_key_replica_arn":{"references":["module.foundation.kms_key_replica_arn","module.foundation"]},"random_suffix":{"references":["module.foundation.random_suffix","module.foundation"]},"s3_replication_role_arn":{"references":["module.iam.s3_replication_role_arn","module.iam"]}},"module":{"outputs":{"dynamodb_table_arns":{"expression":{"references":["aws_dynamodb_table.main.arn","aws_dynamodb_table.main","aws_dynamodb_table.denylist.arn","aws_dynamodb_table.denylist","aws_dynamodb_table.idempotency.arn","aws_dynamodb_table.idempotency"]},"description":"ARNs of the DynamoDB tables"},"dynamodb_table_names":{"expression":{"references":["aws_dynamodb_table.main.name","aws_dynamodb_table.main","aws_dynamodb_table.denylist.name","aws_dynamodb_table.denylist","aws_dynamodb_table.idempotency.name","aws_dynamodb_table.idempotency"]},"description":"Names of the DynamoDB tables"},"frontend_backup_bucket_arn":{"expression":{"references":["aws_s3_bucket.main[\"frontend_backup\"].arn","aws_s3_bucket.main[\"frontend_backup\"]","aws_s3_bucket.main"]},"description":"ARN of the frontend backup S3 bucket"},"frontend_backup_bucket_id":{"expression":{"references":["aws_s3_bucket.main[\"frontend_backup\"].id","aws_s3_bucket.main[\"frontend_backup\"]","aws_s3_bucket.main"]},"description":"ID of the frontend backup S3 bucket"},"frontend_backup_bucket_regional_domain_name":{"expression":{"references":["aws_s3_bucket.main[\"frontend_backup\"].bucket_regional_domain_name","aws_s3_bucket.main[\"frontend_backup\"]","aws_s3_bucket.main"]},"description":"Regional domain name of the frontend backup S3 bucket"},"frontend_bucket_arn":{"expression":{"references":["aws_s3_bucket.main[\"frontend\"].arn","aws_s3_bucket.main[\"frontend\"]","aws_s3_bucket.main"]},"description":"ARN of the frontend S3 bucket"},"frontend_bucket_id":{"expression":{"references":["aws_s3_bucket.main[\"frontend\"].id","aws_s3_bucket.main[\"frontend\"]","aws_s3_bucket.main"]},"description":"ID of the frontend S3 bucket"},"frontend_bucket_regional_domain_name":{"expression":{"references":["aws_s3_bucket.main[\"frontend\"].bucket_regional_domain_name","aws_s3_bucket.main[\"frontend\"]","aws_s3_bucket.main"]},"description":"Regional domain name of the frontend S3 bucket"},"lambda_artifacts_bucket_arn":{"expression":{"references":["aws_s3_bucket.main[\"lambda_artifacts\"].arn","aws_s3_bucket.main[\"lambda_artifacts\"]","aws_s3_bucket.main"]},"description":"ARN of the S3 bucket for Lambda deployment packages"},"lambda_artifacts_bucket_id":{"expression":{"references":["aws_s3_bucket.main[\"lambda_artifacts\"].id","aws_s3_bucket.main[\"lambda_artifacts\"]","aws_s3_bucket.main"]},"description":"ID of the S3 bucket for Lambda deployment packages"},"main_table_arn":{"expression":{"references":["aws_dynamodb_table.main.arn","aws_dynamodb_table.main"]},"description":"ARN of the main DynamoDB table"},"main_table_name":{"expression":{"references":["aws_dynamodb_table.main.name","aws_dynamodb_table.main"]},"description":"Name of the main DynamoDB table"},"main_table_stream_arn":{"expression":{"references":["aws_dynamodb_table.main.stream_arn","aws_dynamodb_table.main"]},"description":"ARN of the main DynamoDB table stream"},"s3_bucket_arns":{"expression":{"references":["aws_s3_bucket.main"]},"description":"ARNs of the application S3 buckets"},"s3_bucket_ids":{"expression":{"references":["aws_s3_bucket.main"]},"description":"IDs of the application S3 buckets"},"s3_events_topic_arn":{"expression":{"references":["aws_sns_topic.s3_events.arn","aws_sns_topic.s3_events"]},"description":"ARN of the S3 events SNS topic"},"s3_replica_bucket_arns":{"expression":{"references":["aws_s3_bucket.replica"]},"description":"ARNs of the replica S3 buckets"}},"resources":[{"address":"aws_dynamodb_table.denylist","mode":"managed","type":"aws_dynamodb_table","name":"denylist","provider_config_key":"aws.infra_primary","expressions":{"attribute":[{"name":{"constant_value":"id"},"type":{"constant_value":"S"}}],"billing_mode":{"constant_value":"PAY_PER_REQUEST"},"deletion_protection_enabled":{"references":["var.enable_deletion_protection"]},"hash_key":{"constant_value":"id"},"name":{"references":["var.context.name_prefix","var.context"]},"point_in_time_recovery":[{"enabled":{"references":["var.context.environment","var.context"]}}],"server_side_encryption":[{"enabled":{"constant_value":true},"kms_key_arn":{"references":["var.kms_key_main_arn"]}}],"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":1},{"address":"aws_dynamodb_table.idempotency","mode":"managed","type":"aws_dynamodb_table","name":"idempotency","provider_config_key":"aws.infra_primary","expressions":{"attribute":[{"name":{"constant_value":"id"},"type":{"constant_value":"S"}}],"billing_mode":{"constant_value":"PAY_PER_REQUEST"},"deletion_protection_enabled":{"references":["var.enable_deletion_protection"]},"hash_key":{"constant_value":"id"},"name":{"references":["var.context.name_prefix","var.context"]},"point_in_time_recovery":[{"enabled":{"constant_value":true}}],"server_side_encryption":[{"enabled":{"constant_value":true},"kms_key_arn":{"references":["var.kms_key_main_arn"]}}],"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"ttl":[{"attribute_name":{"constant_value":"expiry"},"enabled":{"constant_value":true}}]},"schema_version":1},{"address":"aws_dynamodb_table.main","mode":"managed","type":"aws_dynamodb_table","name":"main","provider_config_key":"aws.infra_primary","expressions":{"attribute":[{"name":{"constant_value":"PK"},"type":{"constant_value":"S"}},{"name":{"constant_value":"SK"},"type":{"constant_value":"S"}},{"name":{"constant_value":"GSI1PK"},"type":{"constant_value":"S"}},{"name":{"constant_value":"GSI1SK"},"type":{"constant_value":"S"}}],"billing_mode":{"constant_value":"PAY_PER_REQUEST"},"deletion_protection_enabled":{"references":["var.enable_deletion_protection"]},"global_secondary_index":[{"hash_key":{"constant_value":"GSI1PK"},"name":{"constant_value":"GSI1"},"projection_type":{"constant_value":"ALL"},"range_key":{"constant_value":"GSI1SK"}}],"hash_key":{"constant_value":"PK"},"name":{"references":["var.context.name_prefix","var.context"]},"point_in_time_recovery":[{"enabled":{"references":["var.context.environment","var.context"]}}],"range_key":{"constant_value":"SK"},"server_side_encryption":[{"enabled":{"constant_value":true},"kms_key_arn":{"references":["var.kms_key_main_arn"]}}],"stream_enabled":{"constant_value":true},"stream_view_type":{"constant_value":"NEW_AND_OLD_IMAGES"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":1},{"address":"aws_s3_bucket.main","mode":"managed","type":"aws_s3_bucket","name":"main","provider_config_key":"aws.infra_primary","expressions":{"bucket":{"references":["var.context.name_prefix","var.context","each.key","var.random_suffix"]},"force_destroy":{"references":["each.value"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context","each.key","each.value.description","each.value"]}},"schema_version":0,"for_each_expression":{"references":["local.s3_buckets"]}},{"address":"aws_s3_bucket.replica","mode":"managed","type":"aws_s3_bucket","name":"replica","provider_config_key":"aws.infra_replica","expressions":{"bucket":{"references":["var.context.name_prefix","var.context","each.key","var.random_suffix"]},"force_destroy":{"references":["each.value"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context","each.key","each.value.description","each.value"]}},"schema_version":0,"for_each_expression":{"references":["local.s3_buckets","var.context.enable_cross_region_replication","var.context"]}},{"address":"aws_s3_bucket_lifecycle_configuration.main","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"main","provider_config_key":"aws.infra_primary","expressions":{"bucket":{"references":["aws_s3_bucket.main","each.key"]}},"schema_version":1,"for_each_expression":{"references":["local.s3_buckets"]},"depends_on":["aws_s3_bucket_versioning.main"]},{"address":"aws_s3_bucket_logging.main","mode":"managed","type":"aws_s3_bucket_logging","name":"main","provider_config_key":"aws.infra_primary","expressions":{"bucket":{"references":["aws_s3_bucket.main","each.key"]},"target_bucket":{"references":["var.access_logs_bucket_id"]},"target_prefix":{"references":["each.value.logging_prefix","each.value"]}},"schema_version":0,"for_each_expression":{"references":["local.s3_buckets"]}},{"address":"aws_s3_bucket_notification.main","mode":"managed","type":"aws_s3_bucket_notification","name":"main","provider_config_key":"aws.infra_primary","expressions":{"bucket":{"references":["each.value.id","each.value"]},"topic":[{"events":{"constant_value":["s3:ObjectCreated:*"]},"id":{"references":["each.key"]},"topic_arn":{"references":["aws_sns_topic.s3_events.arn","aws_sns_topic.s3_events"]}}]},"schema_version":0,"for_each_expression":{"references":["aws_s3_bucket.main"]},"depends_on":["aws_sns_topic_policy.s3_events"]},{"address":"aws_s3_bucket_policy.frontend_policies","mode":"managed","type":"aws_s3_bucket_policy","name":"frontend_policies","provider_config_key":"aws.infra_primary","expressions":{"bucket":{"references":["each.value"]},"policy":{"references":["data.aws_iam_policy_document.frontend_bucket_policy","each.key"]}},"schema_version":0,"for_each_expression":{"references":["aws_s3_bucket.main[\"frontend\"].id","aws_s3_bucket.main[\"frontend\"]","aws_s3_bucket.main","aws_s3_bucket.main[\"frontend_backup\"].id","aws_s3_bucket.main[\"frontend_backup\"]","aws_s3_bucket.main"]}},{"address":"aws_s3_bucket_public_access_block.main","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"main","provider_config_key":"aws.infra_primary","expressions":{"block_public_acls":{"constant_value":true},"block_public_policy":{"constant_value":true},"bucket":{"references":["each.value.id","each.value"]},"ignore_public_acls":{"constant_value":true},"restrict_public_buckets":{"constant_value":true}},"schema_version":0,"for_each_expression":{"references":["aws_s3_bucket.main"]}},{"address":"aws_s3_bucket_public_access_block.replica","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"replica","provider_config_key":"aws.infra_replica","expressions":{"block_public_acls":{"constant_value":true},"block_public_policy":{"constant_value":true},"bucket":{"references":["each.value.id","each.value"]},"ignore_public_acls":{"constant_value":true},"restrict_public_buckets":{"constant_value":true}},"schema_version":0,"for_each_expression":{"references":["aws_s3_bucket.replica"]}},{"address":"aws_s3_bucket_replication_configuration.main","mode":"managed","type":"aws_s3_bucket_replication_configuration","name":"main","provider_config_key":"aws.infra_primary","expressions":{"bucket":{"references":["aws_s3_bucket.main","each.key"]},"role":{"references":["var.s3_replication_role_arn"]},"rule":[{"destination":[{"bucket":{"references":["aws_s3_bucket.replica","each.key"]},"encryption_configuration":[{"replica_kms_key_id":{"references":["var.kms_key_replica_arn"]}}],"storage_class":{"constant_value":"STANDARD_IA"}}],"id":{"references":["each.key"]},"status":{"constant_value":"Enabled"}}]},"schema_version":0,"for_each_expression":{"references":["local.s3_buckets","var.context.enable_cross_region_replication","var.context"]},"depends_on":["aws_s3_bucket_versioning.main"]},{"address":"aws_s3_bucket_server_side_encryption_configuration.main","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"main","provider_config_key":"aws.infra_primary","expressions":{"bucket":{"references":["each.value.id","each.value"]},"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":{"references":["var.kms_key_main_arn"]},"sse_algorithm":{"constant_value":"aws:kms"}}],"bucket_key_enabled":{"constant_value":true}}]},"schema_version":0,"for_each_expression":{"references":["aws_s3_bucket.main"]}},{"address":"aws_s3_bucket_server_side_encryption_configuration.replica","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"replica","provider_config_key":"aws.infra_replica","expressions":{"bucket":{"references":["each.value.id","each.value"]},"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":{"references":["var.kms_key_replica_arn"]},"sse_algorithm":{"constant_value":"aws:kms"}}]}]},"schema_version":0,"for_each_expression":{"references":["aws_s3_bucket.replica"]}},{"address":"aws_s3_bucket_versioning.main","mode":"managed","type":"aws_s3_bucket_versioning","name":"main","provider_config_key":"aws.infra_primary","expressions":{"bucket":{"references":["each.value.id","each.value"]},"versioning_configuration":[{"status":{"constant_value":"Enabled"}}]},"schema_version":0,"for_each_expression":{"references":["aws_s3_bucket.main"]}},{"address":"aws_s3_bucket_versioning.replica","mode":"managed","type":"aws_s3_bucket_versioning","name":"replica","provider_config_key":"aws.infra_replica","expressions":{"bucket":{"references":["each.value.id","each.value"]},"versioning_configuration":[{"status":{"constant_value":"Enabled"}}]},"schema_version":0,"for_each_expression":{"references":["aws_s3_bucket.replica"]}},{"address":"aws_sns_topic.s3_events","mode":"managed","type":"aws_sns_topic","name":"s3_events","provider_config_key":"aws.infra_primary","expressions":{"kms_master_key_id":{"references":["var.kms_key_main_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_sns_topic_policy.s3_events","mode":"managed","type":"aws_sns_topic_policy","name":"s3_events","provider_config_key":"aws.infra_primary","expressions":{"arn":{"references":["aws_sns_topic.s3_events.arn","aws_sns_topic.s3_events"]},"policy":{"references":["aws_sns_topic.s3_events.arn","aws_sns_topic.s3_events","local.s3_buckets","var.context.name_prefix","var.context","var.random_suffix"]}},"schema_version":0},{"address":"data.aws_iam_policy_document.frontend_bucket_policy","mode":"data","type":"aws_iam_policy_document","name":"frontend_bucket_policy","provider_config_key":"aws.infra_primary","expressions":{"statement":[{"actions":{"constant_value":["s3:GetObject"]},"condition":[{"test":{"constant_value":"StringEquals"},"values":{"references":["var.context.infra_account_id","var.context"]},"variable":{"constant_value":"aws:SourceArn"}}],"principals":[{"identifiers":{"constant_value":["cloudfront.amazonaws.com"]},"type":{"constant_value":"Service"}}],"resources":{"references":["each.value"]},"sid":{"constant_value":"AllowCloudFrontServicePrincipal"}},{"actions":{"constant_value":["s3:*"]},"condition":[{"test":{"constant_value":"Bool"},"values":{"constant_value":["false"]},"variable":{"constant_value":"aws:SecureTransport"}}],"effect":{"constant_value":"Deny"},"principals":[{"identifiers":{"constant_value":["*"]},"type":{"constant_value":"AWS"}}],"resources":{"references":["each.value","each.value"]},"sid":{"constant_value":"DenyInsecureTransport"}}]},"schema_version":0,"for_each_expression":{"references":["aws_s3_bucket.main[\"frontend\"].arn","aws_s3_bucket.main[\"frontend\"]","aws_s3_bucket.main","aws_s3_bucket.main[\"frontend_backup\"].arn","aws_s3_bucket.main[\"frontend_backup\"]","aws_s3_bucket.main"]}}],"variables":{"access_logs_bucket_domain_name":{"description":"Domain name of the access logs S3 bucket from the Log Archive Account"},"access_logs_bucket_id":{"description":"ID of the access logs S3 bucket from the Log Archive Account"},"context":{"description":"A single object containing all shared configuration values."},"enable_deletion_protection":{"default":false,"description":"Enable deletion protection for critical resources"},"kms_key_main_arn":{"description":"ARN of the main KMS key for encryption"},"kms_key_replica_arn":{"default":null,"description":"ARN of the replica KMS key for cross-region replication"},"random_suffix":{"description":"Random suffix for unique resource naming"},"s3_replication_role_arn":{"default":null,"description":"ARN of the IAM role for S3 replication"}}}},"audit_foundation":{"source":"../../modules/03-audit-foundation","expressions":{"context":{"references":["local.context"]}},"module":{"outputs":{"kms_key_audit_arn":{"expression":{"references":["aws_kms_key.audit.arn","aws_kms_key.audit"]},"description":"ARN of the audit KMS key"},"kms_key_audit_id":{"expression":{"references":["aws_kms_key.audit.key_id","aws_kms_key.audit"]},"description":"ID of the audit KMS key"},"kms_key_logs_arn":{"expression":{"references":["aws_kms_key.logs.arn","aws_kms_key.logs"]},"description":"ARN of the KMS key for CloudWatch Logs, managed in the Audit account"},"kms_key_logs_id":{"expression":{"references":["aws_kms_key.logs.key_id","aws_kms_key.logs"]},"description":"ID of the KMS key for CloudWatch Logs, managed in the Audit account"}},"resources":[{"address":"aws_kms_alias.audit","mode":"managed","type":"aws_kms_alias","name":"audit","provider_config_key":"aws.audit_primary","expressions":{"name":{"references":["var.context.name_prefix","var.context"]},"target_key_id":{"references":["aws_kms_key.audit.key_id","aws_kms_key.audit"]}},"schema_version":0},{"address":"aws_kms_alias.logs","mode":"managed","type":"aws_kms_alias","name":"logs","provider_config_key":"aws.audit_primary","expressions":{"name":{"references":["var.context.name_prefix","var.context"]},"target_key_id":{"references":["aws_kms_key.logs.key_id","aws_kms_key.logs"]}},"schema_version":0},{"address":"aws_kms_key.audit","mode":"managed","type":"aws_kms_key","name":"audit","provider_config_key":"aws.audit_primary","expressions":{"deletion_window_in_days":{"references":["var.context.environment","var.context"]},"description":{"references":["var.context.name_prefix","var.context"]},"enable_key_rotation":{"constant_value":true},"policy":{"references":["var.context.audit_account_id","var.context","var.context.infra_account_id","var.context","var.context.audit_account_id","var.context","var.context.infra_account_id","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_kms_key.logs","mode":"managed","type":"aws_kms_key","name":"logs","provider_config_key":"aws.audit_primary","expressions":{"deletion_window_in_days":{"references":["var.context.environment","var.context"]},"description":{"constant_value":"KMS key for CloudWatch logs encryption in the Audit account"},"enable_key_rotation":{"constant_value":true},"policy":{"references":["var.context.audit_account_id","var.context","var.context.aws_region","var.context","var.context.aws_region","var.context","var.context.audit_account_id","var.context","var.context.infra_account_id","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_config_key":"aws.audit_primary","schema_version":0},{"address":"data.aws_region.current","mode":"data","type":"aws_region","name":"current","provider_config_key":"aws.audit_primary","schema_version":0}],"variables":{"context":{"description":"A single object containing all shared configuration values."}}}},"audit_governance":{"source":"../../modules/18-audit-governance","expressions":{"cloudfront_https_rule_name":{"references":["module.governance.cloudfront_https_rule_name","module.governance"]},"context":{"references":["local.context"]},"dynamodb_encryption_rule_name":{"references":["module.governance.dynamodb_encryption_rule_name","module.governance"]},"enable_config":{"constant_value":true},"lambda_public_access_rule_name":{"references":["module.governance.lambda_public_access_rule_name","module.governance"]},"s3_public_access_rule_name":{"references":["module.governance.s3_public_access_rule_name","module.governance"]}},"module":{"outputs":{"compliance_dashboard_url":{"expression":{"references":["var.context.aws_region","var.context","var.context.aws_region","var.context","aws_cloudwatch_dashboard.compliance.dashboard_name","aws_cloudwatch_dashboard.compliance"]},"description":"URL of the compliance dashboard"},"config_aggregator_arn":{"expression":{"references":["var.enable_config","aws_config_configuration_aggregator.organization[0].arn","aws_config_configuration_aggregator.organization[0]","aws_config_configuration_aggregator.organization"]},"description":"ARN of the Config aggregator"},"config_aggregator_name":{"expression":{"references":["var.enable_config","aws_config_configuration_aggregator.organization[0].name","aws_config_configuration_aggregator.organization[0]","aws_config_configuration_aggregator.organization"]},"description":"Name of the Config aggregator"}},"resources":[{"address":"aws_cloudwatch_dashboard.compliance","mode":"managed","type":"aws_cloudwatch_dashboard","name":"compliance","provider_config_key":"aws.audit_primary","expressions":{"dashboard_body":{"references":["path.module","var.context.aws_region","var.context","var.context.audit_account_id","var.context","var.context.name_prefix","var.context","var.enable_config","aws_config_configuration_aggregator.organization[0].name","aws_config_configuration_aggregator.organization[0]","aws_config_configuration_aggregator.organization","var.s3_public_access_rule_name","var.dynamodb_encryption_rule_name","var.lambda_public_access_rule_name","var.cloudfront_https_rule_name"]},"dashboard_name":{"references":["var.context.name_prefix","var.context"]}},"schema_version":0,"depends_on":["aws_config_configuration_aggregator.organization"]},{"address":"aws_config_configuration_aggregator.organization","mode":"managed","type":"aws_config_configuration_aggregator","name":"organization","provider_config_key":"aws.audit_primary","expressions":{"name":{"references":["var.context.name_prefix","var.context"]},"organization_aggregation_source":[{"all_regions":{"constant_value":true},"role_arn":{"references":["aws_iam_role.config_aggregator[0].arn","aws_iam_role.config_aggregator[0]","aws_iam_role.config_aggregator"]}}],"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0,"count_expression":{"references":["var.enable_config"]}},{"address":"aws_iam_role.config_aggregator","mode":"managed","type":"aws_iam_role","name":"config_aggregator","provider_config_key":"aws.audit_primary","expressions":{"assume_role_policy":{},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0,"count_expression":{"references":["var.enable_config"]}},{"address":"aws_iam_role_policy.config_aggregator","mode":"managed","type":"aws_iam_role_policy","name":"config_aggregator","provider_config_key":"aws.audit_primary","expressions":{"name":{"references":["var.context.name_prefix","var.context"]},"policy":{},"role":{"references":["aws_iam_role.config_aggregator[0].id","aws_iam_role.config_aggregator[0]","aws_iam_role.config_aggregator"]}},"schema_version":0,"count_expression":{"references":["var.enable_config"]}}],"variables":{"cloudfront_https_rule_name":{"default":"","description":"Name of the AWS Config rule for CloudFront HTTPS viewer policy."},"context":{"description":"A single object containing all shared configuration values."},"dynamodb_encryption_rule_name":{"default":"","description":"Name of the AWS Config rule for DynamoDB encryption."},"enable_config":{"default":true,"description":"Whether AWS Config is enabled"},"lambda_public_access_rule_name":{"default":"","description":"Name of the AWS Config rule for Lambda public access."},"s3_public_access_rule_name":{"default":"","description":"Name of the AWS Config rule for S3 public access."}}}},"backup":{"source":"../../modules/16-backup","expressions":{"backup_enabled":{"references":["var.backup_enabled"]},"backup_notification_topic_arn":{"references":["module.app_monitoring.critical_alerts_topic_arn","module.app_monitoring"]},"backup_retention_days":{"references":["var.backup_retention_days"]},"backup_role_arn":{"references":["module.iam.backup_role_arn","module.iam"]},"context":{"references":["local.context"]},"dynamodb_table_arns":{"references":["module.app_storage.dynamodb_table_arns","module.app_storage"]},"ecs_cluster_arn":{"references":["module.compute.ecs_cluster_arn","module.compute"]},"kms_key_log_archive_arn":{"references":["module.log_storage.kms_key_log_archive_arn","module.log_storage"]},"kms_key_log_archive_replica_arn":{"references":["module.log_storage.kms_key_log_archive_replica_arn","module.log_storage"]}},"module":{"outputs":{"backup_alarm_arns":{"expression":{"references":["var.backup_enabled","aws_cloudwatch_metric_alarm.backup_job_failed[0].arn","aws_cloudwatch_metric_alarm.backup_job_failed[0]","aws_cloudwatch_metric_alarm.backup_job_failed","aws_cloudwatch_metric_alarm.backup_job_expired[0].arn","aws_cloudwatch_metric_alarm.backup_job_expired[0]","aws_cloudwatch_metric_alarm.backup_job_expired"]},"description":"Map of backup-related CloudWatch alarm ARNs"},"backup_plan_arn":{"expression":{"references":["var.backup_enabled","aws_backup_plan.main[0].arn","aws_backup_plan.main[0]","aws_backup_plan.main"]},"description":"ARN of the backup plan"},"backup_plan_id":{"expression":{"references":["var.backup_enabled","aws_backup_plan.main[0].id","aws_backup_plan.main[0]","aws_backup_plan.main"]},"description":"ID of the backup plan"},"backup_plan_version":{"expression":{"references":["var.backup_enabled","aws_backup_plan.main[0].version","aws_backup_plan.main[0]","aws_backup_plan.main"]},"description":"Version of the backup plan"},"backup_selection_ids":{"expression":{"references":["var.backup_enabled","aws_backup_selection.dynamodb[0].id","aws_backup_selection.dynamodb[0]","aws_backup_selection.dynamodb","aws_backup_selection.ecs[0].id","aws_backup_selection.ecs[0]","aws_backup_selection.ecs"]},"description":"Map of backup selection IDs"},"backup_vault_arn":{"expression":{"references":["var.backup_enabled","aws_backup_vault.main[0].arn","aws_backup_vault.main[0]","aws_backup_vault.main"]},"description":"ARN of the backup vault"},"backup_vault_name":{"expression":{"references":["var.backup_enabled","aws_backup_vault.main[0].name","aws_backup_vault.main[0]","aws_backup_vault.main"]},"description":"Name of the backup vault"},"backup_vault_replica_arn":{"expression":{"references":["var.backup_enabled","var.context.enable_cross_region_replication","var.context","aws_backup_vault.replica[0].arn","aws_backup_vault.replica[0]","aws_backup_vault.replica"]},"description":"ARN of the replica backup vault"},"backup_vault_replica_name":{"expression":{"references":["var.backup_enabled","var.context.enable_cross_region_replication","var.context","aws_backup_vault.replica[0].name","aws_backup_vault.replica[0]","aws_backup_vault.replica"]},"description":"Name of the replica backup vault"}},"resources":[{"address":"aws_backup_plan.main","mode":"managed","type":"aws_backup_plan","name":"main","provider_config_key":"aws.log_archive_primary","expressions":{"name":{"references":["var.context.name_prefix","var.context"]},"rule":[{"completion_window":{"constant_value":300},"lifecycle":[{"cold_storage_after":{"references":["var.context.environment","var.context"]},"delete_after":{"references":["var.backup_retention_days"]}}],"recovery_point_tags":{"references":["var.context.common_tags","var.context"]},"rule_name":{"constant_value":"daily_backups"},"schedule":{"constant_value":"cron(0 5 ? * * *)"},"start_window":{"constant_value":60},"target_vault_name":{"references":["aws_backup_vault.main[0].name","aws_backup_vault.main[0]","aws_backup_vault.main"]}},{"completion_window":{"constant_value":300},"lifecycle":[{"cold_storage_after":{"references":["var.context.environment","var.context"]},"delete_after":{"references":["var.backup_retention_days"]}}],"recovery_point_tags":{"references":["var.context.common_tags","var.context"]},"rule_name":{"constant_value":"weekly_backups"},"schedule":{"constant_value":"cron(0 6 ? * SUN *)"},"start_window":{"constant_value":60},"target_vault_name":{"references":["aws_backup_vault.main[0].name","aws_backup_vault.main[0]","aws_backup_vault.main"]}}],"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":1,"count_expression":{"references":["var.backup_enabled"]}},{"address":"aws_backup_selection.dynamodb","mode":"managed","type":"aws_backup_selection","name":"dynamodb","provider_config_key":"aws.log_archive_primary","expressions":{"condition":[{"string_equals":[{"key":{"constant_value":"aws:ResourceTag/Environment"},"value":{"references":["var.context.environment","var.context"]}}]},{"string_equals":[{"key":{"constant_value":"aws:ResourceTag/Project"},"value":{"references":["var.context.project_name","var.context"]}}]}],"iam_role_arn":{"references":["var.backup_role_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"plan_id":{"references":["aws_backup_plan.main[0].id","aws_backup_plan.main[0]","aws_backup_plan.main"]},"resources":{"references":["var.dynamodb_table_arns"]}},"schema_version":0,"count_expression":{"references":["var.backup_enabled"]}},{"address":"aws_backup_selection.ecs","mode":"managed","type":"aws_backup_selection","name":"ecs","provider_config_key":"aws.log_archive_primary","expressions":{"condition":[{"string_equals":[{"key":{"constant_value":"aws:ResourceTag/Environment"},"value":{"references":["var.context.environment","var.context"]}}]}],"iam_role_arn":{"references":["var.backup_role_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"plan_id":{"references":["aws_backup_plan.main[0].id","aws_backup_plan.main[0]","aws_backup_plan.main"]},"resources":{"references":["var.ecs_cluster_arn"]}},"schema_version":0,"count_expression":{"references":["var.backup_enabled"]}},{"address":"aws_backup_vault.main","mode":"managed","type":"aws_backup_vault","name":"main","provider_config_key":"aws.log_archive_primary","expressions":{"kms_key_arn":{"references":["var.kms_key_log_archive_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0,"count_expression":{"references":["var.backup_enabled"]}},{"address":"aws_backup_vault.replica","mode":"managed","type":"aws_backup_vault","name":"replica","provider_config_key":"aws.log_archive_replica","expressions":{"kms_key_arn":{"references":["var.kms_key_log_archive_replica_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0,"count_expression":{"references":["var.backup_enabled","var.context.enable_cross_region_replication","var.context"]}},{"address":"aws_backup_vault_lock_configuration.main","mode":"managed","type":"aws_backup_vault_lock_configuration","name":"main","provider_config_key":"aws.log_archive_primary","expressions":{"backup_vault_name":{"references":["aws_backup_vault.main[0].name","aws_backup_vault.main[0]","aws_backup_vault.main"]},"changeable_for_days":{"constant_value":3},"max_retention_days":{"references":["var.backup_retention_days"]},"min_retention_days":{"constant_value":1}},"schema_version":0,"count_expression":{"references":["var.backup_enabled","var.context.environment","var.context"]}},{"address":"aws_backup_vault_notifications.main","mode":"managed","type":"aws_backup_vault_notifications","name":"main","provider_config_key":"aws.log_archive_primary","expressions":{"backup_vault_events":{"constant_value":["BACKUP_JOB_STARTED","BACKUP_JOB_COMPLETED","BACKUP_JOB_FAILED","RESTORE_JOB_STARTED","RESTORE_JOB_COMPLETED","RESTORE_JOB_FAILED"]},"backup_vault_name":{"references":["aws_backup_vault.main[0].name","aws_backup_vault.main[0]","aws_backup_vault.main"]},"sns_topic_arn":{"references":["var.backup_notification_topic_arn"]}},"schema_version":0,"count_expression":{"references":["var.backup_enabled","var.backup_notification_topic_arn"]}},{"address":"aws_cloudwatch_metric_alarm.backup_job_expired","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"backup_job_expired","provider_config_key":"aws.log_archive_primary","expressions":{"alarm_actions":{"references":["var.backup_notification_topic_arn","var.backup_notification_topic_arn"]},"alarm_description":{"constant_value":"This metric monitors expired backup jobs"},"alarm_name":{"references":["var.context.name_prefix","var.context"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["aws_backup_vault.main[0].name","aws_backup_vault.main[0]","aws_backup_vault.main"]},"evaluation_periods":{"constant_value":"1"},"metric_name":{"constant_value":"NumberOfBackupJobsExpired"},"namespace":{"constant_value":"AWS/Backup"},"period":{"constant_value":"300"},"statistic":{"constant_value":"Sum"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"threshold":{"constant_value":"0"}},"schema_version":1,"count_expression":{"references":["var.backup_enabled"]}},{"address":"aws_cloudwatch_metric_alarm.backup_job_failed","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"backup_job_failed","provider_config_key":"aws.log_archive_primary","expressions":{"alarm_actions":{"references":["var.backup_notification_topic_arn","var.backup_notification_topic_arn"]},"alarm_description":{"constant_value":"This metric monitors failed backup jobs"},"alarm_name":{"references":["var.context.name_prefix","var.context"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["aws_backup_vault.main[0].name","aws_backup_vault.main[0]","aws_backup_vault.main"]},"evaluation_periods":{"constant_value":"1"},"metric_name":{"constant_value":"NumberOfBackupJobsFailed"},"namespace":{"constant_value":"AWS/Backup"},"period":{"constant_value":"300"},"statistic":{"constant_value":"Sum"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"threshold":{"constant_value":"0"}},"schema_version":1,"count_expression":{"references":["var.backup_enabled"]}}],"variables":{"backup_enabled":{"default":false,"description":"Whether AWS Backup is enabled"},"backup_notification_topic_arn":{"default":"","description":"ARN of the SNS topic for backup notifications"},"backup_retention_days":{"default":7,"description":"Number of days to retain backups"},"backup_role_arn":{"description":"ARN of the AWS Backup service role"},"context":{"description":"A single object containing all shared configuration values."},"dynamodb_table_arns":{"default":[],"description":"List of DynamoDB table ARNs to backup"},"ecs_cluster_arn":{"description":"ARN of the ECS cluster to backup"},"kms_key_log_archive_arn":{"description":"ARN of the KMS key in the Log Archive account for encryption"},"kms_key_log_archive_replica_arn":{"default":null,"description":"ARN of the replica KMS key in the Log Archive account for cross-region backups"}}}},"central_logging":{"source":"../../modules/04-central-logging","expressions":{"context":{"references":["local.context"]},"kms_key_audit_arn":{"references":["module.audit_foundation.kms_key_audit_arn","module.audit_foundation"]},"kms_key_log_archive_arn":{"references":["module.log_storage.kms_key_log_archive_arn","module.log_storage"]},"kms_key_logs_arn":{"references":["module.audit_foundation.kms_key_logs_arn","module.audit_foundation"]},"waf_logs_bucket_arn":{"references":["module.log_storage.waf_logs_bucket_arn","module.log_storage"]}},"module":{"outputs":{"api_gateway_log_group_arn":{"expression":{"references":["aws_cloudwatch_log_group.api_gateway.arn","aws_cloudwatch_log_group.api_gateway"]},"description":"ARN of the API Gateway CloudWatch Log Group"},"api_gateway_log_group_name":{"expression":{"references":["aws_cloudwatch_log_group.api_gateway.name","aws_cloudwatch_log_group.api_gateway"]},"description":"Name of the API Gateway CloudWatch Log Group"},"incident_response_log_group_arn":{"expression":{"references":["aws_cloudwatch_log_group.incident_response.arn","aws_cloudwatch_log_group.incident_response"]},"description":"ARN of the Incident Response CloudWatch Log Group"},"incident_response_log_group_name":{"expression":{"references":["aws_cloudwatch_log_group.incident_response.name","aws_cloudwatch_log_group.incident_response"]},"description":"Name of the Incident Response CloudWatch Log Group"},"security_tools_log_group_arn":{"expression":{"references":["aws_cloudwatch_log_group.security_tools.arn","aws_cloudwatch_log_group.security_tools"]},"description":"ARN of the Security Tools CloudWatch Log Group"},"security_tools_log_group_name":{"expression":{"references":["aws_cloudwatch_log_group.security_tools.name","aws_cloudwatch_log_group.security_tools"]},"description":"Name of the Security Tools CloudWatch Log Group"},"waf_firehose_arn":{"expression":{"references":["aws_kinesis_firehose_delivery_stream.waf_logs.arn","aws_kinesis_firehose_delivery_stream.waf_logs"]},"description":"ARN of the Kinesis Data Firehose stream for WAF logs"}},"resources":[{"address":"aws_cloudwatch_log_group.api_gateway","mode":"managed","type":"aws_cloudwatch_log_group","name":"api_gateway","provider_config_key":"aws.audit_primary","expressions":{"kms_key_id":{"references":["var.kms_key_logs_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"retention_in_days":{"references":["var.context.log_retention_days","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_cloudwatch_log_group.firehose_waf_errors","mode":"managed","type":"aws_cloudwatch_log_group","name":"firehose_waf_errors","provider_config_key":"aws.audit_primary","expressions":{"kms_key_id":{"references":["var.kms_key_logs_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"retention_in_days":{"constant_value":30},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_cloudwatch_log_group.incident_response","mode":"managed","type":"aws_cloudwatch_log_group","name":"incident_response","provider_config_key":"aws.audit_primary","expressions":{"kms_key_id":{"references":["var.kms_key_logs_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"retention_in_days":{"references":["var.context.environment","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_cloudwatch_log_group.security_tools","mode":"managed","type":"aws_cloudwatch_log_group","name":"security_tools","provider_config_key":"aws.audit_primary","expressions":{"kms_key_id":{"references":["var.kms_key_logs_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"retention_in_days":{"references":["var.context.environment","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_iam_policy.firehose_waf","mode":"managed","type":"aws_iam_policy","name":"firehose_waf","provider_config_key":"aws.audit_primary","expressions":{"name":{"references":["var.context.name_prefix","var.context"]},"policy":{"references":["var.waf_logs_bucket_arn","var.waf_logs_bucket_arn","var.kms_key_log_archive_arn","aws_cloudwatch_log_group.firehose_waf_errors.arn","aws_cloudwatch_log_group.firehose_waf_errors"]}},"schema_version":0},{"address":"aws_iam_role.firehose_waf","mode":"managed","type":"aws_iam_role","name":"firehose_waf","provider_config_key":"aws.audit_primary","expressions":{"assume_role_policy":{},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.firehose_waf","mode":"managed","type":"aws_iam_role_policy_attachment","name":"firehose_waf","provider_config_key":"aws.audit_primary","expressions":{"policy_arn":{"references":["aws_iam_policy.firehose_waf.arn","aws_iam_policy.firehose_waf"]},"role":{"references":["aws_iam_role.firehose_waf.name","aws_iam_role.firehose_waf"]}},"schema_version":0},{"address":"aws_kinesis_firehose_delivery_stream.waf_logs","mode":"managed","type":"aws_kinesis_firehose_delivery_stream","name":"waf_logs","provider_config_key":"aws.audit_primary","expressions":{"destination":{"constant_value":"extended_s3"},"extended_s3_configuration":[{"bucket_arn":{"references":["var.waf_logs_bucket_arn"]},"cloudwatch_logging_options":[{"enabled":{"constant_value":true},"log_group_name":{"references":["aws_cloudwatch_log_group.firehose_waf_errors.name","aws_cloudwatch_log_group.firehose_waf_errors"]},"log_stream_name":{"constant_value":"S3Delivery"}}],"compression_format":{"constant_value":"GZIP"},"error_output_prefix":{"constant_value":"waf-logs-errors/!{firehose:error-output-type}/year=!{timestamp:yyyy}/month=!{timestamp:MM}/day=!{timestamp:dd}/hour=!{timestamp:HH}/"},"kms_key_arn":{"references":["var.kms_key_log_archive_arn"]},"prefix":{"constant_value":"waf-logs/year=!{timestamp:yyyy}/month=!{timestamp:MM}/day=!{timestamp:dd}/hour=!{timestamp:HH}/"},"role_arn":{"references":["aws_iam_role.firehose_waf.arn","aws_iam_role.firehose_waf"]}}],"name":{"references":["var.context.name_prefix","var.context"]},"server_side_encryption":[{"enabled":{"constant_value":true},"key_arn":{"references":["var.kms_key_logs_arn"]},"key_type":{"constant_value":"CUSTOMER_MANAGED_CMK"}}],"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":1}],"variables":{"context":{"description":"A single object containing all shared configuration values."},"kms_key_audit_arn":{"description":"ARN of the KMS key for encrypting logs in the Audit Account"},"kms_key_log_archive_arn":{"description":"ARN of the KMS key in the Log Archive account for encrypting WAF logs in S3."},"kms_key_logs_arn":{"description":"ARN of the KMS key for CloudWatch logs encryption (from security-foundation module)"},"waf_logs_bucket_arn":{"description":"ARN of the S3 bucket for WAF logs (from log-storage module in Audit Account)"}}}},"central_security":{"source":"../../modules/06-central-security","expressions":{"context":{"references":["local.context"]},"kms_key_logs_arn":{"references":["module.audit_foundation.kms_key_logs_arn","module.audit_foundation"]},"log_archive_bucket_arns":{"references":["module.log_storage.s3_bucket_arns","module.log_storage"]},"log_archive_kms_key_arn":{"references":["module.log_storage.kms_key_log_archive_arn","module.log_storage"]},"log_auditor_principal_arns":{"references":["aws_iam_user.security_analyst.arn","aws_iam_user.security_analyst"]}},"module":{"outputs":{"access_analyzer_arn":{"expression":{"references":["aws_accessanalyzer_analyzer.main.arn","aws_accessanalyzer_analyzer.main"]},"description":"ARN of the IAM Access Analyzer"},"access_analyzer_name":{"expression":{"references":["aws_accessanalyzer_analyzer.main.analyzer_name","aws_accessanalyzer_analyzer.main"]},"description":"Name of the IAM Access Analyzer"},"guardduty_detector_arn":{"expression":{"references":["aws_guardduty_detector.main.arn","aws_guardduty_detector.main"]},"description":"ARN of the GuardDuty detector"},"guardduty_detector_id":{"expression":{"references":["aws_guardduty_detector.main.id","aws_guardduty_detector.main"]},"description":"ID of the GuardDuty detector"},"security_hub_account_id":{"expression":{"references":["aws_securityhub_account.main.id","aws_securityhub_account.main"]},"description":"ID of the Security Hub account"}},"resources":[{"address":"aws_accessanalyzer_analyzer.main","mode":"managed","type":"aws_accessanalyzer_analyzer","name":"main","provider_config_key":"aws.audit_primary","expressions":{"analyzer_name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"type":{"constant_value":"ORGANIZATION"}},"schema_version":0},{"address":"aws_guardduty_detector.main","mode":"managed","type":"aws_guardduty_detector","name":"main","provider_config_key":"aws.audit_primary","expressions":{"enable":{"constant_value":true},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_guardduty_organization_configuration.main","mode":"managed","type":"aws_guardduty_organization_configuration","name":"main","provider_config_key":"aws.audit_primary","expressions":{"auto_enable_organization_members":{"constant_value":"ALL"},"datasources":[{"kubernetes":[{"audit_logs":[{"enable":{"constant_value":false}}]}],"malware_protection":[{"scan_ec2_instance_with_findings":[{"ebs_volumes":[{"auto_enable":{"constant_value":false}}]}]}],"s3_logs":[{"auto_enable":{"constant_value":true}}]}],"detector_id":{"references":["aws_guardduty_detector.main.id","aws_guardduty_detector.main"]}},"schema_version":0},{"address":"aws_iam_policy.log_reader","mode":"managed","type":"aws_iam_policy","name":"log_reader","provider_config_key":"aws.audit_primary","expressions":{"name":{"references":["var.context.name_prefix","var.context"]},"policy":{"references":["var.log_archive_bucket_arns","var.log_archive_kms_key_arn"]}},"schema_version":0},{"address":"aws_iam_role.log_auditor","mode":"managed","type":"aws_iam_role","name":"log_auditor","provider_config_key":"aws.audit_primary","expressions":{"assume_role_policy":{"references":["var.log_auditor_principal_arns"]},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.log_auditor_attachment","mode":"managed","type":"aws_iam_role_policy_attachment","name":"log_auditor_attachment","provider_config_key":"aws.audit_primary","expressions":{"policy_arn":{"references":["aws_iam_policy.log_reader.arn","aws_iam_policy.log_reader"]},"role":{"references":["aws_iam_role.log_auditor.name","aws_iam_role.log_auditor"]}},"schema_version":0},{"address":"aws_securityhub_account.main","mode":"managed","type":"aws_securityhub_account","name":"main","provider_config_key":"aws.audit_primary","expressions":{"auto_enable_controls":{"constant_value":true},"control_finding_generator":{"constant_value":"SECURITY_CONTROL"},"enable_default_standards":{"constant_value":false}},"schema_version":1},{"address":"aws_securityhub_organization_configuration.main","mode":"managed","type":"aws_securityhub_organization_configuration","name":"main","provider_config_key":"aws.audit_primary","expressions":{"auto_enable":{"constant_value":true}},"schema_version":0},{"address":"aws_securityhub_standards_subscription.cis","mode":"managed","type":"aws_securityhub_standards_subscription","name":"cis","provider_config_key":"aws.audit_primary","expressions":{"standards_arn":{"constant_value":"arn:aws:securityhub:us-east-1::standards/cis-aws-foundations-benchmark/v/1.2.0"}},"schema_version":0},{"address":"aws_securityhub_standards_subscription.foundational_security","mode":"managed","type":"aws_securityhub_standards_subscription","name":"foundational_security","provider_config_key":"aws.audit_primary","expressions":{"standards_arn":{"constant_value":"arn:aws:securityhub:::ruleset/aws-foundational-security-best-practices/v/1.0.0"}},"schema_version":0}],"variables":{"context":{"description":"A single object containing all shared configuration values."},"kms_key_logs_arn":{"description":"ARN of the KMS key for CloudWatch logs encryption"},"log_archive_bucket_arns":{"default":{},"description":"A map of S3 bucket ARNs from the log-storage module."},"log_archive_kms_key_arn":{"default":"","description":"The ARN of the KMS key used for encrypting logs in the Log Archive account."},"log_auditor_principal_arns":{"default":[],"description":"A list of IAM principal ARNs allowed to assume the LogAuditorRole."}}}},"compute":{"source":"../../modules/12-compute","expressions":{"app_secrets_arn":{"references":["module.app_security.app_secrets_arn","module.app_security"]},"context":{"references":["local.context"]},"denylist_table_arn":{"references":["module.app_storage.dynamodb_table_arns[\"denylist\"]","module.app_storage.dynamodb_table_arns","module.app_storage"]},"ecs_task_execution_role_arn":{"references":["module.iam.ecs_task_execution_role_arn","module.iam"]},"ecs_task_role_arn":{"references":["module.iam.ecs_task_role_arn","module.iam"]},"ecs_task_role_name":{"references":["module.iam.ecs_task_role_name","module.iam"]},"fargate_security_group_id":{"references":["module.networking.fargate_security_group_id","module.networking"]},"idempotency_table_arn":{"references":["module.app_storage.dynamodb_table_arns[\"idempotency\"]","module.app_storage.dynamodb_table_arns","module.app_storage"]},"kms_key_logs_arn":{"references":["module.audit_foundation.kms_key_logs_arn","module.audit_foundation"]},"kms_key_main_arn":{"references":["module.foundation.kms_key_main_arn","module.foundation"]},"lambda_api_role_arn":{"references":["module.iam.lambda_api_role_arn","module.iam"]},"lambda_api_role_name":{"references":["module.iam.lambda_api_role_name","module.iam"]},"lambda_artifacts_bucket_id":{"references":["module.app_storage.lambda_artifacts_bucket_id","module.app_storage"]},"lambda_discover_studios_role_arn":{"references":["module.iam.lambda_discover_studios_role_arn","module.iam"]},"lambda_discover_studios_role_name":{"references":["module.iam.lambda_discover_studios_role_name","module.iam"]},"lambda_find_artists_role_arn":{"references":["module.iam.lambda_find_artists_role_arn","module.iam"]},"lambda_find_artists_role_name":{"references":["module.iam.lambda_find_artists_role_name","module.iam"]},"lambda_internal_security_group_id":{"references":["module.networking.lambda_internal_security_group_id","module.networking"]},"lambda_internet_security_group_id":{"references":["module.networking.lambda_internet_security_group_id","module.networking"]},"lambda_memory_size":{"references":["var.lambda_memory_size"]},"lambda_queue_scraping_role_arn":{"references":["module.iam.lambda_queue_scraping_role_arn","module.iam"]},"lambda_rotate_nat_gateway_eip_role_arn":{"references":["module.iam.lambda_rotate_nat_gateway_eip_role_arn","module.iam"]},"lambda_sync_role_arn":{"references":["module.iam.lambda_sync_role_arn","module.iam"]},"lambda_sync_role_name":{"references":["module.iam.lambda_sync_role_name","module.iam"]},"main_table_arn":{"references":["module.app_storage.dynamodb_table_arns[\"main\"]","module.app_storage.dynamodb_table_arns","module.app_storage"]},"main_table_name":{"references":["module.app_storage.dynamodb_table_names[\"main\"]","module.app_storage.dynamodb_table_names","module.app_storage"]},"main_table_stream_arn":{"references":["module.app_storage.main_table_stream_arn","module.app_storage"]},"opensearch_endpoint":{"references":["module.search.domain_endpoint","module.search"]},"private_subnet_ids":{"references":["module.networking.private_subnet_ids","module.networking"]},"scraper_image_tag":{"references":["var.scraper_image_tag"]},"step_functions_role_arn":{"references":["module.iam.step_functions_role_arn","module.iam"]},"step_functions_role_name":{"references":["module.iam.step_functions_role_name","module.iam"]}},"module":{"outputs":{"api_handler_lambda_arn":{"expression":{"references":["aws_lambda_function.api_handler.arn","aws_lambda_function.api_handler"]},"description":"ARN of the API handler Lambda function"},"api_handler_lambda_function_name":{"expression":{"references":["aws_lambda_function.api_handler.function_name","aws_lambda_function.api_handler"]},"description":"Name of the API handler Lambda function"},"api_handler_lambda_invoke_arn":{"expression":{"references":["aws_lambda_function.api_handler.invoke_arn","aws_lambda_function.api_handler"]},"description":"Invoke ARN of the API handler Lambda function"},"ecs_cluster_arn":{"expression":{"references":["aws_ecs_cluster.main.arn","aws_ecs_cluster.main"]},"description":"ARN of the ECS cluster"},"ecs_cluster_id":{"expression":{"references":["aws_ecs_cluster.main.id","aws_ecs_cluster.main"]},"description":"ID of the ECS cluster"},"ecs_cluster_name":{"expression":{"references":["aws_ecs_cluster.main.name","aws_ecs_cluster.main"]},"description":"Name of the ECS cluster"},"lambda_function_arns":{"expression":{"references":["local.lambda_functions"]},"description":"Map of Lambda function ARNs"},"lambda_function_names":{"expression":{"references":["local.lambda_functions"]},"description":"Map of Lambda function names"},"lambda_log_group_names":{"expression":{"references":["local.lambda_functions"]},"description":"List of all Lambda function CloudWatch log group names."},"lambda_sync_dlq_arn":{"expression":{"references":["aws_sqs_queue.lambda_sync_dlq.arn","aws_sqs_queue.lambda_sync_dlq"]},"description":"ARN of the Lambda sync dead letter queue"},"log_group_arns":{"expression":{"references":["aws_cloudwatch_log_group.ecs_cluster.arn","aws_cloudwatch_log_group.ecs_cluster","aws_cloudwatch_log_group.scraper.arn","aws_cloudwatch_log_group.scraper","aws_cloudwatch_log_group.step_functions.arn","aws_cloudwatch_log_group.step_functions"]},"description":"Map of CloudWatch log group ARNs"},"rotate_eip_function_url":{"expression":{"references":["aws_lambda_function_url.rotate_eip.function_url","aws_lambda_function_url.rotate_eip"]},"description":"Function URL for the NAT Gateway EIP rotation Lambda"},"rotate_nat_gateway_eip_lambda_arn":{"expression":{"references":["aws_lambda_function.rotate_nat_gateway_eip.arn","aws_lambda_function.rotate_nat_gateway_eip"]},"description":"ARN of the NAT Gateway EIP rotation Lambda function"},"rotate_nat_gateway_eip_lambda_function_name":{"expression":{"references":["aws_lambda_function.rotate_nat_gateway_eip.function_name","aws_lambda_function.rotate_nat_gateway_eip"]},"description":"Name of the NAT Gateway EIP rotation Lambda function"},"scraper_task_definition_arn":{"expression":{"references":["aws_ecs_task_definition.scraper.arn","aws_ecs_task_definition.scraper"]},"description":"ARN of the scraper ECS task definition"},"scraping_dlq_arn":{"expression":{"references":["aws_sqs_queue.scraping_dlq.arn","aws_sqs_queue.scraping_dlq"]},"description":"ARN of the scraping dead letter queue"},"scraping_queue_arn":{"expression":{"references":["aws_sqs_queue.scraping_queue.arn","aws_sqs_queue.scraping_queue"]},"description":"ARN of the scraping SQS queue"},"scraping_queue_url":{"expression":{"references":["aws_sqs_queue.scraping_queue.url","aws_sqs_queue.scraping_queue"]},"description":"URL of the scraping SQS queue"},"step_functions_state_machine_arn":{"expression":{"references":["aws_sfn_state_machine.data_aggregation.arn","aws_sfn_state_machine.data_aggregation"]},"description":"ARN of the Step Functions state machine"},"step_functions_state_machine_name":{"expression":{"references":["aws_sfn_state_machine.data_aggregation.name","aws_sfn_state_machine.data_aggregation"]},"description":"Name of the Step Functions state machine"}},"resources":[{"address":"aws_cloudwatch_log_group.ecs_cluster","mode":"managed","type":"aws_cloudwatch_log_group","name":"ecs_cluster","provider_config_key":"aws.infra_primary","expressions":{"kms_key_id":{"references":["var.kms_key_logs_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"retention_in_days":{"references":["var.context.log_retention_days","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_cloudwatch_log_group.scraper","mode":"managed","type":"aws_cloudwatch_log_group","name":"scraper","provider_config_key":"aws.infra_primary","expressions":{"kms_key_id":{"references":["var.kms_key_logs_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"retention_in_days":{"references":["var.context.log_retention_days","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_cloudwatch_log_group.step_functions","mode":"managed","type":"aws_cloudwatch_log_group","name":"step_functions","provider_config_key":"aws.infra_primary","expressions":{"kms_key_id":{"references":["var.kms_key_logs_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"retention_in_days":{"references":["var.context.log_retention_days","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_ecs_cluster.main","mode":"managed","type":"aws_ecs_cluster","name":"main","provider_config_key":"aws.infra_primary","expressions":{"configuration":[{"execute_command_configuration":[{"kms_key_id":{"references":["var.kms_key_main_arn"]},"log_configuration":[{"cloud_watch_encryption_enabled":{"constant_value":true},"cloud_watch_log_group_name":{"references":["aws_cloudwatch_log_group.ecs_cluster.name","aws_cloudwatch_log_group.ecs_cluster"]}}],"logging":{"constant_value":"OVERRIDE"}}]}],"name":{"references":["var.context.name_prefix","var.context"]},"setting":[{"name":{"constant_value":"containerInsights"},"value":{"constant_value":"enabled"}}],"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_ecs_task_definition.scraper","mode":"managed","type":"aws_ecs_task_definition","name":"scraper","provider_config_key":"aws.infra_primary","expressions":{"container_definitions":{"references":["var.scraper_image_repository","var.scraper_image_tag","var.context.environment","var.context","var.context.project_name","var.context","aws_sqs_queue.scraping_queue.url","aws_sqs_queue.scraping_queue","var.app_secrets_arn","aws_cloudwatch_log_group.scraper.name","aws_cloudwatch_log_group.scraper","var.context.aws_region","var.context"]},"cpu":{"constant_value":256},"execution_role_arn":{"references":["var.ecs_task_execution_role_arn"]},"family":{"references":["var.context.name_prefix","var.context"]},"memory":{"constant_value":512},"network_mode":{"constant_value":"awsvpc"},"requires_compatibilities":{"constant_value":["FARGATE"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"task_role_arn":{"references":["var.ecs_task_role_arn"]}},"schema_version":1},{"address":"aws_iam_policy.api_handler_dynamodb","mode":"managed","type":"aws_iam_policy","name":"api_handler_dynamodb","provider_config_key":"aws.infra_primary","expressions":{"name":{"references":["var.context.name_prefix","var.context"]},"policy":{"references":["var.main_table_arn","var.main_table_arn","var.denylist_table_arn","var.idempotency_table_arn"]}},"schema_version":0},{"address":"aws_iam_policy.discover_studios_dynamodb","mode":"managed","type":"aws_iam_policy","name":"discover_studios_dynamodb","provider_config_key":"aws.infra_primary","expressions":{"name":{"references":["var.context.name_prefix","var.context"]},"policy":{"references":["var.main_table_arn","var.main_table_arn","var.denylist_table_arn"]}},"schema_version":0},{"address":"aws_iam_policy.dynamodb_sync_stream","mode":"managed","type":"aws_iam_policy","name":"dynamodb_sync_stream","provider_config_key":"aws.infra_primary","expressions":{"name":{"references":["var.context.name_prefix","var.context"]},"policy":{"references":["var.main_table_stream_arn"]}},"schema_version":0},{"address":"aws_iam_policy.ecs_task_dynamodb","mode":"managed","type":"aws_iam_policy","name":"ecs_task_dynamodb","provider_config_key":"aws.infra_primary","expressions":{"name":{"references":["var.context.name_prefix","var.context"]},"policy":{"references":["var.main_table_arn","var.denylist_table_arn","var.idempotency_table_arn"]}},"schema_version":0},{"address":"aws_iam_policy.find_artists_dynamodb","mode":"managed","type":"aws_iam_policy","name":"find_artists_dynamodb","provider_config_key":"aws.infra_primary","expressions":{"name":{"references":["var.context.name_prefix","var.context"]},"policy":{"references":["var.main_table_arn","var.denylist_table_arn"]}},"schema_version":0},{"address":"aws_iam_policy.step_functions","mode":"managed","type":"aws_iam_policy","name":"step_functions","provider_config_key":"aws.infra_primary","expressions":{"description":{"constant_value":"Policy for Step Functions state machine"},"name":{"references":["var.context.name_prefix","var.context"]},"policy":{"references":["aws_lambda_function.discover_studios.arn","aws_lambda_function.discover_studios","aws_lambda_function.find_artists.arn","aws_lambda_function.find_artists","aws_lambda_function.queue_scraping.arn","aws_lambda_function.queue_scraping","aws_ecs_task_definition.scraper.arn","aws_ecs_task_definition.scraper","var.context.aws_region","var.context","var.context.infra_account_id","var.context","aws_ecs_cluster.main.name","aws_ecs_cluster.main","var.ecs_task_execution_role_arn","var.ecs_task_role_arn"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.api_handler_dynamodb","mode":"managed","type":"aws_iam_role_policy_attachment","name":"api_handler_dynamodb","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["aws_iam_policy.api_handler_dynamodb.arn","aws_iam_policy.api_handler_dynamodb"]},"role":{"references":["var.lambda_api_role_name"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.discover_studios_dynamodb","mode":"managed","type":"aws_iam_role_policy_attachment","name":"discover_studios_dynamodb","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["aws_iam_policy.discover_studios_dynamodb.arn","aws_iam_policy.discover_studios_dynamodb"]},"role":{"references":["var.lambda_discover_studios_role_name"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.dynamodb_sync_stream","mode":"managed","type":"aws_iam_role_policy_attachment","name":"dynamodb_sync_stream","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["aws_iam_policy.dynamodb_sync_stream.arn","aws_iam_policy.dynamodb_sync_stream"]},"role":{"references":["var.lambda_sync_role_name"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.ecs_task_dynamodb","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ecs_task_dynamodb","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["aws_iam_policy.ecs_task_dynamodb.arn","aws_iam_policy.ecs_task_dynamodb"]},"role":{"references":["var.ecs_task_role_name"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.find_artists_dynamodb","mode":"managed","type":"aws_iam_role_policy_attachment","name":"find_artists_dynamodb","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["aws_iam_policy.find_artists_dynamodb.arn","aws_iam_policy.find_artists_dynamodb"]},"role":{"references":["var.lambda_find_artists_role_name"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.step_functions_custom","mode":"managed","type":"aws_iam_role_policy_attachment","name":"step_functions_custom","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["aws_iam_policy.step_functions.arn","aws_iam_policy.step_functions"]},"role":{"references":["var.step_functions_role_name"]}},"schema_version":0},{"address":"aws_lambda_function.api_handler","mode":"managed","type":"aws_lambda_function","name":"api_handler","provider_config_key":"aws.infra_primary","expressions":{"architectures":{"constant_value":["arm64"]},"code_signing_config_arn":{"references":["var.lambda_code_signing_config_arn"]},"environment":[{"variables":{"references":["var.context.lambda_environment_vars","var.context","var.main_table_name","var.opensearch_endpoint","var.app_secrets_arn"]}}],"function_name":{"references":["var.context.name_prefix","var.context"]},"handler":{"constant_value":"index.handler"},"kms_key_arn":{"references":["var.kms_key_main_arn"]},"memory_size":{"references":["var.lambda_memory_size"]},"reserved_concurrent_executions":{"references":["var.context.environment","var.context"]},"role":{"references":["var.lambda_api_role_arn"]},"runtime":{"constant_value":"nodejs20.x"},"s3_bucket":{"references":["var.lambda_artifacts_bucket_id"]},"s3_key":{"constant_value":"lambda-artifacts/api-handler.zip"},"s3_object_version":{"references":["data.aws_s3_object.lambda_artifacts[\"api_handler\"].version_id","data.aws_s3_object.lambda_artifacts[\"api_handler\"]","data.aws_s3_object.lambda_artifacts"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"timeout":{"constant_value":30},"tracing_config":[{"mode":{"constant_value":"Active"}}],"vpc_config":[{"security_group_ids":{"references":["var.lambda_internal_security_group_id"]},"subnet_ids":{"references":["var.private_subnet_ids"]}}]},"schema_version":0},{"address":"aws_lambda_function.discover_studios","mode":"managed","type":"aws_lambda_function","name":"discover_studios","provider_config_key":"aws.infra_primary","expressions":{"architectures":{"constant_value":["arm64"]},"code_signing_config_arn":{"references":["var.lambda_code_signing_config_arn"]},"environment":[{"variables":{"references":["var.context.lambda_environment_vars","var.context"]}}],"function_name":{"references":["var.context.name_prefix","var.context"]},"handler":{"constant_value":"index.handler"},"kms_key_arn":{"references":["var.kms_key_main_arn"]},"memory_size":{"references":["var.lambda_memory_size"]},"reserved_concurrent_executions":{"constant_value":5},"role":{"references":["var.lambda_discover_studios_role_arn"]},"runtime":{"constant_value":"nodejs20.x"},"s3_bucket":{"references":["var.lambda_artifacts_bucket_id"]},"s3_key":{"constant_value":"lambda-artifacts/discover-studios.zip"},"s3_object_version":{"references":["data.aws_s3_object.lambda_artifacts[\"discover_studios\"].version_id","data.aws_s3_object.lambda_artifacts[\"discover_studios\"]","data.aws_s3_object.lambda_artifacts"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"timeout":{"constant_value":300},"tracing_config":[{"mode":{"constant_value":"Active"}}],"vpc_config":[{"security_group_ids":{"references":["var.lambda_internet_security_group_id"]},"subnet_ids":{"references":["var.private_subnet_ids"]}}]},"schema_version":0},{"address":"aws_lambda_function.dynamodb_sync","mode":"managed","type":"aws_lambda_function","name":"dynamodb_sync","provider_config_key":"aws.infra_primary","expressions":{"architectures":{"constant_value":["arm64"]},"code_signing_config_arn":{"references":["var.lambda_code_signing_config_arn"]},"dead_letter_config":[{"target_arn":{"references":["aws_sqs_queue.lambda_sync_dlq.arn","aws_sqs_queue.lambda_sync_dlq"]}}],"environment":[{"variables":{"references":["var.context.lambda_environment_vars","var.context","var.opensearch_endpoint","var.app_secrets_arn"]}}],"function_name":{"references":["var.context.name_prefix","var.context"]},"handler":{"constant_value":"index.handler"},"kms_key_arn":{"references":["var.kms_key_main_arn"]},"memory_size":{"references":["var.lambda_memory_size"]},"reserved_concurrent_executions":{"constant_value":5},"role":{"references":["var.lambda_sync_role_arn"]},"runtime":{"constant_value":"nodejs20.x"},"s3_bucket":{"references":["var.lambda_artifacts_bucket_id"]},"s3_key":{"constant_value":"lambda-artifacts/dynamodb-sync.zip"},"s3_object_version":{"references":["data.aws_s3_object.lambda_artifacts[\"dynamodb_sync\"].version_id","data.aws_s3_object.lambda_artifacts[\"dynamodb_sync\"]","data.aws_s3_object.lambda_artifacts"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"timeout":{"constant_value":300},"tracing_config":[{"mode":{"constant_value":"Active"}}],"vpc_config":[{"security_group_ids":{"references":["var.lambda_internal_security_group_id"]},"subnet_ids":{"references":["var.private_subnet_ids"]}}]},"schema_version":0},{"address":"aws_lambda_function.find_artists","mode":"managed","type":"aws_lambda_function","name":"find_artists","provider_config_key":"aws.infra_primary","expressions":{"architectures":{"constant_value":["arm64"]},"code_signing_config_arn":{"references":["var.lambda_code_signing_config_arn"]},"environment":[{"variables":{"references":["var.context.lambda_environment_vars","var.context"]}}],"function_name":{"references":["var.context.name_prefix","var.context"]},"handler":{"constant_value":"index.handler"},"kms_key_arn":{"references":["var.kms_key_main_arn"]},"memory_size":{"references":["var.lambda_memory_size"]},"reserved_concurrent_executions":{"constant_value":5},"role":{"references":["var.lambda_find_artists_role_arn"]},"runtime":{"constant_value":"nodejs20.x"},"s3_bucket":{"references":["var.lambda_artifacts_bucket_id"]},"s3_key":{"constant_value":"lambda-artifacts/find-artists.zip"},"s3_object_version":{"references":["data.aws_s3_object.lambda_artifacts[\"find_artists\"].version_id","data.aws_s3_object.lambda_artifacts[\"find_artists\"]","data.aws_s3_object.lambda_artifacts"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"timeout":{"constant_value":300},"tracing_config":[{"mode":{"constant_value":"Active"}}],"vpc_config":[{"security_group_ids":{"references":["var.lambda_internet_security_group_id"]},"subnet_ids":{"references":["var.private_subnet_ids"]}}]},"schema_version":0},{"address":"aws_lambda_function.queue_scraping","mode":"managed","type":"aws_lambda_function","name":"queue_scraping","provider_config_key":"aws.infra_primary","expressions":{"architectures":{"constant_value":["arm64"]},"code_signing_config_arn":{"references":["var.lambda_code_signing_config_arn"]},"environment":[{"variables":{"references":["var.context.lambda_environment_vars","var.context","aws_sqs_queue.scraping_queue.url","aws_sqs_queue.scraping_queue"]}}],"function_name":{"references":["var.context.name_prefix","var.context"]},"handler":{"constant_value":"index.handler"},"kms_key_arn":{"references":["var.kms_key_main_arn"]},"memory_size":{"references":["var.lambda_memory_size"]},"reserved_concurrent_executions":{"constant_value":5},"role":{"references":["var.lambda_queue_scraping_role_arn"]},"runtime":{"constant_value":"nodejs20.x"},"s3_bucket":{"references":["var.lambda_artifacts_bucket_id"]},"s3_key":{"constant_value":"lambda-artifacts/queue-scraping.zip"},"s3_object_version":{"references":["data.aws_s3_object.lambda_artifacts[\"queue_scraping\"].version_id","data.aws_s3_object.lambda_artifacts[\"queue_scraping\"]","data.aws_s3_object.lambda_artifacts"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"timeout":{"constant_value":300},"tracing_config":[{"mode":{"constant_value":"Active"}}],"vpc_config":[{"security_group_ids":{"references":["var.lambda_internal_security_group_id"]},"subnet_ids":{"references":["var.private_subnet_ids"]}}]},"schema_version":0},{"address":"aws_lambda_function.rotate_nat_gateway_eip","mode":"managed","type":"aws_lambda_function","name":"rotate_nat_gateway_eip","provider_config_key":"aws.infra_primary","expressions":{"architectures":{"constant_value":["arm64"]},"code_signing_config_arn":{"references":["var.lambda_code_signing_config_arn"]},"environment":[{"variables":{"references":["var.context.name_prefix","var.context","var.context.aws_region","var.context","var.context.infra_account_id","var.context","var.context.name_prefix","var.context"]}}],"function_name":{"references":["var.context.name_prefix","var.context"]},"handler":{"constant_value":"rotate-nat-gateway-eip.lambda_handler"},"kms_key_arn":{"references":["var.kms_key_main_arn"]},"memory_size":{"constant_value":256},"reserved_concurrent_executions":{"constant_value":2},"role":{"references":["var.lambda_rotate_nat_gateway_eip_role_arn"]},"runtime":{"constant_value":"python3.12"},"s3_bucket":{"references":["var.lambda_artifacts_bucket_id"]},"s3_key":{"constant_value":"lambda-artifacts/rotate-nat-gateway-eip.zip"},"s3_object_version":{"references":["data.aws_s3_object.lambda_artifacts[\"rotate_nat_gateway_eip\"].version_id","data.aws_s3_object.lambda_artifacts[\"rotate_nat_gateway_eip\"]","data.aws_s3_object.lambda_artifacts"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"timeout":{"constant_value":60},"tracing_config":[{"mode":{"constant_value":"Active"}}],"vpc_config":[{"security_group_ids":{"references":["var.lambda_internal_security_group_id"]},"subnet_ids":{"references":["var.private_subnet_ids"]}}]},"schema_version":0},{"address":"aws_lambda_function_url.rotate_eip","mode":"managed","type":"aws_lambda_function_url","name":"rotate_eip","provider_config_key":"aws.infra_primary","expressions":{"authorization_type":{"constant_value":"AWS_IAM"},"function_name":{"references":["aws_lambda_function.rotate_nat_gateway_eip.function_name","aws_lambda_function.rotate_nat_gateway_eip"]}},"schema_version":0},{"address":"aws_sfn_state_machine.data_aggregation","mode":"managed","type":"aws_sfn_state_machine","name":"data_aggregation","provider_config_key":"aws.infra_primary","expressions":{"definition":{"references":["path.module","aws_lambda_function.discover_studios.arn","aws_lambda_function.discover_studios","aws_lambda_function.find_artists.arn","aws_lambda_function.find_artists","aws_lambda_function.queue_scraping.arn","aws_lambda_function.queue_scraping","aws_ecs_cluster.main.arn","aws_ecs_cluster.main","aws_ecs_task_definition.scraper.arn","aws_ecs_task_definition.scraper","var.private_subnet_ids","var.fargate_security_group_id"]},"logging_configuration":[{"include_execution_data":{"constant_value":true},"level":{"constant_value":"ERROR"},"log_destination":{"references":["aws_cloudwatch_log_group.step_functions.arn","aws_cloudwatch_log_group.step_functions"]}}],"name":{"references":["var.context.name_prefix","var.context"]},"role_arn":{"references":["var.step_functions_role_arn"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"tracing_configuration":[{"enabled":{"constant_value":true}}]},"schema_version":0},{"address":"aws_sqs_queue.lambda_sync_dlq","mode":"managed","type":"aws_sqs_queue","name":"lambda_sync_dlq","provider_config_key":"aws.infra_primary","expressions":{"kms_master_key_id":{"references":["var.kms_key_main_arn"]},"message_retention_seconds":{"constant_value":1209600},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_sqs_queue.scraping_dlq","mode":"managed","type":"aws_sqs_queue","name":"scraping_dlq","provider_config_key":"aws.infra_primary","expressions":{"kms_master_key_id":{"references":["var.kms_key_main_arn"]},"message_retention_seconds":{"constant_value":1209600},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_sqs_queue.scraping_queue","mode":"managed","type":"aws_sqs_queue","name":"scraping_queue","provider_config_key":"aws.infra_primary","expressions":{"delay_seconds":{"constant_value":0},"kms_master_key_id":{"references":["var.kms_key_main_arn"]},"max_message_size":{"constant_value":262144},"message_retention_seconds":{"constant_value":1209600},"name":{"references":["var.context.name_prefix","var.context"]},"receive_wait_time_seconds":{"constant_value":0},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"visibility_timeout_seconds":{"constant_value":300}},"schema_version":0},{"address":"aws_sqs_queue_policy.scraping_queue","mode":"managed","type":"aws_sqs_queue_policy","name":"scraping_queue","provider_config_key":"aws.infra_primary","expressions":{"policy":{"references":["var.ecs_task_role_arn","aws_sqs_queue.scraping_queue.arn","aws_sqs_queue.scraping_queue","var.lambda_queue_scraping_role_arn","aws_sqs_queue.scraping_queue.arn","aws_sqs_queue.scraping_queue"]},"queue_url":{"references":["aws_sqs_queue.scraping_queue.id","aws_sqs_queue.scraping_queue"]}},"schema_version":1},{"address":"data.aws_s3_object.lambda_artifacts","mode":"data","type":"aws_s3_object","name":"lambda_artifacts","provider_config_key":"aws.infra_primary","expressions":{"bucket":{"references":["var.lambda_artifacts_bucket_id"]},"key":{"references":["each.value"]}},"schema_version":0,"for_each_expression":{"constant_value":{"api_handler":"api-handler","discover_studios":"discover-studios","dynamodb_sync":"dynamodb-sync","find_artists":"find-artists","queue_scraping":"queue-scraping","rotate_nat_gateway_eip":"rotate-nat-gateway-eip"}}}],"variables":{"app_secrets_arn":{"description":"ARN of the application secrets in Secrets Manager"},"context":{"description":"A single object containing all shared configuration values."},"denylist_table_arn":{"description":"ARN of the denylist DynamoDB table"},"ecs_task_execution_role_arn":{"description":"ARN of the ECS task execution role"},"ecs_task_role_arn":{"description":"ARN of the ECS task role"},"ecs_task_role_name":{"description":"Name of the ECS task role"},"fargate_security_group_id":{"description":"ID of the security group for Fargate tasks"},"idempotency_table_arn":{"description":"ARN of the idempotency DynamoDB table"},"kms_key_logs_arn":{"description":"ARN of the logs KMS key for CloudWatch logs encryption"},"kms_key_main_arn":{"description":"ARN of the main KMS key for encryption"},"lambda_api_role_arn":{"description":"ARN of the API Lambda role"},"lambda_api_role_name":{"description":"Name of the API Lambda role"},"lambda_artifacts_bucket_id":{"description":"The ID (name) of the S3 bucket for Lambda deployment packages."},"lambda_code_signing_config_arn":{"default":null,"description":"ARN of the Lambda code signing configuration"},"lambda_discover_studios_role_arn":{"description":"ARN of the Discover Studios Lambda role"},"lambda_discover_studios_role_name":{"description":"Name of the Discover Studios Lambda role"},"lambda_find_artists_role_arn":{"description":"ARN of the Find Artists Lambda role"},"lambda_find_artists_role_name":{"description":"Name of the Find Artists Lambda role"},"lambda_internal_security_group_id":{"description":"ID of the security group for Lambda functions requiring internal access only"},"lambda_internet_security_group_id":{"description":"ID of the security group for Lambda functions requiring internet access"},"lambda_memory_size":{"default":256,"description":"Memory size in MB for Lambda functions"},"lambda_queue_scraping_role_arn":{"description":"ARN of the Queue Scraping Lambda role"},"lambda_rotate_nat_gateway_eip_role_arn":{"description":"ARN of the NAT Gateway EIP rotation Lambda role"},"lambda_sync_role_arn":{"description":"ARN of the DynamoDB sync Lambda role"},"lambda_sync_role_name":{"description":"Name of the DynamoDB sync Lambda role"},"main_table_arn":{"description":"ARN of the main DynamoDB table"},"main_table_name":{"description":"Name of the main DynamoDB table"},"main_table_stream_arn":{"description":"ARN of the main DynamoDB table stream"},"opensearch_endpoint":{"description":"OpenSearch domain endpoint"},"private_subnet_ids":{"description":"List of private subnet IDs for Lambda and ECS"},"scraper_image_repository":{"default":"public.ecr.aws/lambda/nodejs","description":"ECR repository URL for the scraper image"},"scraper_image_tag":{"default":"20","description":"Tag for the scraper Docker image"},"step_functions_role_arn":{"description":"ARN of the Step Functions role"},"step_functions_role_name":{"description":"Name of the Step Functions role"}}}},"delivery":{"source":"../../modules/19-delivery","expressions":{"access_logs_bucket_domain_name":{"references":["module.log_storage.access_logs_bucket_domain_name","module.log_storage"]},"api_gateway_endpoint":{"references":["module.api.api_endpoint","module.api"]},"api_gateway_id":{"references":["module.api.api_id","module.api"]},"cloudfront_certificate_arn":{"references":["module.networking.cloudfront_certificate_arn","module.networking"]},"context":{"references":["local.context"]},"frontend_backup_bucket_id":{"references":["module.app_storage.frontend_backup_bucket_id","module.app_storage"]},"frontend_backup_bucket_regional_domain_name":{"references":["module.app_storage.frontend_backup_bucket_regional_domain_name","module.app_storage"]},"frontend_bucket_id":{"references":["module.app_storage.frontend_bucket_id","module.app_storage"]},"frontend_bucket_regional_domain_name":{"references":["module.app_storage.frontend_bucket_regional_domain_name","module.app_storage"]},"waf_web_acl_arn":{"references":["module.app_security.waf_web_acl_arn","module.app_security"]}},"module":{"outputs":{"cloudfront_distribution_arn":{"expression":{"references":["aws_cloudfront_distribution.frontend.arn","aws_cloudfront_distribution.frontend"]},"description":"ARN of the CloudFront distribution"},"cloudfront_distribution_id":{"expression":{"references":["aws_cloudfront_distribution.frontend.id","aws_cloudfront_distribution.frontend"]},"description":"ID of the CloudFront distribution"},"cloudfront_domain_name":{"expression":{"references":["aws_cloudfront_distribution.frontend.domain_name","aws_cloudfront_distribution.frontend"]},"description":"Domain name of the CloudFront distribution"},"cloudfront_oac_id":{"expression":{"references":["aws_cloudfront_origin_access_control.frontend.id","aws_cloudfront_origin_access_control.frontend"]},"description":"ID of the CloudFront Origin Access Control"}},"resources":[{"address":"aws_cloudfront_distribution.frontend","mode":"managed","type":"aws_cloudfront_distribution","name":"frontend","provider_config_key":"aws.infra_primary","expressions":{"aliases":{"references":["var.context.domain_name","var.context","var.context.domain_name","var.context","var.context.domain_name","var.context"]},"custom_error_response":[{"error_code":{"constant_value":404},"response_code":{"constant_value":200},"response_page_path":{"constant_value":"/index.html"}},{"error_code":{"constant_value":403},"response_code":{"constant_value":200},"response_page_path":{"constant_value":"/index.html"}}],"default_cache_behavior":[{"allowed_methods":{"constant_value":["GET","HEAD","OPTIONS"]},"cache_policy_id":{"references":["data.aws_cloudfront_cache_policy.caching_optimized.id","data.aws_cloudfront_cache_policy.caching_optimized"]},"cached_methods":{"constant_value":["GET","HEAD"]},"compress":{"constant_value":true},"origin_request_policy_id":{"references":["data.aws_cloudfront_origin_request_policy.cors_s3_origin.id","data.aws_cloudfront_origin_request_policy.cors_s3_origin"]},"response_headers_policy_id":{"references":["aws_cloudfront_response_headers_policy.security_headers.id","aws_cloudfront_response_headers_policy.security_headers"]},"target_origin_id":{"constant_value":"S3-origin-group"},"viewer_protocol_policy":{"constant_value":"redirect-to-https"}}],"default_root_object":{"constant_value":"index.html"},"enabled":{"constant_value":true},"is_ipv6_enabled":{"constant_value":true},"logging_config":[{"bucket":{"references":["var.access_logs_bucket_domain_name"]},"include_cookies":{"constant_value":false},"prefix":{"constant_value":"cloudfront-access-logs/"}}],"ordered_cache_behavior":[{"allowed_methods":{"constant_value":["DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT"]},"cache_policy_id":{"references":["data.aws_cloudfront_cache_policy.caching_disabled.id","data.aws_cloudfront_cache_policy.caching_disabled"]},"cached_methods":{"constant_value":["GET","HEAD","OPTIONS"]},"origin_request_policy_id":{"references":["data.aws_cloudfront_origin_request_policy.all_viewer.id","data.aws_cloudfront_origin_request_policy.all_viewer"]},"path_pattern":{"constant_value":"/v1/*"},"response_headers_policy_id":{"references":["aws_cloudfront_response_headers_policy.security_headers.id","aws_cloudfront_response_headers_policy.security_headers"]},"target_origin_id":{"references":["var.api_gateway_id"]},"viewer_protocol_policy":{"constant_value":"redirect-to-https"}}],"origin":[{"domain_name":{"references":["var.frontend_bucket_regional_domain_name"]},"origin_access_control_id":{"references":["aws_cloudfront_origin_access_control.frontend.id","aws_cloudfront_origin_access_control.frontend"]},"origin_id":{"references":["var.frontend_bucket_id"]}},{"domain_name":{"references":["var.frontend_backup_bucket_regional_domain_name"]},"origin_access_control_id":{"references":["aws_cloudfront_origin_access_control.frontend.id","aws_cloudfront_origin_access_control.frontend"]},"origin_id":{"references":["var.frontend_backup_bucket_id"]}},{"custom_origin_config":[{"http_port":{"constant_value":80},"https_port":{"constant_value":443},"origin_protocol_policy":{"constant_value":"https-only"},"origin_ssl_protocols":{"constant_value":["TLSv1.2"]}}],"domain_name":{"references":["var.api_gateway_endpoint"]},"origin_id":{"references":["var.api_gateway_id"]},"origin_path":{"references":["var.context.environment","var.context"]}}],"origin_group":[{"failover_criteria":[{"status_codes":{"constant_value":[403,404,500,502,503,504]}}],"member":[{"origin_id":{"references":["var.frontend_bucket_id"]}},{"origin_id":{"references":["var.frontend_backup_bucket_id"]}}],"origin_id":{"constant_value":"S3-origin-group"}}],"price_class":{"references":["var.context.environment","var.context"]},"restrictions":[{"geo_restriction":[{"locations":{"references":["var.context.allowed_countries","var.context"]},"restriction_type":{"constant_value":"whitelist"}}]}],"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"viewer_certificate":[{"acm_certificate_arn":{"references":["var.context.domain_name","var.context","var.cloudfront_certificate_arn"]},"cloudfront_default_certificate":{"references":["var.context.domain_name","var.context"]},"minimum_protocol_version":{"references":["var.context.domain_name","var.context"]},"ssl_support_method":{"references":["var.context.domain_name","var.context"]}}],"web_acl_id":{"references":["var.waf_web_acl_arn"]}},"schema_version":1},{"address":"aws_cloudfront_origin_access_control.frontend","mode":"managed","type":"aws_cloudfront_origin_access_control","name":"frontend","provider_config_key":"aws.infra_primary","expressions":{"description":{"constant_value":"OAC for frontend S3 bucket"},"name":{"references":["var.context.name_prefix","var.context"]},"origin_access_control_origin_type":{"constant_value":"s3"},"signing_behavior":{"constant_value":"always"},"signing_protocol":{"constant_value":"sigv4"}},"schema_version":0},{"address":"aws_cloudfront_response_headers_policy.security_headers","mode":"managed","type":"aws_cloudfront_response_headers_policy","name":"security_headers","provider_config_key":"aws.infra_primary","expressions":{"comment":{"constant_value":"Adds security headers like HSTS, CSP, and X-Frame-Options"},"name":{"references":["var.context.name_prefix","var.context"]},"security_headers_config":[{"content_type_options":[{"override":{"constant_value":true}}],"frame_options":[{"frame_option":{"constant_value":"DENY"},"override":{"constant_value":true}}],"strict_transport_security":[{"access_control_max_age_sec":{"constant_value":31536000},"include_subdomains":{"constant_value":true},"override":{"constant_value":true},"preload":{"constant_value":true}}],"xss_protection":[{"mode_block":{"constant_value":true},"override":{"constant_value":true},"protection":{"constant_value":true}}]}]},"schema_version":0},{"address":"data.aws_cloudfront_cache_policy.caching_disabled","mode":"data","type":"aws_cloudfront_cache_policy","name":"caching_disabled","provider_config_key":"aws.infra_primary","expressions":{"name":{"constant_value":"Managed-CachingDisabled"}},"schema_version":0},{"address":"data.aws_cloudfront_cache_policy.caching_optimized","mode":"data","type":"aws_cloudfront_cache_policy","name":"caching_optimized","provider_config_key":"aws.infra_primary","expressions":{"name":{"constant_value":"Managed-CachingOptimized"}},"schema_version":0},{"address":"data.aws_cloudfront_origin_request_policy.all_viewer","mode":"data","type":"aws_cloudfront_origin_request_policy","name":"all_viewer","provider_config_key":"aws.infra_primary","expressions":{"name":{"constant_value":"Managed-AllViewer"}},"schema_version":0},{"address":"data.aws_cloudfront_origin_request_policy.cors_s3_origin","mode":"data","type":"aws_cloudfront_origin_request_policy","name":"cors_s3_origin","provider_config_key":"aws.infra_primary","expressions":{"name":{"constant_value":"Managed-CORS-S3Origin"}},"schema_version":0}],"variables":{"access_logs_bucket_domain_name":{"description":"Domain name of the access logs S3 bucket from the Audit Account."},"api_gateway_endpoint":{"description":"Endpoint URL of the API Gateway."},"api_gateway_id":{"description":"ID of the API Gateway."},"cloudfront_certificate_arn":{"default":null,"description":"ARN of the ACM certificate for CloudFront."},"context":{"description":"A single object containing all shared configuration values."},"frontend_backup_bucket_id":{"description":"ID of the backup frontend S3 bucket."},"frontend_backup_bucket_regional_domain_name":{"description":"Regional domain name of the backup frontend S3 bucket."},"frontend_bucket_id":{"description":"ID of the primary frontend S3 bucket."},"frontend_bucket_regional_domain_name":{"description":"Regional domain name of the primary frontend S3 bucket."},"waf_web_acl_arn":{"description":"ARN of the WAF Web ACL for CloudFront."}}}},"foundation":{"source":"../../modules/01-foundation","expressions":{"context":{"references":["local.context"]}},"module":{"outputs":{"account_id":{"expression":{"references":["data.aws_caller_identity.current.account_id","data.aws_caller_identity.current"]},"description":"AWS Account ID"},"app_secrets_password":{"sensitive":true,"expression":{"references":["random_password.app_secrets.result","random_password.app_secrets"]},"description":"Random password for application secrets"},"availability_zones":{"expression":{"references":["data.aws_availability_zones.available.names","data.aws_availability_zones.available"]},"description":"Available availability zones"},"kms_key_main_arn":{"expression":{"references":["aws_kms_key.main.arn","aws_kms_key.main"]},"description":"ARN of the main KMS key"},"kms_key_main_id":{"expression":{"references":["aws_kms_key.main.key_id","aws_kms_key.main"]},"description":"ID of the main KMS key"},"kms_key_replica_arn":{"expression":{"references":["var.context.enable_cross_region_replication","var.context","aws_kms_key.replica[0].arn","aws_kms_key.replica[0]","aws_kms_key.replica"]},"description":"ARN of the replica KMS key"},"kms_key_replica_id":{"expression":{"references":["var.context.enable_cross_region_replication","var.context","aws_kms_key.replica[0].key_id","aws_kms_key.replica[0]","aws_kms_key.replica"]},"description":"ID of the replica KMS key"},"lambda_code_signing_config_arn":{"expression":{"references":["var.context.environment","var.context","aws_lambda_code_signing_config.main[0].arn","aws_lambda_code_signing_config.main[0]","aws_lambda_code_signing_config.main"]},"description":"ARN of the Lambda code signing configuration"},"lambda_signing_profile_arn":{"expression":{"references":["var.context.environment","var.context","aws_signer_signing_profile.lambda[0].arn","aws_signer_signing_profile.lambda[0]","aws_signer_signing_profile.lambda"]},"description":"ARN of the Lambda signing profile"},"opensearch_master_password":{"sensitive":true,"expression":{"references":["random_password.opensearch_master.result","random_password.opensearch_master"]},"description":"Random password for OpenSearch master user"},"random_suffix":{"expression":{"references":["random_id.suffix.hex","random_id.suffix"]},"description":"Random suffix for unique resource naming"},"region":{"expression":{"references":["data.aws_region.current.name","data.aws_region.current"]},"description":"Current AWS region"}},"resources":[{"address":"aws_kms_alias.main","mode":"managed","type":"aws_kms_alias","name":"main","provider_config_key":"aws","expressions":{"name":{"references":["var.context.name_prefix","var.context"]},"target_key_id":{"references":["aws_kms_key.main.key_id","aws_kms_key.main"]}},"schema_version":0},{"address":"aws_kms_alias.replica","mode":"managed","type":"aws_kms_alias","name":"replica","provider_config_key":"aws.infra_replica","expressions":{"name":{"references":["var.context.name_prefix","var.context"]},"target_key_id":{"references":["aws_kms_key.replica[0].key_id","aws_kms_key.replica[0]","aws_kms_key.replica"]}},"schema_version":0,"count_expression":{"references":["var.context.enable_cross_region_replication","var.context"]}},{"address":"aws_kms_key.main","mode":"managed","type":"aws_kms_key","name":"main","provider_config_key":"aws","expressions":{"deletion_window_in_days":{"references":["var.context.environment","var.context"]},"description":{"references":["var.context.name_prefix","var.context"]},"enable_key_rotation":{"constant_value":true},"policy":{"references":["var.context.infra_account_id","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_kms_key.replica","mode":"managed","type":"aws_kms_key","name":"replica","provider_config_key":"aws.infra_replica","expressions":{"deletion_window_in_days":{"references":["var.context.environment","var.context"]},"description":{"references":["var.context.name_prefix","var.context"]},"enable_key_rotation":{"constant_value":true},"policy":{"references":["var.context.infra_account_id","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0,"count_expression":{"references":["var.context.enable_cross_region_replication","var.context"]}},{"address":"aws_lambda_code_signing_config.main","mode":"managed","type":"aws_lambda_code_signing_config","name":"main","provider_config_key":"aws","expressions":{"allowed_publishers":[{"signing_profile_version_arns":{"references":["aws_signer_signing_profile.lambda[0].arn","aws_signer_signing_profile.lambda[0]","aws_signer_signing_profile.lambda"]}}],"description":{"references":["var.context.name_prefix","var.context"]},"policies":[{"untrusted_artifact_on_deployment":{"constant_value":"Warn"}}],"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0,"count_expression":{"references":["var.context.environment","var.context"]}},{"address":"aws_signer_signing_profile.lambda","mode":"managed","type":"aws_signer_signing_profile","name":"lambda","provider_config_key":"aws","expressions":{"name":{"references":["var.context.name_prefix","var.context"]},"platform_id":{"constant_value":"AWSLambda-SHA384-ECDSA"},"signature_validity_period":[{"type":{"constant_value":"YEARS"},"value":{"constant_value":5}}],"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0,"count_expression":{"references":["var.context.environment","var.context"]}},{"address":"random_id.suffix","mode":"managed","type":"random_id","name":"suffix","provider_config_key":"random","expressions":{"byte_length":{"constant_value":4}},"schema_version":0},{"address":"random_password.app_secrets","mode":"managed","type":"random_password","name":"app_secrets","provider_config_key":"random","expressions":{"length":{"constant_value":32},"special":{"constant_value":true}},"schema_version":3},{"address":"random_password.opensearch_master","mode":"managed","type":"random_password","name":"opensearch_master","provider_config_key":"random","expressions":{"length":{"constant_value":16},"special":{"constant_value":true}},"schema_version":3},{"address":"data.aws_availability_zones.available","mode":"data","type":"aws_availability_zones","name":"available","provider_config_key":"aws","expressions":{"state":{"constant_value":"available"}},"schema_version":0},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.aws_region.current","mode":"data","type":"aws_region","name":"current","provider_config_key":"aws","schema_version":0}],"variables":{"context":{"description":"A single object containing all shared configuration values."}}}},"governance":{"source":"../../modules/17-governance","expressions":{"cloudtrail_bucket_arn":{"references":["module.log_storage.cloudtrail_bucket_arn","module.log_storage"]},"cloudtrail_bucket_name":{"references":["module.log_storage.cloudtrail_bucket_id","module.log_storage"]},"cloudtrail_role_arn":{"constant_value":""},"config_bucket_name":{"references":["module.log_storage.config_bucket_id","module.log_storage"]},"config_remediation_role_arn":{"constant_value":""},"config_service_role_arn":{"references":["module.iam.config_service_role_arn","module.iam"]},"context":{"references":["local.context"]},"dynamodb_table_arns":{"references":["module.app_storage.dynamodb_table_arns","module.app_storage"]},"enable_config":{"constant_value":true},"enable_config_remediation":{"references":["var.enable_config_remediation"]},"frontend_bucket_arn":{"references":["module.app_storage.frontend_bucket_arn","module.app_storage"]},"kms_key_logs_arn":{"references":["module.audit_foundation.kms_key_logs_arn","module.audit_foundation"]},"kms_key_main_arn":{"references":["module.foundation.kms_key_main_arn","module.foundation"]}},"module":{"outputs":{"cloudfront_https_rule_name":{"expression":{"references":["var.enable_config","aws_config_config_rule.managed_rules[\"cloudfront-viewer-policy-https\"].name","aws_config_config_rule.managed_rules[\"cloudfront-viewer-policy-https\"]","aws_config_config_rule.managed_rules"]},"description":"Name of the AWS Config rule for CloudFront HTTPS viewer policy"},"cloudtrail_arn":{"expression":{"references":["aws_cloudtrail.main.arn","aws_cloudtrail.main"]},"description":"ARN of the CloudTrail"},"cloudtrail_log_group_arn":{"expression":{"references":["aws_cloudwatch_log_group.cloudtrail.arn","aws_cloudwatch_log_group.cloudtrail"]},"description":"ARN of the CloudTrail CloudWatch log group"},"cloudtrail_log_group_name":{"expression":{"references":["aws_cloudwatch_log_group.cloudtrail.name","aws_cloudwatch_log_group.cloudtrail"]},"description":"Name of the CloudTrail CloudWatch log group"},"cloudtrail_name":{"expression":{"references":["aws_cloudtrail.main.name","aws_cloudtrail.main"]},"description":"Name of the CloudTrail"},"cloudtrail_s3_bucket_arn":{"expression":{"references":["var.cloudtrail_bucket_arn"]},"description":"ARN of the CloudTrail S3 bucket"},"cloudtrail_s3_bucket_name":{"expression":{"references":["var.cloudtrail_bucket_name"]},"description":"Name of the CloudTrail S3 bucket"},"compliance_dashboard_name":{"expression":{"references":["var.enable_config","aws_cloudwatch_dashboard.compliance[0].dashboard_name","aws_cloudwatch_dashboard.compliance[0]","aws_cloudwatch_dashboard.compliance"]},"description":"Name of the compliance dashboard"},"compliance_dashboard_url":{"expression":{"references":["var.enable_config","var.context.aws_region","var.context","var.context.aws_region","var.context","aws_cloudwatch_dashboard.compliance[0].dashboard_name","aws_cloudwatch_dashboard.compliance[0]","aws_cloudwatch_dashboard.compliance"]},"description":"URL of the compliance dashboard"},"config_delivery_channel_name":{"expression":{"references":["var.enable_config","aws_config_delivery_channel.main[0].name","aws_config_delivery_channel.main[0]","aws_config_delivery_channel.main"]},"description":"Name of the AWS Config delivery channel"},"config_recorder_name":{"expression":{"references":["var.enable_config","aws_config_configuration_recorder.main[0].name","aws_config_configuration_recorder.main[0]","aws_config_configuration_recorder.main"]},"description":"Name of the AWS Config configuration recorder"},"config_rule_names":{"expression":{"references":["var.enable_config","aws_config_config_rule.managed_rules"]},"description":"List of all AWS Config rule names"},"dynamodb_encryption_rule_name":{"expression":{"references":["var.enable_config","aws_config_config_rule.managed_rules[\"dynamodb-table-encryption-enabled\"].name","aws_config_config_rule.managed_rules[\"dynamodb-table-encryption-enabled\"]","aws_config_config_rule.managed_rules"]},"description":"Name of the AWS Config rule for DynamoDB encryption"},"lambda_public_access_rule_name":{"expression":{"references":["var.enable_config","aws_config_config_rule.managed_rules[\"lambda-function-public-access-prohibited\"].name","aws_config_config_rule.managed_rules[\"lambda-function-public-access-prohibited\"]","aws_config_config_rule.managed_rules"]},"description":"Name of the AWS Config rule for Lambda public access"},"s3_public_access_rule_name":{"expression":{"references":["var.enable_config","aws_config_config_rule.managed_rules[\"s3-bucket-public-access-prohibited\"].name","aws_config_config_rule.managed_rules[\"s3-bucket-public-access-prohibited\"]","aws_config_config_rule.managed_rules"]},"description":"Name of the AWS Config rule for S3 public access"}},"resources":[{"address":"aws_cloudtrail.main","mode":"managed","type":"aws_cloudtrail","name":"main","provider_config_key":"aws.infra_primary","expressions":{"cloud_watch_logs_group_arn":{"references":["aws_cloudwatch_log_group.cloudtrail.arn","aws_cloudwatch_log_group.cloudtrail"]},"cloud_watch_logs_role_arn":{"references":["var.cloudtrail_role_arn"]},"enable_log_file_validation":{"constant_value":true},"enable_logging":{"constant_value":true},"event_selector":[{"data_resource":[{"type":{"constant_value":"AWS::S3::Object"},"values":{"references":["var.frontend_bucket_arn"]}},{"type":{"constant_value":"AWS::DynamoDB::Table"},"values":{"references":["var.dynamodb_table_arns"]}}],"exclude_management_event_sources":{"constant_value":[]},"include_management_events":{"constant_value":true},"read_write_type":{"constant_value":"All"}}],"include_global_service_events":{"constant_value":true},"insight_selector":[{"insight_type":{"constant_value":"ApiCallRateInsight"}}],"is_multi_region_trail":{"constant_value":true},"is_organization_trail":{"constant_value":false},"kms_key_id":{"references":["var.kms_key_main_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"s3_bucket_name":{"references":["var.cloudtrail_bucket_name"]},"sns_topic_name":{"references":["aws_sns_topic.cloudtrail_notifications.name","aws_sns_topic.cloudtrail_notifications"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":1},{"address":"aws_cloudwatch_dashboard.compliance","mode":"managed","type":"aws_cloudwatch_dashboard","name":"compliance","provider_config_key":"aws.infra_primary","expressions":{"dashboard_body":{"references":["path.module","var.context.aws_region","var.context","var.context.project_name","var.context","var.context.name_prefix","var.context"]},"dashboard_name":{"references":["var.context.name_prefix","var.context"]}},"schema_version":0,"count_expression":{"references":["var.enable_config"]}},{"address":"aws_cloudwatch_log_group.cloudtrail","mode":"managed","type":"aws_cloudwatch_log_group","name":"cloudtrail","provider_config_key":"aws.infra_primary","expressions":{"kms_key_id":{"references":["var.kms_key_logs_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"retention_in_days":{"references":["var.context.log_retention_days","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_config_config_rule.managed_rules","mode":"managed","type":"aws_config_config_rule","name":"managed_rules","provider_config_key":"aws.infra_primary","expressions":{"input_parameters":{"references":["each.value.parameters","each.value","each.value.parameters","each.value"]},"name":{"references":["var.context.name_prefix","var.context","each.key"]},"source":[{"owner":{"constant_value":"AWS"},"source_identifier":{"references":["each.value.source_identifier","each.value"]}}]},"schema_version":0,"for_each_expression":{"references":["var.enable_config","local.config_rules"]},"depends_on":["aws_config_configuration_recorder.main"]},{"address":"aws_config_configuration_recorder.main","mode":"managed","type":"aws_config_configuration_recorder","name":"main","provider_config_key":"aws.infra_primary","expressions":{"name":{"references":["var.context.name_prefix","var.context"]},"recording_group":[{"all_supported":{"constant_value":true},"include_global_resource_types":{"constant_value":true}}],"role_arn":{"references":["var.config_service_role_arn"]}},"schema_version":0,"count_expression":{"references":["var.enable_config"]},"depends_on":["aws_config_delivery_channel.main"]},{"address":"aws_config_delivery_channel.main","mode":"managed","type":"aws_config_delivery_channel","name":"main","provider_config_key":"aws.infra_primary","expressions":{"name":{"references":["var.context.name_prefix","var.context"]},"s3_bucket_name":{"references":["var.config_bucket_name"]},"snapshot_delivery_properties":[{"delivery_frequency":{"constant_value":"TwentyFour_Hours"}}]},"schema_version":0,"count_expression":{"references":["var.enable_config"]}},{"address":"aws_config_remediation_configuration.s3_bucket_public_access_prohibited","mode":"managed","type":"aws_config_remediation_configuration","name":"s3_bucket_public_access_prohibited","provider_config_key":"aws.infra_primary","expressions":{"automatic":{"constant_value":false},"config_rule_name":{"references":["aws_config_config_rule.managed_rules[\"s3-bucket-public-access-prohibited\"].name","aws_config_config_rule.managed_rules[\"s3-bucket-public-access-prohibited\"]","aws_config_config_rule.managed_rules"]},"maximum_automatic_attempts":{"constant_value":3},"parameter":[{"name":{"constant_value":"AutomationAssumeRole"},"static_value":{"references":["var.config_remediation_role_arn"]}},{"name":{"constant_value":"S3BucketName"},"resource_value":{"constant_value":"RESOURCE_ID"}}],"resource_type":{"constant_value":"AWS::S3::Bucket"},"target_id":{"constant_value":"AWSConfigRemediation-RemoveS3BucketPublicAccess"},"target_type":{"constant_value":"SSM_DOCUMENT"},"target_version":{"constant_value":"1"}},"schema_version":0,"count_expression":{"references":["var.enable_config","var.enable_config_remediation"]}},{"address":"aws_sns_topic.cloudtrail_notifications","mode":"managed","type":"aws_sns_topic","name":"cloudtrail_notifications","provider_config_key":"aws.infra_primary","expressions":{"kms_master_key_id":{"references":["var.kms_key_main_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_sns_topic.config_notifications","mode":"managed","type":"aws_sns_topic","name":"config_notifications","provider_config_key":"aws.infra_primary","expressions":{"kms_master_key_id":{"references":["var.kms_key_main_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0,"count_expression":{"references":["var.enable_config"]}}],"variables":{"cloudtrail_bucket_arn":{"default":"","description":"ARN of the S3 bucket for CloudTrail (from Audit Account)"},"cloudtrail_bucket_name":{"default":"","description":"Name of the S3 bucket for CloudTrail (from Audit Account)"},"cloudtrail_role_arn":{"default":"","description":"ARN of the CloudTrail CloudWatch logs role"},"config_bucket_name":{"default":"","description":"Name of the S3 bucket for AWS Config (from Audit Account)"},"config_remediation_role_arn":{"default":"","description":"ARN of the AWS Config remediation role"},"config_service_role_arn":{"default":"","description":"ARN of the AWS Config service role"},"context":{"description":"A single object containing all shared configuration values."},"dynamodb_table_arns":{"default":[],"description":"List of DynamoDB table ARNs for CloudTrail data events"},"enable_config":{"default":false,"description":"Whether AWS Config is enabled"},"enable_config_remediation":{"default":false,"description":"Whether AWS Config automatic remediation is enabled"},"frontend_bucket_arn":{"description":"ARN of the frontend S3 bucket for CloudTrail data events"},"kms_key_logs_arn":{"description":"ARN of the logs KMS key for CloudWatch logs encryption"},"kms_key_main_arn":{"description":"ARN of the main KMS key for encryption"}}}},"iam":{"source":"../../modules/11-iam","expressions":{"backup_enabled":{"references":["var.backup_enabled"]},"context":{"references":["local.context"]},"enable_config":{"constant_value":true}},"module":{"outputs":{"backup_cross_account_external_id":{"expression":{"references":["var.context.name_prefix","var.context"]},"description":"External ID for cross-account Backup role assumption"},"backup_role_arn":{"expression":{"references":["var.backup_enabled","aws_iam_role.backup[0].arn","aws_iam_role.backup[0]","aws_iam_role.backup"]},"description":"ARN of the AWS Backup role"},"backup_role_name":{"expression":{"references":["var.backup_enabled","aws_iam_role.backup[0].name","aws_iam_role.backup[0]","aws_iam_role.backup"]},"description":"Name of the AWS Backup role"},"config_cross_account_external_id":{"expression":{"references":["var.context.name_prefix","var.context"]},"description":"External ID for cross-account Config role assumption"},"config_service_role_arn":{"expression":{"references":["var.enable_config","aws_iam_role.config[0].arn","aws_iam_role.config[0]","aws_iam_role.config"]},"description":"ARN of the AWS Config role"},"config_service_role_name":{"expression":{"references":["var.enable_config","aws_iam_role.config[0].name","aws_iam_role.config[0]","aws_iam_role.config"]},"description":"Name of the AWS Config role"},"ecs_task_execution_role_arn":{"expression":{"references":["aws_iam_role.ecs_task_execution.arn","aws_iam_role.ecs_task_execution"]},"description":"ARN of the ECS task execution role"},"ecs_task_execution_role_name":{"expression":{"references":["aws_iam_role.ecs_task_execution.name","aws_iam_role.ecs_task_execution"]},"description":"Name of the ECS task execution role"},"ecs_task_role_arn":{"expression":{"references":["aws_iam_role.ecs_task.arn","aws_iam_role.ecs_task"]},"description":"ARN of the ECS task role"},"ecs_task_role_name":{"expression":{"references":["aws_iam_role.ecs_task.name","aws_iam_role.ecs_task"]},"description":"Name of the ECS task role"},"lambda_api_role_arn":{"expression":{"references":["aws_iam_role.lambda_api.arn","aws_iam_role.lambda_api"]},"description":"ARN of the API Lambda role"},"lambda_api_role_name":{"expression":{"references":["aws_iam_role.lambda_api.name","aws_iam_role.lambda_api"]},"description":"Name of the API Lambda role"},"lambda_discover_studios_role_arn":{"expression":{"references":["aws_iam_role.lambda_discover_studios.arn","aws_iam_role.lambda_discover_studios"]},"description":"ARN of the Discover Studios Lambda role"},"lambda_discover_studios_role_name":{"expression":{"references":["aws_iam_role.lambda_discover_studios.name","aws_iam_role.lambda_discover_studios"]},"description":"Name of the Discover Studios Lambda role"},"lambda_find_artists_role_arn":{"expression":{"references":["aws_iam_role.lambda_find_artists.arn","aws_iam_role.lambda_find_artists"]},"description":"ARN of the Find Artists Lambda role"},"lambda_find_artists_role_name":{"expression":{"references":["aws_iam_role.lambda_find_artists.name","aws_iam_role.lambda_find_artists"]},"description":"Name of the Find Artists Lambda role"},"lambda_queue_scraping_role_arn":{"expression":{"references":["aws_iam_role.lambda_queue_scraping.arn","aws_iam_role.lambda_queue_scraping"]},"description":"ARN of the Queue Scraping Lambda role"},"lambda_queue_scraping_role_name":{"expression":{"references":["aws_iam_role.lambda_queue_scraping.name","aws_iam_role.lambda_queue_scraping"]},"description":"Name of the Queue Scraping Lambda role"},"lambda_role_arns":{"expression":{"references":["aws_iam_role.lambda_api.arn","aws_iam_role.lambda_api","aws_iam_role.lambda_sync.arn","aws_iam_role.lambda_sync"]},"description":"List of Lambda role ARNs for OpenSearch access"},"lambda_rotate_nat_gateway_eip_role_arn":{"expression":{"references":["aws_iam_role.lambda_rotate_nat_gateway_eip.arn","aws_iam_role.lambda_rotate_nat_gateway_eip"]},"description":"ARN of the NAT Gateway EIP rotation Lambda role"},"lambda_rotate_nat_gateway_eip_role_name":{"expression":{"references":["aws_iam_role.lambda_rotate_nat_gateway_eip.name","aws_iam_role.lambda_rotate_nat_gateway_eip"]},"description":"Name of the NAT Gateway EIP rotation Lambda role"},"lambda_sync_role_arn":{"expression":{"references":["aws_iam_role.lambda_sync.arn","aws_iam_role.lambda_sync"]},"description":"ARN of the DynamoDB sync Lambda role"},"lambda_sync_role_name":{"expression":{"references":["aws_iam_role.lambda_sync.name","aws_iam_role.lambda_sync"]},"description":"Name of the DynamoDB sync Lambda role"},"s3_replication_role_arn":{"expression":{"references":["var.context.enable_cross_region_replication","var.context","aws_iam_role.s3_replication[0].arn","aws_iam_role.s3_replication[0]","aws_iam_role.s3_replication"]},"description":"ARN of the S3 replication role"},"s3_replication_role_name":{"expression":{"references":["var.context.enable_cross_region_replication","var.context","aws_iam_role.s3_replication[0].name","aws_iam_role.s3_replication[0]","aws_iam_role.s3_replication"]},"description":"Name of the S3 replication role"},"step_functions_role_arn":{"expression":{"references":["aws_iam_role.step_functions.arn","aws_iam_role.step_functions"]},"description":"ARN of the Step Functions role"},"step_functions_role_name":{"expression":{"references":["aws_iam_role.step_functions.name","aws_iam_role.step_functions"]},"description":"Name of the Step Functions role"}},"resources":[{"address":"aws_iam_policy.ecs_task","mode":"managed","type":"aws_iam_policy","name":"ecs_task","provider_config_key":"aws.infra_primary","expressions":{"description":{"constant_value":"Policy for ECS tasks"},"name":{"references":["var.context.name_prefix","var.context"]},"policy":{"references":["var.context.aws_region","var.context","var.context.infra_account_id","var.context","var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_iam_policy.lambda_api","mode":"managed","type":"aws_iam_policy","name":"lambda_api","provider_config_key":"aws.infra_primary","expressions":{"description":{"constant_value":"Policy for API handler Lambda function"},"name":{"references":["var.context.name_prefix","var.context"]},"policy":{"references":["var.context.aws_region","var.context","var.context.infra_account_id","var.context","var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_iam_policy.lambda_rotate_nat_gateway_eip","mode":"managed","type":"aws_iam_policy","name":"lambda_rotate_nat_gateway_eip","provider_config_key":"aws.infra_primary","expressions":{"description":{"constant_value":"Allows rotating the NAT Gateway EIP and publishing to SNS."},"name":{"references":["var.context.name_prefix","var.context"]},"policy":{"references":["var.context.project_name","var.context","var.context.aws_region","var.context","var.context.infra_account_id","var.context","var.context.name_prefix","var.context","var.context.aws_region","var.context","var.context.infra_account_id","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_iam_policy.lambda_sync","mode":"managed","type":"aws_iam_policy","name":"lambda_sync","provider_config_key":"aws.infra_primary","expressions":{"description":{"constant_value":"Policy for DynamoDB to OpenSearch sync Lambda function"},"name":{"references":["var.context.name_prefix","var.context"]},"policy":{"references":["var.context.aws_region","var.context","var.context.infra_account_id","var.context","var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_iam_role.backup","mode":"managed","type":"aws_iam_role","name":"backup","provider_config_key":"aws.infra_primary","expressions":{"assume_role_policy":{"references":["var.context.audit_account_id","var.context","var.context.name_prefix","var.context"]},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0,"count_expression":{"references":["var.backup_enabled"]}},{"address":"aws_iam_role.config","mode":"managed","type":"aws_iam_role","name":"config","provider_config_key":"aws.infra_primary","expressions":{"assume_role_policy":{"references":["var.context.audit_account_id","var.context","var.context.name_prefix","var.context"]},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0,"count_expression":{"references":["var.enable_config"]}},{"address":"aws_iam_role.ecs_task","mode":"managed","type":"aws_iam_role","name":"ecs_task","provider_config_key":"aws.infra_primary","expressions":{"assume_role_policy":{},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_iam_role.ecs_task_execution","mode":"managed","type":"aws_iam_role","name":"ecs_task_execution","provider_config_key":"aws.infra_primary","expressions":{"assume_role_policy":{},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_iam_role.lambda_api","mode":"managed","type":"aws_iam_role","name":"lambda_api","provider_config_key":"aws.infra_primary","expressions":{"assume_role_policy":{},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_iam_role.lambda_discover_studios","mode":"managed","type":"aws_iam_role","name":"lambda_discover_studios","provider_config_key":"aws.infra_primary","expressions":{"assume_role_policy":{},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_iam_role.lambda_find_artists","mode":"managed","type":"aws_iam_role","name":"lambda_find_artists","provider_config_key":"aws.infra_primary","expressions":{"assume_role_policy":{},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_iam_role.lambda_queue_scraping","mode":"managed","type":"aws_iam_role","name":"lambda_queue_scraping","provider_config_key":"aws.infra_primary","expressions":{"assume_role_policy":{},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_iam_role.lambda_rotate_nat_gateway_eip","mode":"managed","type":"aws_iam_role","name":"lambda_rotate_nat_gateway_eip","provider_config_key":"aws.infra_primary","expressions":{"assume_role_policy":{},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_iam_role.lambda_sync","mode":"managed","type":"aws_iam_role","name":"lambda_sync","provider_config_key":"aws.infra_primary","expressions":{"assume_role_policy":{},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_iam_role.s3_replication","mode":"managed","type":"aws_iam_role","name":"s3_replication","provider_config_key":"aws.infra_primary","expressions":{"assume_role_policy":{},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0,"count_expression":{"references":["var.context.enable_cross_region_replication","var.context"]}},{"address":"aws_iam_role.step_functions","mode":"managed","type":"aws_iam_role","name":"step_functions","provider_config_key":"aws.infra_primary","expressions":{"assume_role_policy":{},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.backup","mode":"managed","type":"aws_iam_role_policy_attachment","name":"backup","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.backup_service_role.arn","data.aws_iam_policy.backup_service_role"]},"role":{"references":["aws_iam_role.backup[0].name","aws_iam_role.backup[0]","aws_iam_role.backup"]}},"schema_version":0,"count_expression":{"references":["var.backup_enabled"]}},{"address":"aws_iam_role_policy_attachment.config","mode":"managed","type":"aws_iam_role_policy_attachment","name":"config","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.config_role_policy.arn","data.aws_iam_policy.config_role_policy"]},"role":{"references":["aws_iam_role.config[0].name","aws_iam_role.config[0]","aws_iam_role.config"]}},"schema_version":0,"count_expression":{"references":["var.enable_config"]}},{"address":"aws_iam_role_policy_attachment.ecs_task_custom","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ecs_task_custom","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["aws_iam_policy.ecs_task.arn","aws_iam_policy.ecs_task"]},"role":{"references":["aws_iam_role.ecs_task.name","aws_iam_role.ecs_task"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.ecs_task_execution","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ecs_task_execution","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.ecs_task_execution_role.arn","data.aws_iam_policy.ecs_task_execution_role"]},"role":{"references":["aws_iam_role.ecs_task_execution.name","aws_iam_role.ecs_task_execution"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.ecs_task_xray","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ecs_task_xray","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.xray_daemon_write_access.arn","data.aws_iam_policy.xray_daemon_write_access"]},"role":{"references":["aws_iam_role.ecs_task.name","aws_iam_role.ecs_task"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_api_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_api_basic","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.lambda_basic_execution.arn","data.aws_iam_policy.lambda_basic_execution"]},"role":{"references":["aws_iam_role.lambda_api.name","aws_iam_role.lambda_api"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_api_custom","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_api_custom","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["aws_iam_policy.lambda_api.arn","aws_iam_policy.lambda_api"]},"role":{"references":["aws_iam_role.lambda_api.name","aws_iam_role.lambda_api"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_api_vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_api_vpc","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.lambda_vpc_access_execution.arn","data.aws_iam_policy.lambda_vpc_access_execution"]},"role":{"references":["aws_iam_role.lambda_api.name","aws_iam_role.lambda_api"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_api_xray","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_api_xray","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.xray_daemon_write_access.arn","data.aws_iam_policy.xray_daemon_write_access"]},"role":{"references":["aws_iam_role.lambda_api.name","aws_iam_role.lambda_api"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_discover_studios_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_discover_studios_basic","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.lambda_basic_execution.arn","data.aws_iam_policy.lambda_basic_execution"]},"role":{"references":["aws_iam_role.lambda_discover_studios.name","aws_iam_role.lambda_discover_studios"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_discover_studios_vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_discover_studios_vpc","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.lambda_vpc_access_execution.arn","data.aws_iam_policy.lambda_vpc_access_execution"]},"role":{"references":["aws_iam_role.lambda_discover_studios.name","aws_iam_role.lambda_discover_studios"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_discover_studios_xray","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_discover_studios_xray","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.xray_daemon_write_access.arn","data.aws_iam_policy.xray_daemon_write_access"]},"role":{"references":["aws_iam_role.lambda_discover_studios.name","aws_iam_role.lambda_discover_studios"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_find_artists_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_find_artists_basic","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.lambda_basic_execution.arn","data.aws_iam_policy.lambda_basic_execution"]},"role":{"references":["aws_iam_role.lambda_find_artists.name","aws_iam_role.lambda_find_artists"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_find_artists_vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_find_artists_vpc","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.lambda_vpc_access_execution.arn","data.aws_iam_policy.lambda_vpc_access_execution"]},"role":{"references":["aws_iam_role.lambda_find_artists.name","aws_iam_role.lambda_find_artists"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_find_artists_xray","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_find_artists_xray","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.xray_daemon_write_access.arn","data.aws_iam_policy.xray_daemon_write_access"]},"role":{"references":["aws_iam_role.lambda_find_artists.name","aws_iam_role.lambda_find_artists"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_queue_scraping_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_queue_scraping_basic","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.lambda_basic_execution.arn","data.aws_iam_policy.lambda_basic_execution"]},"role":{"references":["aws_iam_role.lambda_queue_scraping.name","aws_iam_role.lambda_queue_scraping"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_queue_scraping_vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_queue_scraping_vpc","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.lambda_vpc_access_execution.arn","data.aws_iam_policy.lambda_vpc_access_execution"]},"role":{"references":["aws_iam_role.lambda_queue_scraping.name","aws_iam_role.lambda_queue_scraping"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_queue_scraping_xray","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_queue_scraping_xray","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.xray_daemon_write_access.arn","data.aws_iam_policy.xray_daemon_write_access"]},"role":{"references":["aws_iam_role.lambda_queue_scraping.name","aws_iam_role.lambda_queue_scraping"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_rotate_nat_gateway_eip_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_rotate_nat_gateway_eip_basic","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.lambda_basic_execution.arn","data.aws_iam_policy.lambda_basic_execution"]},"role":{"references":["aws_iam_role.lambda_rotate_nat_gateway_eip.name","aws_iam_role.lambda_rotate_nat_gateway_eip"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_rotate_nat_gateway_eip_custom","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_rotate_nat_gateway_eip_custom","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["aws_iam_policy.lambda_rotate_nat_gateway_eip.arn","aws_iam_policy.lambda_rotate_nat_gateway_eip"]},"role":{"references":["aws_iam_role.lambda_rotate_nat_gateway_eip.name","aws_iam_role.lambda_rotate_nat_gateway_eip"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_rotate_nat_gateway_eip_vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_rotate_nat_gateway_eip_vpc","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.lambda_vpc_access_execution.arn","data.aws_iam_policy.lambda_vpc_access_execution"]},"role":{"references":["aws_iam_role.lambda_rotate_nat_gateway_eip.name","aws_iam_role.lambda_rotate_nat_gateway_eip"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_rotate_nat_gateway_eip_xray","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_rotate_nat_gateway_eip_xray","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.xray_daemon_write_access.arn","data.aws_iam_policy.xray_daemon_write_access"]},"role":{"references":["aws_iam_role.lambda_rotate_nat_gateway_eip.name","aws_iam_role.lambda_rotate_nat_gateway_eip"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_sync_basic","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sync_basic","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.lambda_basic_execution.arn","data.aws_iam_policy.lambda_basic_execution"]},"role":{"references":["aws_iam_role.lambda_sync.name","aws_iam_role.lambda_sync"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_sync_custom","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sync_custom","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["aws_iam_policy.lambda_sync.arn","aws_iam_policy.lambda_sync"]},"role":{"references":["aws_iam_role.lambda_sync.name","aws_iam_role.lambda_sync"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_sync_vpc","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sync_vpc","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.lambda_vpc_access_execution.arn","data.aws_iam_policy.lambda_vpc_access_execution"]},"role":{"references":["aws_iam_role.lambda_sync.name","aws_iam_role.lambda_sync"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.lambda_sync_xray","mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_sync_xray","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.xray_daemon_write_access.arn","data.aws_iam_policy.xray_daemon_write_access"]},"role":{"references":["aws_iam_role.lambda_sync.name","aws_iam_role.lambda_sync"]}},"schema_version":0},{"address":"aws_iam_role_policy_attachment.step_functions_xray","mode":"managed","type":"aws_iam_role_policy_attachment","name":"step_functions_xray","provider_config_key":"aws.infra_primary","expressions":{"policy_arn":{"references":["data.aws_iam_policy.xray_daemon_write_access.arn","data.aws_iam_policy.xray_daemon_write_access"]},"role":{"references":["aws_iam_role.step_functions.name","aws_iam_role.step_functions"]}},"schema_version":0},{"address":"data.aws_iam_policy.api_gateway_push_to_cloudwatch_logs","mode":"data","type":"aws_iam_policy","name":"api_gateway_push_to_cloudwatch_logs","provider_config_key":"aws.infra_primary","expressions":{"name":{"constant_value":"AmazonAPIGatewayPushToCloudWatchLogs"}},"schema_version":0},{"address":"data.aws_iam_policy.backup_service_role","mode":"data","type":"aws_iam_policy","name":"backup_service_role","provider_config_key":"aws.infra_primary","expressions":{"name":{"constant_value":"AWSBackupServiceRolePolicyForBackup"}},"schema_version":0},{"address":"data.aws_iam_policy.config_role_policy","mode":"data","type":"aws_iam_policy","name":"config_role_policy","provider_config_key":"aws.infra_primary","expressions":{"name":{"constant_value":"AWS_ConfigRole"}},"schema_version":0},{"address":"data.aws_iam_policy.ecs_task_execution_role","mode":"data","type":"aws_iam_policy","name":"ecs_task_execution_role","provider_config_key":"aws.infra_primary","expressions":{"name":{"constant_value":"AmazonECSTaskExecutionRolePolicy"}},"schema_version":0},{"address":"data.aws_iam_policy.lambda_basic_execution","mode":"data","type":"aws_iam_policy","name":"lambda_basic_execution","provider_config_key":"aws.infra_primary","expressions":{"name":{"constant_value":"AWSLambdaBasicExecutionRole"}},"schema_version":0},{"address":"data.aws_iam_policy.lambda_vpc_access_execution","mode":"data","type":"aws_iam_policy","name":"lambda_vpc_access_execution","provider_config_key":"aws.infra_primary","expressions":{"name":{"constant_value":"AWSLambdaVPCAccessExecutionRole"}},"schema_version":0},{"address":"data.aws_iam_policy.ssm_automation_role","mode":"data","type":"aws_iam_policy","name":"ssm_automation_role","provider_config_key":"aws.infra_primary","expressions":{"name":{"constant_value":"AmazonSSMAutomationRole"}},"schema_version":0},{"address":"data.aws_iam_policy.xray_daemon_write_access","mode":"data","type":"aws_iam_policy","name":"xray_daemon_write_access","provider_config_key":"aws.infra_primary","expressions":{"name":{"constant_value":"AWSXRayDaemonWriteAccess"}},"schema_version":0}],"variables":{"backup_enabled":{"default":false,"description":"Whether AWS Backup is enabled"},"context":{"description":"A single object containing all shared configuration values."},"enable_config":{"default":false,"description":"Whether AWS Config is enabled"},"kms_key_replica_arn":{"default":null,"description":"ARN of the replica KMS key for cross-region replication"}}}},"log_storage":{"source":"../../modules/08-log-storage","expressions":{"context":{"references":["local.context"]},"random_suffix":{"references":["module.foundation.random_suffix","module.foundation"]},"s3_replication_role_arn":{"references":["module.iam.s3_replication_role_arn","module.iam"]}},"module":{"outputs":{"access_logs_bucket_arn":{"expression":{"references":["aws_s3_bucket.main[\"access_logs\"].arn","aws_s3_bucket.main[\"access_logs\"]","aws_s3_bucket.main"]},"description":"ARN of the access logs S3 bucket"},"access_logs_bucket_domain_name":{"expression":{"references":["aws_s3_bucket.main[\"access_logs\"].bucket_domain_name","aws_s3_bucket.main[\"access_logs\"]","aws_s3_bucket.main"]},"description":"Domain name of the access logs S3 bucket"},"access_logs_bucket_id":{"expression":{"references":["aws_s3_bucket.main[\"access_logs\"].id","aws_s3_bucket.main[\"access_logs\"]","aws_s3_bucket.main"]},"description":"ID of the access logs S3 bucket"},"cloudtrail_bucket_arn":{"expression":{"references":["aws_s3_bucket.main[\"cloudtrail\"].arn","aws_s3_bucket.main[\"cloudtrail\"]","aws_s3_bucket.main"]},"description":"ARN of the CloudTrail S3 bucket"},"cloudtrail_bucket_id":{"expression":{"references":["aws_s3_bucket.main[\"cloudtrail\"].id","aws_s3_bucket.main[\"cloudtrail\"]","aws_s3_bucket.main"]},"description":"ID of the CloudTrail S3 bucket"},"config_bucket_arn":{"expression":{"references":["aws_s3_bucket.main[\"config\"].arn","aws_s3_bucket.main[\"config\"]","aws_s3_bucket.main"]},"description":"ARN of the config S3 bucket"},"config_bucket_id":{"expression":{"references":["aws_s3_bucket.main[\"config\"].id","aws_s3_bucket.main[\"config\"]","aws_s3_bucket.main"]},"description":"ID of the config S3 bucket"},"kms_key_log_archive_arn":{"expression":{"references":["aws_kms_key.log_archive.arn","aws_kms_key.log_archive"]},"description":"The ARN of the KMS key for the Log Archive account."},"kms_key_log_archive_replica_arn":{"expression":{"references":["var.context.enable_cross_region_replication","var.context","aws_kms_key.log_archive_replica[0].arn","aws_kms_key.log_archive_replica[0]","aws_kms_key.log_archive_replica"]},"description":"The ARN of the KMS replica key for the Log Archive account."},"s3_bucket_arns":{"expression":{"references":["aws_s3_bucket.main"]},"description":"ARNs of the audit and log S3 buckets"},"s3_bucket_ids":{"expression":{"references":["aws_s3_bucket.main"]},"description":"IDs of the audit and log S3 buckets"},"s3_replica_bucket_arns":{"expression":{"references":["aws_s3_bucket.replica"]},"description":"ARNs of the replica audit and log S3 buckets"},"vpc_flow_logs_bucket_arn":{"expression":{"references":["aws_s3_bucket.main[\"vpc_flow_logs\"].arn","aws_s3_bucket.main[\"vpc_flow_logs\"]","aws_s3_bucket.main"]},"description":"ARN of the VPC Flow Logs S3 bucket"},"vpc_flow_logs_bucket_id":{"expression":{"references":["aws_s3_bucket.main[\"vpc_flow_logs\"].id","aws_s3_bucket.main[\"vpc_flow_logs\"]","aws_s3_bucket.main"]},"description":"ID of the VPC Flow Logs S3 bucket"},"waf_logs_bucket_arn":{"expression":{"references":["aws_s3_bucket.main[\"waf_logs\"].arn","aws_s3_bucket.main[\"waf_logs\"]","aws_s3_bucket.main"]},"description":"ARN of the WAF Logs S3 bucket"},"waf_logs_bucket_id":{"expression":{"references":["aws_s3_bucket.main[\"waf_logs\"].id","aws_s3_bucket.main[\"waf_logs\"]","aws_s3_bucket.main"]},"description":"ID of the WAF Logs S3 bucket"}},"resources":[{"address":"aws_kms_alias.log_archive","mode":"managed","type":"aws_kms_alias","name":"log_archive","provider_config_key":"aws.log_archive_primary","expressions":{"name":{"references":["var.context.name_prefix","var.context"]},"target_key_id":{"references":["aws_kms_key.log_archive.id","aws_kms_key.log_archive"]}},"schema_version":0},{"address":"aws_kms_alias.log_archive_replica","mode":"managed","type":"aws_kms_alias","name":"log_archive_replica","provider_config_key":"aws.log_archive_replica","expressions":{"name":{"references":["var.context.name_prefix","var.context"]},"target_key_id":{"references":["aws_kms_key.log_archive_replica[0].id","aws_kms_key.log_archive_replica[0]","aws_kms_key.log_archive_replica"]}},"schema_version":0,"count_expression":{"references":["var.context.enable_cross_region_replication","var.context"]}},{"address":"aws_kms_key.log_archive","mode":"managed","type":"aws_kms_key","name":"log_archive","provider_config_key":"aws.log_archive_primary","expressions":{"deletion_window_in_days":{"constant_value":10},"description":{"constant_value":"KMS key for encrypting resources in the Log Archive account"},"enable_key_rotation":{"constant_value":true},"policy":{"references":["data.aws_iam_policy_document.log_archive_key.json","data.aws_iam_policy_document.log_archive_key"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_kms_key.log_archive_replica","mode":"managed","type":"aws_kms_key","name":"log_archive_replica","provider_config_key":"aws.log_archive_replica","expressions":{"deletion_window_in_days":{"constant_value":10},"description":{"constant_value":"KMS replica key for encrypting resources in the Log Archive account"},"enable_key_rotation":{"constant_value":true},"policy":{"references":["data.aws_iam_policy_document.log_archive_key_replica[0].json","data.aws_iam_policy_document.log_archive_key_replica[0]","data.aws_iam_policy_document.log_archive_key_replica"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0,"count_expression":{"references":["var.context.enable_cross_region_replication","var.context"]}},{"address":"aws_s3_bucket.main","mode":"managed","type":"aws_s3_bucket","name":"main","provider_config_key":"aws.log_archive_primary","expressions":{"bucket":{"references":["var.context.name_prefix","var.context","each.key","var.random_suffix"]},"force_destroy":{"references":["each.value"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context","each.key","each.value.description","each.value"]}},"schema_version":0,"for_each_expression":{"references":["local.s3_buckets"]}},{"address":"aws_s3_bucket.replica","mode":"managed","type":"aws_s3_bucket","name":"replica","provider_config_key":"aws.log_archive_replica","expressions":{"bucket":{"references":["var.context.name_prefix","var.context","each.key","var.random_suffix"]},"force_destroy":{"references":["each.value"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context","each.key","each.value.description","each.value"]}},"schema_version":0,"for_each_expression":{"references":["local.s3_buckets","var.context.enable_cross_region_replication","var.context"]}},{"address":"aws_s3_bucket_lifecycle_configuration.main","mode":"managed","type":"aws_s3_bucket_lifecycle_configuration","name":"main","provider_config_key":"aws.log_archive_primary","expressions":{"bucket":{"references":["aws_s3_bucket.main","each.key"]}},"schema_version":1,"for_each_expression":{"references":["local.s3_buckets"]},"depends_on":["aws_s3_bucket_versioning.main"]},{"address":"aws_s3_bucket_logging.main","mode":"managed","type":"aws_s3_bucket_logging","name":"main","provider_config_key":"aws.log_archive_primary","expressions":{"bucket":{"references":["aws_s3_bucket.main","each.key"]},"target_bucket":{"references":["aws_s3_bucket.main[\"access_logs\"].id","aws_s3_bucket.main[\"access_logs\"]","aws_s3_bucket.main"]},"target_prefix":{"references":["each.value.logging_prefix","each.value"]}},"schema_version":0,"for_each_expression":{"references":["local.s3_buckets"]}},{"address":"aws_s3_bucket_policy.access_logs","mode":"managed","type":"aws_s3_bucket_policy","name":"access_logs","provider_config_key":"aws.log_archive_primary","expressions":{"bucket":{"references":["aws_s3_bucket.main[\"access_logs\"].id","aws_s3_bucket.main[\"access_logs\"]","aws_s3_bucket.main"]},"policy":{"references":["aws_s3_bucket.main[\"access_logs\"].arn","aws_s3_bucket.main[\"access_logs\"]","aws_s3_bucket.main","var.context.audit_account_id","var.context","var.context.infra_account_id","var.context","aws_s3_bucket.main[\"access_logs\"].arn","aws_s3_bucket.main[\"access_logs\"]","aws_s3_bucket.main","var.context.infra_account_id","var.context","var.context.audit_account_id","var.context","aws_s3_bucket.main[\"access_logs\"].arn","aws_s3_bucket.main[\"access_logs\"]","aws_s3_bucket.main","aws_s3_bucket.main[\"access_logs\"].arn","aws_s3_bucket.main[\"access_logs\"]","aws_s3_bucket.main","aws_s3_bucket.main[\"access_logs\"].arn","aws_s3_bucket.main[\"access_logs\"]","aws_s3_bucket.main","aws_s3_bucket.main[\"access_logs\"].arn","aws_s3_bucket.main[\"access_logs\"]","aws_s3_bucket.main"]}},"schema_version":0},{"address":"aws_s3_bucket_policy.cloudtrail","mode":"managed","type":"aws_s3_bucket_policy","name":"cloudtrail","provider_config_key":"aws.log_archive_primary","expressions":{"bucket":{"references":["aws_s3_bucket.main[\"cloudtrail\"].id","aws_s3_bucket.main[\"cloudtrail\"]","aws_s3_bucket.main"]},"policy":{"references":["aws_s3_bucket.main[\"cloudtrail\"].arn","aws_s3_bucket.main[\"cloudtrail\"]","aws_s3_bucket.main","var.context.infra_account_id","var.context","var.context.audit_account_id","var.context","aws_s3_bucket.main[\"cloudtrail\"].arn","aws_s3_bucket.main[\"cloudtrail\"]","aws_s3_bucket.main","var.context.audit_account_id","var.context","var.context.audit_account_id","var.context","aws_s3_bucket.main[\"cloudtrail\"].arn","aws_s3_bucket.main[\"cloudtrail\"]","aws_s3_bucket.main","var.context.infra_account_id","var.context","var.context.infra_account_id","var.context","var.context.audit_account_id","var.context","aws_s3_bucket.main[\"cloudtrail\"].arn","aws_s3_bucket.main[\"cloudtrail\"]","aws_s3_bucket.main","aws_s3_bucket.main[\"cloudtrail\"].arn","aws_s3_bucket.main[\"cloudtrail\"]","aws_s3_bucket.main","aws_s3_bucket.main[\"cloudtrail\"].arn","aws_s3_bucket.main[\"cloudtrail\"]","aws_s3_bucket.main","aws_s3_bucket.main[\"cloudtrail\"].arn","aws_s3_bucket.main[\"cloudtrail\"]","aws_s3_bucket.main"]}},"schema_version":0},{"address":"aws_s3_bucket_policy.config","mode":"managed","type":"aws_s3_bucket_policy","name":"config","provider_config_key":"aws.log_archive_primary","expressions":{"bucket":{"references":["aws_s3_bucket.main[\"config\"].id","aws_s3_bucket.main[\"config\"]","aws_s3_bucket.main"]},"policy":{"references":["aws_s3_bucket.main[\"config\"].arn","aws_s3_bucket.main[\"config\"]","aws_s3_bucket.main","var.context.infra_account_id","var.context","var.context.audit_account_id","var.context","aws_s3_bucket.main[\"config\"].arn","aws_s3_bucket.main[\"config\"]","aws_s3_bucket.main","var.context.infra_account_id","var.context","var.context.audit_account_id","var.context","aws_s3_bucket.main[\"config\"].arn","aws_s3_bucket.main[\"config\"]","aws_s3_bucket.main","var.context.infra_account_id","var.context","var.context.audit_account_id","var.context","var.context.audit_account_id","var.context","aws_s3_bucket.main[\"config\"].arn","aws_s3_bucket.main[\"config\"]","aws_s3_bucket.main","aws_s3_bucket.main[\"config\"].arn","aws_s3_bucket.main[\"config\"]","aws_s3_bucket.main","aws_s3_bucket.main[\"config\"].arn","aws_s3_bucket.main[\"config\"]","aws_s3_bucket.main","aws_s3_bucket.main[\"config\"].arn","aws_s3_bucket.main[\"config\"]","aws_s3_bucket.main"]}},"schema_version":0},{"address":"aws_s3_bucket_policy.vpc_flow_logs","mode":"managed","type":"aws_s3_bucket_policy","name":"vpc_flow_logs","provider_config_key":"aws.log_archive_primary","expressions":{"bucket":{"references":["aws_s3_bucket.main[\"vpc_flow_logs\"].id","aws_s3_bucket.main[\"vpc_flow_logs\"]","aws_s3_bucket.main"]},"policy":{"references":["aws_s3_bucket.main[\"vpc_flow_logs\"].arn","aws_s3_bucket.main[\"vpc_flow_logs\"]","aws_s3_bucket.main","var.context.infra_account_id","var.context","aws_s3_bucket.main[\"vpc_flow_logs\"].arn","aws_s3_bucket.main[\"vpc_flow_logs\"]","aws_s3_bucket.main","var.context.infra_account_id","var.context","var.context.audit_account_id","var.context","aws_s3_bucket.main[\"vpc_flow_logs\"].arn","aws_s3_bucket.main[\"vpc_flow_logs\"]","aws_s3_bucket.main","aws_s3_bucket.main[\"vpc_flow_logs\"].arn","aws_s3_bucket.main[\"vpc_flow_logs\"]","aws_s3_bucket.main","aws_s3_bucket.main[\"vpc_flow_logs\"].arn","aws_s3_bucket.main[\"vpc_flow_logs\"]","aws_s3_bucket.main","aws_s3_bucket.main[\"vpc_flow_logs\"].arn","aws_s3_bucket.main[\"vpc_flow_logs\"]","aws_s3_bucket.main"]}},"schema_version":0},{"address":"aws_s3_bucket_policy.waf_logs","mode":"managed","type":"aws_s3_bucket_policy","name":"waf_logs","provider_config_key":"aws.log_archive_primary","expressions":{"bucket":{"references":["aws_s3_bucket.main[\"waf_logs\"].id","aws_s3_bucket.main[\"waf_logs\"]","aws_s3_bucket.main"]},"policy":{"references":["var.context.audit_account_id","var.context","aws_s3_bucket.main[\"waf_logs\"].arn","aws_s3_bucket.main[\"waf_logs\"]","aws_s3_bucket.main","aws_s3_bucket.main[\"waf_logs\"].arn","aws_s3_bucket.main[\"waf_logs\"]","aws_s3_bucket.main","var.context.audit_account_id","var.context","var.context.audit_account_id","var.context","aws_s3_bucket.main[\"waf_logs\"].arn","aws_s3_bucket.main[\"waf_logs\"]","aws_s3_bucket.main","aws_s3_bucket.main[\"waf_logs\"].arn","aws_s3_bucket.main[\"waf_logs\"]","aws_s3_bucket.main"]}},"schema_version":0},{"address":"aws_s3_bucket_public_access_block.main","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"main","provider_config_key":"aws.log_archive_primary","expressions":{"block_public_acls":{"constant_value":true},"block_public_policy":{"constant_value":true},"bucket":{"references":["each.value.id","each.value"]},"ignore_public_acls":{"constant_value":true},"restrict_public_buckets":{"constant_value":true}},"schema_version":0,"for_each_expression":{"references":["aws_s3_bucket.main"]}},{"address":"aws_s3_bucket_public_access_block.replica","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"replica","provider_config_key":"aws.log_archive_replica","expressions":{"block_public_acls":{"constant_value":true},"block_public_policy":{"constant_value":true},"bucket":{"references":["each.value.id","each.value"]},"ignore_public_acls":{"constant_value":true},"restrict_public_buckets":{"constant_value":true}},"schema_version":0,"for_each_expression":{"references":["aws_s3_bucket.replica"]}},{"address":"aws_s3_bucket_replication_configuration.main","mode":"managed","type":"aws_s3_bucket_replication_configuration","name":"main","provider_config_key":"aws.log_archive_primary","expressions":{"bucket":{"references":["aws_s3_bucket.main","each.key"]},"role":{"references":["var.s3_replication_role_arn"]},"rule":[{"destination":[{"bucket":{"references":["aws_s3_bucket.replica","each.key"]},"encryption_configuration":[{"replica_kms_key_id":{"references":["aws_kms_key.log_archive_replica[0].arn","aws_kms_key.log_archive_replica[0]","aws_kms_key.log_archive_replica"]}}],"storage_class":{"constant_value":"STANDARD_IA"}}],"id":{"references":["each.key"]},"status":{"constant_value":"Enabled"}}]},"schema_version":0,"for_each_expression":{"references":["local.s3_buckets","var.context.enable_cross_region_replication","var.context"]},"depends_on":["aws_s3_bucket_versioning.main"]},{"address":"aws_s3_bucket_server_side_encryption_configuration.main","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"main","provider_config_key":"aws.log_archive_primary","expressions":{"bucket":{"references":["each.value.id","each.value"]},"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":{"references":["aws_kms_key.log_archive.arn","aws_kms_key.log_archive"]},"sse_algorithm":{"constant_value":"aws:kms"}}],"bucket_key_enabled":{"constant_value":true}}]},"schema_version":0,"for_each_expression":{"references":["aws_s3_bucket.main"]}},{"address":"aws_s3_bucket_server_side_encryption_configuration.replica","mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"replica","provider_config_key":"aws.log_archive_replica","expressions":{"bucket":{"references":["each.value.id","each.value"]},"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":{"references":["var.context.enable_cross_region_replication","var.context","aws_kms_key.log_archive_replica[0].arn","aws_kms_key.log_archive_replica[0]","aws_kms_key.log_archive_replica"]},"sse_algorithm":{"constant_value":"aws:kms"}}],"bucket_key_enabled":{"constant_value":true}}]},"schema_version":0,"for_each_expression":{"references":["aws_s3_bucket.replica"]}},{"address":"aws_s3_bucket_versioning.main","mode":"managed","type":"aws_s3_bucket_versioning","name":"main","provider_config_key":"aws.log_archive_primary","expressions":{"bucket":{"references":["each.value.id","each.value"]},"versioning_configuration":[{"status":{"constant_value":"Enabled"}}]},"schema_version":0,"for_each_expression":{"references":["aws_s3_bucket.main"]}},{"address":"aws_s3_bucket_versioning.replica","mode":"managed","type":"aws_s3_bucket_versioning","name":"replica","provider_config_key":"aws.log_archive_replica","expressions":{"bucket":{"references":["each.value.id","each.value"]},"versioning_configuration":[{"status":{"constant_value":"Enabled"}}]},"schema_version":0,"for_each_expression":{"references":["aws_s3_bucket.replica"]}},{"address":"data.aws_iam_policy_document.log_archive_key","mode":"data","type":"aws_iam_policy_document","name":"log_archive_key","provider_config_key":"aws.log_archive_primary","expressions":{"statement":[{"actions":{"constant_value":["kms:*"]},"principals":[{"identifiers":{"references":["var.context.log_archive_account_id","var.context"]},"type":{"constant_value":"AWS"}}],"resources":{"constant_value":["*"]},"sid":{"constant_value":"EnableIAMUserPermissions"}},{"actions":{"constant_value":["kms:Decrypt","kms:DescribeKey"]},"condition":[{"test":{"constant_value":"StringEquals"},"values":{"constant_value":["log-auditing"]},"variable":{"constant_value":"aws:PrincipalTag/iam.amazonaws.com/role-purpose"}}],"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"references":["var.context.audit_account_id","var.context"]},"type":{"constant_value":"AWS"}}],"resources":{"constant_value":["*"]},"sid":{"constant_value":"AllowAuditAccountKmsUsage"}}]},"schema_version":0},{"address":"data.aws_iam_policy_document.log_archive_key_replica","mode":"data","type":"aws_iam_policy_document","name":"log_archive_key_replica","provider_config_key":"aws.log_archive_primary","expressions":{"statement":[{"actions":{"constant_value":["kms:*"]},"principals":[{"identifiers":{"references":["var.context.log_archive_account_id","var.context"]},"type":{"constant_value":"AWS"}}],"resources":{"constant_value":["*"]},"sid":{"constant_value":"EnableIAMUserPermissions"}}]},"schema_version":0,"count_expression":{"references":["var.context.enable_cross_region_replication","var.context"]}}],"variables":{"context":{"description":"A single object containing all shared configuration values."},"random_suffix":{"description":"Random suffix for unique resource naming"},"s3_replication_role_arn":{"default":null,"description":"ARN of the IAM role for S3 replication"}}}},"networking":{"source":"../../modules/05-networking","expressions":{"availability_zones":{"references":["module.foundation.availability_zones","module.foundation"]},"context":{"references":["local.context"]},"kms_key_logs_arn":{"references":["module.audit_foundation.kms_key_logs_arn","module.audit_foundation"]},"vpc_flow_logs_bucket_arn":{"references":["module.log_storage.vpc_flow_logs_bucket_arn","module.log_storage"]}},"module":{"outputs":{"availability_zones":{"expression":{"references":["local.availability_zones"]},"description":"Availability zones used"},"cloudfront_certificate_arn":{"expression":{"references":["var.context.domain_name","var.context","aws_acm_certificate.cloudfront[0].arn","aws_acm_certificate.cloudfront[0]","aws_acm_certificate.cloudfront"]},"description":"ARN of the CloudFront ACM certificate"},"default_security_group_id":{"expression":{"references":["aws_default_security_group.default.id","aws_default_security_group.default"]},"description":"ID of the default security group"},"dynamodb_vpc_endpoint_id":{"expression":{"references":["aws_vpc_endpoint.gateway[\"dynamodb\"].id","aws_vpc_endpoint.gateway[\"dynamodb\"]","aws_vpc_endpoint.gateway"]},"description":"ID of the DynamoDB VPC endpoint"},"fargate_security_group_arn":{"expression":{"references":["aws_security_group.main[\"fargate\"].arn","aws_security_group.main[\"fargate\"]","aws_security_group.main"]},"description":"ARN of the Fargate security group"},"fargate_security_group_id":{"expression":{"references":["aws_security_group.main[\"fargate\"].id","aws_security_group.main[\"fargate\"]","aws_security_group.main"]},"description":"ID of the Fargate security group"},"gateway_vpc_endpoint_ids":{"expression":{"references":["aws_vpc_endpoint.gateway"]},"description":"Map of Gateway VPC Endpoint IDs, keyed by service name"},"interface_vpc_endpoint_ids":{"expression":{"references":["aws_vpc_endpoint.interface"]},"description":"Map of Interface VPC Endpoint IDs, keyed by service name"},"lambda_internal_security_group_arn":{"expression":{"references":["aws_security_group.main[\"lambda_internal\"].arn","aws_security_group.main[\"lambda_internal\"]","aws_security_group.main"]},"description":"ARN of the Lambda internal security group"},"lambda_internal_security_group_id":{"expression":{"references":["aws_security_group.main[\"lambda_internal\"].id","aws_security_group.main[\"lambda_internal\"]","aws_security_group.main"]},"description":"ID of the Lambda internal security group"},"lambda_internet_security_group_arn":{"expression":{"references":["aws_security_group.main[\"lambda_internet\"].arn","aws_security_group.main[\"lambda_internet\"]","aws_security_group.main"]},"description":"ARN of the Lambda internet security group"},"lambda_internet_security_group_id":{"expression":{"references":["aws_security_group.main[\"lambda_internet\"].id","aws_security_group.main[\"lambda_internet\"]","aws_security_group.main"]},"description":"ID of the Lambda internet security group"},"nat_gateway_ids":{"expression":{"references":["aws_nat_gateway.main"]},"description":"IDs of the NAT gateways"},"nat_gateway_public_ips":{"expression":{"references":["aws_eip.nat"]},"description":"Public IPs of the NAT gateways"},"opensearch_security_group_arn":{"expression":{"references":["aws_security_group.main[\"opensearch\"].arn","aws_security_group.main[\"opensearch\"]","aws_security_group.main"]},"description":"ARN of the OpenSearch security group"},"opensearch_security_group_id":{"expression":{"references":["aws_security_group.main[\"opensearch\"].id","aws_security_group.main[\"opensearch\"]","aws_security_group.main"]},"description":"ID of the OpenSearch security group"},"private_network_acl_id":{"expression":{"references":["aws_network_acl.private.id","aws_network_acl.private"]},"description":"ID of the private Network ACL"},"private_subnet_arns":{"expression":{"references":["aws_subnet.private"]},"description":"ARNs of the private subnets"},"private_subnet_ids":{"expression":{"references":["aws_subnet.private"]},"description":"IDs of the private subnets"},"public_network_acl_id":{"expression":{"references":["aws_network_acl.public.id","aws_network_acl.public"]},"description":"ID of the public Network ACL"},"public_subnet_arns":{"expression":{"references":["aws_subnet.public"]},"description":"ARNs of the public subnets"},"public_subnet_ids":{"expression":{"references":["aws_subnet.public"]},"description":"IDs of the public subnets"},"s3_vpc_endpoint_id":{"expression":{"references":["aws_vpc_endpoint.gateway[\"s3\"].id","aws_vpc_endpoint.gateway[\"s3\"]","aws_vpc_endpoint.gateway"]},"description":"ID of the S3 VPC endpoint"},"vpc_cidr_block":{"expression":{"references":["aws_vpc.main.cidr_block","aws_vpc.main"]},"description":"CIDR block of the VPC"},"vpc_endpoints_security_group_arn":{"expression":{"references":["aws_security_group.main[\"vpc_endpoints\"].arn","aws_security_group.main[\"vpc_endpoints\"]","aws_security_group.main"]},"description":"ARN of the VPC endpoints security group"},"vpc_endpoints_security_group_id":{"expression":{"references":["aws_security_group.main[\"vpc_endpoints\"].id","aws_security_group.main[\"vpc_endpoints\"]","aws_security_group.main"]},"description":"ID of the VPC endpoints security group"},"vpc_flow_log_id":{"expression":{"references":["aws_flow_log.vpc.id","aws_flow_log.vpc"]},"description":"ID of the VPC Flow Log"},"vpc_id":{"expression":{"references":["aws_vpc.main.id","aws_vpc.main"]},"description":"ID of the VPC"}},"resources":[{"address":"aws_acm_certificate.cloudfront","mode":"managed","type":"aws_acm_certificate","name":"cloudfront","provider_config_key":"aws.infra_us_east_1","expressions":{"domain_name":{"references":["var.context.domain_name","var.context"]},"subject_alternative_names":{"references":["var.context.domain_name","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"validation_method":{"constant_value":"DNS"}},"schema_version":0,"count_expression":{"references":["var.context.domain_name","var.context"]}},{"address":"aws_default_security_group.default","mode":"managed","type":"aws_default_security_group","name":"default","provider_config_key":"aws","expressions":{"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1},{"address":"aws_eip.nat","mode":"managed","type":"aws_eip","name":"nat","provider_config_key":"aws","expressions":{"domain":{"constant_value":"vpc"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context","each.key"]}},"schema_version":0,"for_each_expression":{"references":["var.context.environment","var.context","local.availability_zones","local.availability_zones","local.availability_zones"]},"depends_on":["aws_internet_gateway.main"]},{"address":"aws_flow_log.vpc","mode":"managed","type":"aws_flow_log","name":"vpc","provider_config_key":"aws","expressions":{"log_destination":{"references":["var.vpc_flow_logs_bucket_arn"]},"log_destination_type":{"constant_value":"s3"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"traffic_type":{"constant_value":"ALL"},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":0},{"address":"aws_internet_gateway.main","mode":"managed","type":"aws_internet_gateway","name":"main","provider_config_key":"aws","expressions":{"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":0},{"address":"aws_nat_gateway.main","mode":"managed","type":"aws_nat_gateway","name":"main","provider_config_key":"aws","expressions":{"allocation_id":{"references":["each.value.id","each.value"]},"subnet_id":{"references":["aws_subnet.public","each.key"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context","each.key"]}},"schema_version":0,"for_each_expression":{"references":["aws_eip.nat"]},"depends_on":["aws_internet_gateway.main"]},{"address":"aws_network_acl.private","mode":"managed","type":"aws_network_acl","name":"private","provider_config_key":"aws","expressions":{"egress":{"references":["aws_vpc.main.cidr_block","aws_vpc.main"]},"ingress":{"references":["aws_vpc.main.cidr_block","aws_vpc.main"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":0},{"address":"aws_network_acl.public","mode":"managed","type":"aws_network_acl","name":"public","provider_config_key":"aws","expressions":{"egress":{"constant_value":[{"action":"allow","cidr_block":"0.0.0.0/0","from_port":0,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":null,"protocol":"tcp","rule_no":100,"to_port":65535}]},"ingress":{"constant_value":[{"action":"allow","cidr_block":"0.0.0.0/0","from_port":80,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":null,"protocol":"tcp","rule_no":100,"to_port":80},{"action":"allow","cidr_block":"0.0.0.0/0","from_port":443,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":null,"protocol":"tcp","rule_no":110,"to_port":443},{"action":"allow","cidr_block":"0.0.0.0/0","from_port":1024,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":null,"protocol":"tcp","rule_no":120,"to_port":65535},{"action":"deny","cidr_block":"0.0.0.0/0","from_port":3389,"icmp_code":null,"icmp_type":null,"ipv6_cidr_block":null,"protocol":"tcp","rule_no":90,"to_port":3389}]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":0},{"address":"aws_network_acl_association.private","mode":"managed","type":"aws_network_acl_association","name":"private","provider_config_key":"aws","expressions":{"network_acl_id":{"references":["aws_network_acl.private.id","aws_network_acl.private"]},"subnet_id":{"references":["each.value.id","each.value"]}},"schema_version":0,"for_each_expression":{"references":["aws_subnet.private"]}},{"address":"aws_network_acl_association.public","mode":"managed","type":"aws_network_acl_association","name":"public","provider_config_key":"aws","expressions":{"network_acl_id":{"references":["aws_network_acl.public.id","aws_network_acl.public"]},"subnet_id":{"references":["each.value.id","each.value"]}},"schema_version":0,"for_each_expression":{"references":["aws_subnet.public"]}},{"address":"aws_route_table.private","mode":"managed","type":"aws_route_table","name":"private","provider_config_key":"aws","expressions":{"route":{"references":["each.value.id","each.value"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context","each.key"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":0,"for_each_expression":{"references":["aws_nat_gateway.main"]}},{"address":"aws_route_table.public","mode":"managed","type":"aws_route_table","name":"public","provider_config_key":"aws","expressions":{"route":{"references":["aws_internet_gateway.main.id","aws_internet_gateway.main"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":0},{"address":"aws_route_table_association.private","mode":"managed","type":"aws_route_table_association","name":"private","provider_config_key":"aws","expressions":{"route_table_id":{"references":["var.context.environment","var.context","aws_route_table.private","each.key","aws_route_table.private","aws_nat_gateway.main"]},"subnet_id":{"references":["each.value.id","each.value"]}},"schema_version":0,"for_each_expression":{"references":["aws_subnet.private"]}},{"address":"aws_route_table_association.public","mode":"managed","type":"aws_route_table_association","name":"public","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.public.id","aws_route_table.public"]},"subnet_id":{"references":["each.value.id","each.value"]}},"schema_version":0,"for_each_expression":{"references":["aws_subnet.public"]}},{"address":"aws_security_group.main","mode":"managed","type":"aws_security_group","name":"main","provider_config_key":"aws","expressions":{"description":{"references":["each.value"]},"name":{"references":["var.context.name_prefix","var.context","each.key"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context","each.key"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1,"for_each_expression":{"references":["local.security_groups"]}},{"address":"aws_subnet.private","mode":"managed","type":"aws_subnet","name":"private","provider_config_key":"aws","expressions":{"availability_zone":{"references":["each.value"]},"cidr_block":{"references":["local.private_cidrs","each.key"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context","each.key"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1,"for_each_expression":{"references":["local.availability_zones"]}},{"address":"aws_subnet.public","mode":"managed","type":"aws_subnet","name":"public","provider_config_key":"aws","expressions":{"availability_zone":{"references":["each.value"]},"cidr_block":{"references":["local.public_cidrs","each.key"]},"map_public_ip_on_launch":{"constant_value":false},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context","each.key"]},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":1,"for_each_expression":{"references":["local.availability_zones"]}},{"address":"aws_vpc.main","mode":"managed","type":"aws_vpc","name":"main","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.vpc_cidr"]},"enable_dns_hostnames":{"constant_value":true},"enable_dns_support":{"constant_value":true},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":1},{"address":"aws_vpc_endpoint.gateway","mode":"managed","type":"aws_vpc_endpoint","name":"gateway","provider_config_key":"aws","expressions":{"policy":{"references":["each.key","var.context.name_prefix","var.context","var.context.name_prefix","var.context"]},"route_table_ids":{"references":["aws_route_table.private"]},"service_name":{"references":["var.context.aws_region","var.context","each.key"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context","each.key"]},"vpc_endpoint_type":{"constant_value":"Gateway"},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":0},{"address":"aws_vpc_endpoint.interface","mode":"managed","type":"aws_vpc_endpoint","name":"interface","provider_config_key":"aws","expressions":{"private_dns_enabled":{"constant_value":true},"security_group_ids":{"references":["aws_security_group.main[\"vpc_endpoints\"].id","aws_security_group.main[\"vpc_endpoints\"]","aws_security_group.main"]},"service_name":{"references":["var.context.aws_region","var.context","each.key"]},"subnet_ids":{"references":["aws_subnet.private"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context","each.key"]},"vpc_endpoint_type":{"constant_value":"Interface"},"vpc_id":{"references":["aws_vpc.main.id","aws_vpc.main"]}},"schema_version":0},{"address":"aws_vpc_security_group_egress_rule.fargate_http_to_internet","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"fargate_http_to_internet","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"description":{"constant_value":"Egress to Internet for web scraping (HTTP)"},"from_port":{"constant_value":80},"ip_protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.main[\"fargate\"].id","aws_security_group.main[\"fargate\"]","aws_security_group.main"]},"to_port":{"constant_value":80}},"schema_version":0},{"address":"aws_vpc_security_group_egress_rule.fargate_https_to_internet","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"fargate_https_to_internet","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"description":{"constant_value":"Egress to Internet for web scraping (HTTPS)"},"from_port":{"constant_value":443},"ip_protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.main[\"fargate\"].id","aws_security_group.main[\"fargate\"]","aws_security_group.main"]},"to_port":{"constant_value":443}},"schema_version":0},{"address":"aws_vpc_security_group_egress_rule.fargate_to_vpc_endpoints","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"fargate_to_vpc_endpoints","provider_config_key":"aws","expressions":{"description":{"constant_value":"Egress to VPC Endpoints"},"from_port":{"constant_value":443},"ip_protocol":{"constant_value":"tcp"},"referenced_security_group_id":{"references":["aws_security_group.main[\"vpc_endpoints\"].id","aws_security_group.main[\"vpc_endpoints\"]","aws_security_group.main"]},"security_group_id":{"references":["aws_security_group.main[\"fargate\"].id","aws_security_group.main[\"fargate\"]","aws_security_group.main"]},"to_port":{"constant_value":443}},"schema_version":0},{"address":"aws_vpc_security_group_egress_rule.lambda_internet_https_to_internet","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"lambda_internet_https_to_internet","provider_config_key":"aws","expressions":{"cidr_ipv4":{"constant_value":"0.0.0.0/0"},"description":{"constant_value":"Egress to Internet for web scraping functions"},"from_port":{"constant_value":443},"ip_protocol":{"constant_value":"tcp"},"security_group_id":{"references":["aws_security_group.main[\"lambda_internet\"].id","aws_security_group.main[\"lambda_internet\"]","aws_security_group.main"]},"to_port":{"constant_value":443}},"schema_version":0},{"address":"aws_vpc_security_group_egress_rule.lambdas_to_opensearch","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"lambdas_to_opensearch","provider_config_key":"aws","expressions":{"description":{"constant_value":"Egress to OpenSearch"},"from_port":{"constant_value":443},"ip_protocol":{"constant_value":"tcp"},"referenced_security_group_id":{"references":["aws_security_group.main[\"opensearch\"].id","aws_security_group.main[\"opensearch\"]","aws_security_group.main"]},"security_group_id":{"references":["aws_security_group.main","each.key"]},"to_port":{"constant_value":443}},"schema_version":0},{"address":"aws_vpc_security_group_egress_rule.lambdas_to_vpc_endpoints","mode":"managed","type":"aws_vpc_security_group_egress_rule","name":"lambdas_to_vpc_endpoints","provider_config_key":"aws","expressions":{"description":{"constant_value":"Egress to VPC Endpoints"},"from_port":{"constant_value":443},"ip_protocol":{"constant_value":"tcp"},"referenced_security_group_id":{"references":["aws_security_group.main[\"vpc_endpoints\"].id","aws_security_group.main[\"vpc_endpoints\"]","aws_security_group.main"]},"security_group_id":{"references":["aws_security_group.main","each.key"]},"to_port":{"constant_value":443}},"schema_version":0},{"address":"aws_vpc_security_group_ingress_rule.opensearch_from_lambdas","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"opensearch_from_lambdas","provider_config_key":"aws","expressions":{"description":{"references":["each.key"]},"from_port":{"constant_value":443},"ip_protocol":{"constant_value":"tcp"},"referenced_security_group_id":{"references":["aws_security_group.main","each.key"]},"security_group_id":{"references":["aws_security_group.main[\"opensearch\"].id","aws_security_group.main[\"opensearch\"]","aws_security_group.main"]},"to_port":{"constant_value":443}},"schema_version":0},{"address":"aws_vpc_security_group_ingress_rule.vpc_endpoints_from_fargate","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"vpc_endpoints_from_fargate","provider_config_key":"aws","expressions":{"description":{"constant_value":"HTTPS from Fargate tasks"},"from_port":{"constant_value":443},"ip_protocol":{"constant_value":"tcp"},"referenced_security_group_id":{"references":["aws_security_group.main[\"fargate\"].id","aws_security_group.main[\"fargate\"]","aws_security_group.main"]},"security_group_id":{"references":["aws_security_group.main[\"vpc_endpoints\"].id","aws_security_group.main[\"vpc_endpoints\"]","aws_security_group.main"]},"to_port":{"constant_value":443}},"schema_version":0},{"address":"aws_vpc_security_group_ingress_rule.vpc_endpoints_from_lambdas","mode":"managed","type":"aws_vpc_security_group_ingress_rule","name":"vpc_endpoints_from_lambdas","provider_config_key":"aws","expressions":{"description":{"references":["each.key"]},"from_port":{"constant_value":443},"ip_protocol":{"constant_value":"tcp"},"referenced_security_group_id":{"references":["aws_security_group.main","each.key"]},"security_group_id":{"references":["aws_security_group.main[\"vpc_endpoints\"].id","aws_security_group.main[\"vpc_endpoints\"]","aws_security_group.main"]},"to_port":{"constant_value":443}},"schema_version":0}],"variables":{"availability_zones":{"description":"List of availability zones to use"},"context":{"description":"A single object containing all shared configuration values."},"kms_key_logs_arn":{"description":"ARN of the KMS key for CloudWatch logs encryption"},"vpc_cidr":{"default":"10.0.0.0/16","description":"CIDR block for the VPC"},"vpc_flow_logs_bucket_arn":{"description":"ARN of the VPC Flow Logs S3 bucket (from log-storage module in Audit Account)"}}}},"search":{"source":"../../modules/10-search","expressions":{"context":{"references":["local.context"]},"kms_key_logs_arn":{"references":["module.audit_foundation.kms_key_logs_arn","module.audit_foundation"]},"kms_key_main_arn":{"references":["module.foundation.kms_key_main_arn","module.foundation"]},"lambda_role_arns":{"references":["module.iam.lambda_role_arns","module.iam"]},"opensearch_instance_count":{"references":["var.opensearch_instance_count"]},"opensearch_instance_type":{"references":["var.opensearch_instance_type"]},"opensearch_master_instance_count":{"references":["var.opensearch_master_instance_count"]},"opensearch_master_instance_type":{"references":["var.opensearch_master_instance_type"]},"opensearch_master_password":{"references":["module.foundation.opensearch_master_password","module.foundation"]},"opensearch_security_group_id":{"references":["module.networking.opensearch_security_group_id","module.networking"]},"private_subnet_ids":{"references":["module.networking.private_subnet_ids","module.networking"]}},"module":{"outputs":{"audit_log_group_arn":{"expression":{"references":["aws_cloudwatch_log_group.opensearch_audit.arn","aws_cloudwatch_log_group.opensearch_audit"]},"description":"ARN of the OpenSearch audit log group"},"audit_log_group_name":{"expression":{"references":["aws_cloudwatch_log_group.opensearch_audit.name","aws_cloudwatch_log_group.opensearch_audit"]},"description":"Name of the OpenSearch audit log group"},"dashboard_endpoint":{"expression":{"references":["aws_opensearch_domain.main.dashboard_endpoint","aws_opensearch_domain.main"]},"description":"Domain-specific endpoint for OpenSearch Dashboards without https scheme"},"domain_arn":{"expression":{"references":["aws_opensearch_domain.main.arn","aws_opensearch_domain.main"]},"description":"ARN of the OpenSearch domain"},"domain_endpoint":{"expression":{"references":["aws_opensearch_domain.main.endpoint","aws_opensearch_domain.main"]},"description":"Domain-specific endpoint used to submit index, search, and data upload requests"},"domain_id":{"expression":{"references":["aws_opensearch_domain.main.domain_id","aws_opensearch_domain.main"]},"description":"ID of the OpenSearch domain"},"domain_name":{"expression":{"references":["aws_opensearch_domain.main.domain_name","aws_opensearch_domain.main"]},"description":"Name of the OpenSearch domain"},"engine_version":{"expression":{"references":["aws_opensearch_domain.main.engine_version","aws_opensearch_domain.main"]},"description":"OpenSearch engine version"},"kibana_endpoint":{"expression":{"references":["aws_opensearch_domain.main.dashboard_endpoint","aws_opensearch_domain.main"]},"description":"Domain-specific endpoint for Kibana without https scheme (deprecated, use dashboard_endpoint)"},"master_user_name":{"expression":{"constant_value":"admin"},"description":"Master user name for OpenSearch"},"slow_index_log_group_arn":{"expression":{"references":["aws_cloudwatch_log_group.opensearch_slow_index.arn","aws_cloudwatch_log_group.opensearch_slow_index"]},"description":"ARN of the OpenSearch slow index log group"},"slow_index_log_group_name":{"expression":{"references":["aws_cloudwatch_log_group.opensearch_slow_index.name","aws_cloudwatch_log_group.opensearch_slow_index"]},"description":"Name of the OpenSearch slow index log group"},"slow_search_log_group_arn":{"expression":{"references":["aws_cloudwatch_log_group.opensearch_slow_search.arn","aws_cloudwatch_log_group.opensearch_slow_search"]},"description":"ARN of the OpenSearch slow search log group"},"slow_search_log_group_name":{"expression":{"references":["aws_cloudwatch_log_group.opensearch_slow_search.name","aws_cloudwatch_log_group.opensearch_slow_search"]},"description":"Name of the OpenSearch slow search log group"}},"resources":[{"address":"aws_cloudwatch_log_group.opensearch_audit","mode":"managed","type":"aws_cloudwatch_log_group","name":"opensearch_audit","provider_config_key":"aws.infra_primary","expressions":{"kms_key_id":{"references":["var.kms_key_logs_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"retention_in_days":{"references":["var.context.log_retention_days","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_cloudwatch_log_group.opensearch_slow_index","mode":"managed","type":"aws_cloudwatch_log_group","name":"opensearch_slow_index","provider_config_key":"aws.infra_primary","expressions":{"kms_key_id":{"references":["var.kms_key_logs_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"retention_in_days":{"references":["var.context.log_retention_days","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_cloudwatch_log_group.opensearch_slow_search","mode":"managed","type":"aws_cloudwatch_log_group","name":"opensearch_slow_search","provider_config_key":"aws.infra_primary","expressions":{"kms_key_id":{"references":["var.kms_key_logs_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"retention_in_days":{"references":["var.context.log_retention_days","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_iam_service_linked_role.opensearch","mode":"managed","type":"aws_iam_service_linked_role","name":"opensearch","provider_config_key":"aws.infra_primary","expressions":{"aws_service_name":{"constant_value":"opensearchserverless.amazonaws.com"},"description":{"constant_value":"Service-linked role for OpenSearch"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_opensearch_domain.main","mode":"managed","type":"aws_opensearch_domain","name":"main","provider_config_key":"aws.infra_primary","expressions":{"access_policies":{"references":["var.context.infra_account_id","var.context","var.context.aws_region","var.context","var.context.infra_account_id","var.context","local.opensearch_domain_name"]},"advanced_security_options":[{"anonymous_auth_enabled":{"constant_value":false},"enabled":{"constant_value":true},"internal_user_database_enabled":{"constant_value":true},"master_user_options":[{"master_user_name":{"constant_value":"admin"},"master_user_password":{"references":["var.opensearch_master_password"]}}]}],"cluster_config":[{"dedicated_master_count":{"references":["local.opensearch_config.enable_dedicated_master","local.opensearch_config","local.opensearch_config.master_instance_count","local.opensearch_config"]},"dedicated_master_enabled":{"references":["local.opensearch_config.enable_dedicated_master","local.opensearch_config"]},"dedicated_master_type":{"references":["local.opensearch_config.enable_dedicated_master","local.opensearch_config","local.opensearch_config.master_instance_type","local.opensearch_config"]},"instance_count":{"references":["local.opensearch_config.instance_count","local.opensearch_config"]},"instance_type":{"references":["local.opensearch_config.instance_type","local.opensearch_config"]},"zone_awareness_enabled":{"references":["local.opensearch_config.enable_zone_awareness","local.opensearch_config"]}}],"domain_endpoint_options":[{"enforce_https":{"constant_value":true},"tls_security_policy":{"constant_value":"Policy-Min-TLS-1-2-2019-07"}}],"domain_name":{"references":["local.opensearch_domain_name"]},"ebs_options":[{"ebs_enabled":{"constant_value":true},"iops":{"constant_value":3000,"references":["var.context.environment","var.context"]},"throughput":{"references":["var.context.environment","var.context"]},"volume_size":{"references":["var.context.environment","var.context"]},"volume_type":{"constant_value":"gp3"}}],"encrypt_at_rest":[{"enabled":{"constant_value":true},"kms_key_id":{"references":["var.kms_key_main_arn"]}}],"engine_version":{"constant_value":"OpenSearch_2.3"},"log_publishing_options":[{"cloudwatch_log_group_arn":{"references":["aws_cloudwatch_log_group.opensearch_audit.arn","aws_cloudwatch_log_group.opensearch_audit"]},"enabled":{"constant_value":true},"log_type":{"constant_value":"AUDIT_LOGS"}},{"cloudwatch_log_group_arn":{"references":["aws_cloudwatch_log_group.opensearch_slow_search.arn","aws_cloudwatch_log_group.opensearch_slow_search"]},"enabled":{"references":["var.context.enable_advanced_monitoring","var.context"]},"log_type":{"constant_value":"SEARCH_SLOW_LOGS"}},{"cloudwatch_log_group_arn":{"references":["aws_cloudwatch_log_group.opensearch_slow_index.arn","aws_cloudwatch_log_group.opensearch_slow_index"]},"enabled":{"references":["var.context.enable_advanced_monitoring","var.context"]},"log_type":{"constant_value":"INDEX_SLOW_LOGS"}}],"node_to_node_encryption":[{"enabled":{"constant_value":true}}],"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"vpc_options":[{"security_group_ids":{"references":["var.opensearch_security_group_id"]},"subnet_ids":{"references":["var.private_subnet_ids"]}}]},"schema_version":0,"depends_on":["aws_iam_service_linked_role.opensearch","aws_cloudwatch_log_group.opensearch_audit","aws_cloudwatch_log_group.opensearch_slow_search","aws_cloudwatch_log_group.opensearch_slow_index"]},{"address":"aws_opensearch_domain_policy.main","mode":"managed","type":"aws_opensearch_domain_policy","name":"main","provider_config_key":"aws.infra_primary","expressions":{"access_policies":{"references":["var.lambda_role_arns","aws_opensearch_domain.main.arn","aws_opensearch_domain.main","aws_cloudwatch_log_group.opensearch_audit.arn","aws_cloudwatch_log_group.opensearch_audit","aws_cloudwatch_log_group.opensearch_slow_search.arn","aws_cloudwatch_log_group.opensearch_slow_search","aws_cloudwatch_log_group.opensearch_slow_index.arn","aws_cloudwatch_log_group.opensearch_slow_index","aws_opensearch_domain.main.arn","aws_opensearch_domain.main"]},"domain_name":{"references":["aws_opensearch_domain.main.domain_name","aws_opensearch_domain.main"]}},"schema_version":0}],"variables":{"context":{"description":"A single object containing all shared configuration values."},"kms_key_logs_arn":{"description":"ARN of the logs KMS key for encrypting OpenSearch logs."},"kms_key_main_arn":{"description":"ARN of the main KMS key for encrypting OpenSearch data at rest."},"lambda_role_arns":{"default":[],"description":"List of Lambda role ARNs that need access to the OpenSearch domain."},"opensearch_instance_count":{"description":"The number of data nodes in the OpenSearch cluster."},"opensearch_instance_type":{"description":"The instance type for the OpenSearch data nodes."},"opensearch_master_instance_count":{"description":"The number of dedicated master nodes in the OpenSearch cluster."},"opensearch_master_instance_type":{"description":"The instance type for the OpenSearch dedicated master nodes."},"opensearch_master_password":{"description":"The password for the master user of the OpenSearch domain.","sensitive":true},"opensearch_security_group_id":{"description":"The ID of the security group to associate with the OpenSearch domain's VPC endpoint."},"private_subnet_ids":{"description":"List of private subnet IDs to launch the OpenSearch cluster in."}}}},"security_monitoring":{"source":"../../modules/14-security-monitoring","expressions":{"cloudtrail_log_group_name":{"references":["module.governance.cloudtrail_log_group_name","module.governance"]},"context":{"references":["local.context"]},"enable_cloudtrail_monitoring":{"constant_value":true},"enable_config_monitoring":{"constant_value":true},"guardduty_detector_id":{"references":["module.central_security.guardduty_detector_id","module.central_security"]},"kms_key_logs_arn":{"references":["module.audit_foundation.kms_key_logs_arn","module.audit_foundation"]}},"module":{"outputs":{"security_alarm_arns":{"expression":{"references":["var.enable_guardduty_monitoring","aws_cloudwatch_metric_alarm.guardduty_findings[0].arn","aws_cloudwatch_metric_alarm.guardduty_findings[0]","aws_cloudwatch_metric_alarm.guardduty_findings","var.enable_config_monitoring","aws_cloudwatch_metric_alarm.config_compliance[0].arn","aws_cloudwatch_metric_alarm.config_compliance[0]","aws_cloudwatch_metric_alarm.config_compliance","var.enable_cloudtrail_monitoring","aws_cloudwatch_metric_alarm.cloudtrail_errors[0].arn","aws_cloudwatch_metric_alarm.cloudtrail_errors[0]","aws_cloudwatch_metric_alarm.cloudtrail_errors","var.cloudtrail_log_group_name","aws_cloudwatch_metric_alarm.cloudtrail_security_alerts[0].arn","aws_cloudwatch_metric_alarm.cloudtrail_security_alerts[0]","aws_cloudwatch_metric_alarm.cloudtrail_security_alerts"]},"description":"Map of security CloudWatch alarm ARNs"},"security_alerts_topic_arn":{"expression":{"references":["aws_sns_topic.security_alerts.arn","aws_sns_topic.security_alerts"]},"description":"ARN of the security alerts SNS topic"},"security_log_insights_query_arns":{"expression":{"references":["var.cloudtrail_log_group_name","aws_cloudwatch_query_definition.security_events[0].query_definition_id","aws_cloudwatch_query_definition.security_events[0]","aws_cloudwatch_query_definition.security_events","aws_cloudwatch_query_definition.failed_logins[0].query_definition_id","aws_cloudwatch_query_definition.failed_logins[0]","aws_cloudwatch_query_definition.failed_logins","aws_cloudwatch_query_definition.root_usage[0].query_definition_id","aws_cloudwatch_query_definition.root_usage[0]","aws_cloudwatch_query_definition.root_usage"]},"description":"Map of security CloudWatch Log Insights query ARNs"}},"resources":[{"address":"aws_cloudwatch_log_metric_filter.cloudtrail_security_alerts","mode":"managed","type":"aws_cloudwatch_log_metric_filter","name":"cloudtrail_security_alerts","provider_config_key":"aws.audit_primary","expressions":{"log_group_name":{"references":["var.cloudtrail_log_group_name"]},"metric_transformation":[{"name":{"constant_value":"CloudTrailSecurityAlerts"},"namespace":{"references":["var.context.project_name","var.context"]},"value":{"constant_value":"1"}}],"name":{"references":["var.context.name_prefix","var.context"]},"pattern":{"constant_value":"{ ($.errorCode = \"*UnauthorizedOperation\") || ($.errorCode = \"AccessDenied*\") || ($.sourceIPAddress != \"AWS Internal\") }"}},"schema_version":0,"count_expression":{"references":["var.cloudtrail_log_group_name"]}},{"address":"aws_cloudwatch_metric_alarm.cloudtrail_errors","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"cloudtrail_errors","provider_config_key":"aws.audit_primary","expressions":{"alarm_actions":{"references":["aws_sns_topic.security_alerts.arn","aws_sns_topic.security_alerts"]},"alarm_description":{"constant_value":"This metric monitors CloudTrail log errors"},"alarm_name":{"references":["var.context.name_prefix","var.context"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"evaluation_periods":{"constant_value":"1"},"metric_name":{"constant_value":"ErrorCount"},"namespace":{"constant_value":"CloudWatchLogs"},"period":{"constant_value":"300"},"statistic":{"constant_value":"Sum"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"threshold":{"constant_value":"0"}},"schema_version":1,"count_expression":{"references":["var.enable_cloudtrail_monitoring"]}},{"address":"aws_cloudwatch_metric_alarm.cloudtrail_security_alerts","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"cloudtrail_security_alerts","provider_config_key":"aws.audit_primary","expressions":{"alarm_actions":{"references":["aws_sns_topic.security_alerts.arn","aws_sns_topic.security_alerts"]},"alarm_description":{"constant_value":"This metric monitors security-related events in CloudTrail (e.g., Unauthorized)"},"alarm_name":{"references":["var.context.name_prefix","var.context"]},"comparison_operator":{"constant_value":"GreaterThanOrEqualToThreshold"},"evaluation_periods":{"constant_value":"1"},"metric_name":{"references":["aws_cloudwatch_log_metric_filter.cloudtrail_security_alerts[0].metric_transformation[0].name","aws_cloudwatch_log_metric_filter.cloudtrail_security_alerts[0].metric_transformation[0]","aws_cloudwatch_log_metric_filter.cloudtrail_security_alerts[0].metric_transformation","aws_cloudwatch_log_metric_filter.cloudtrail_security_alerts[0]","aws_cloudwatch_log_metric_filter.cloudtrail_security_alerts"]},"namespace":{"references":["aws_cloudwatch_log_metric_filter.cloudtrail_security_alerts[0].metric_transformation[0].namespace","aws_cloudwatch_log_metric_filter.cloudtrail_security_alerts[0].metric_transformation[0]","aws_cloudwatch_log_metric_filter.cloudtrail_security_alerts[0].metric_transformation","aws_cloudwatch_log_metric_filter.cloudtrail_security_alerts[0]","aws_cloudwatch_log_metric_filter.cloudtrail_security_alerts"]},"period":{"constant_value":"300"},"statistic":{"constant_value":"Sum"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"threshold":{"constant_value":"1"}},"schema_version":1,"count_expression":{"references":["var.cloudtrail_log_group_name"]}},{"address":"aws_cloudwatch_metric_alarm.config_compliance","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"config_compliance","provider_config_key":"aws.audit_primary","expressions":{"alarm_actions":{"references":["aws_sns_topic.security_alerts.arn","aws_sns_topic.security_alerts"]},"alarm_description":{"constant_value":"This metric monitors AWS Config compliance"},"alarm_name":{"references":["var.context.name_prefix","var.context"]},"comparison_operator":{"constant_value":"LessThanThreshold"},"evaluation_periods":{"constant_value":"2"},"metric_name":{"constant_value":"ComplianceByConfigRule"},"namespace":{"constant_value":"AWS/Config"},"period":{"constant_value":"300"},"statistic":{"constant_value":"Average"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"threshold":{"constant_value":"1"}},"schema_version":1,"count_expression":{"references":["var.enable_config_monitoring"]}},{"address":"aws_cloudwatch_metric_alarm.guardduty_findings","mode":"managed","type":"aws_cloudwatch_metric_alarm","name":"guardduty_findings","provider_config_key":"aws.audit_primary","expressions":{"alarm_actions":{"references":["aws_sns_topic.security_alerts.arn","aws_sns_topic.security_alerts"]},"alarm_description":{"constant_value":"This metric monitors GuardDuty findings"},"alarm_name":{"references":["var.context.name_prefix","var.context"]},"comparison_operator":{"constant_value":"GreaterThanThreshold"},"dimensions":{"references":["var.guardduty_detector_id"]},"evaluation_periods":{"constant_value":"1"},"metric_name":{"constant_value":"FindingCount"},"namespace":{"constant_value":"AWS/GuardDuty"},"period":{"constant_value":"300"},"statistic":{"constant_value":"Sum"},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]},"threshold":{"constant_value":"0"}},"schema_version":1,"count_expression":{"references":["var.enable_guardduty_monitoring"]}},{"address":"aws_cloudwatch_query_definition.failed_logins","mode":"managed","type":"aws_cloudwatch_query_definition","name":"failed_logins","provider_config_key":"aws.audit_primary","expressions":{"log_group_names":{"references":["var.cloudtrail_log_group_name"]},"name":{"references":["var.context.name_prefix","var.context"]},"query_string":{"constant_value":"fields @timestamp, @message, sourceIPAddress, userIdentity, errorCode, errorMessage\r\n| filter errorCode = \"SigninFailure\" or errorCode = \"InvalidUserID.NotFound\"\r\n| sort @timestamp desc\r\n| limit 100\r\n"}},"schema_version":0,"count_expression":{"references":["var.cloudtrail_log_group_name"]}},{"address":"aws_cloudwatch_query_definition.root_usage","mode":"managed","type":"aws_cloudwatch_query_definition","name":"root_usage","provider_config_key":"aws.audit_primary","expressions":{"log_group_names":{"references":["var.cloudtrail_log_group_name"]},"name":{"references":["var.context.name_prefix","var.context"]},"query_string":{"constant_value":"fields @timestamp, @message, sourceIPAddress, userIdentity, eventName\r\n| filter userIdentity.type = \"Root\"\r\n| sort @timestamp desc\r\n| limit 100\r\n"}},"schema_version":0,"count_expression":{"references":["var.cloudtrail_log_group_name"]}},{"address":"aws_cloudwatch_query_definition.security_events","mode":"managed","type":"aws_cloudwatch_query_definition","name":"security_events","provider_config_key":"aws.audit_primary","expressions":{"log_group_names":{"references":["var.cloudtrail_log_group_name"]},"name":{"references":["var.context.name_prefix","var.context"]},"query_string":{"constant_value":"fields @timestamp, @message, sourceIPAddress, userIdentity.type, eventName\r\n| filter eventName like /Delete/ or eventName like /Create/ or eventName like /Put/\r\n| sort @timestamp desc\r\n| limit 100\r\n"}},"schema_version":0,"count_expression":{"references":["var.cloudtrail_log_group_name"]}},{"address":"aws_sns_topic.security_alerts","mode":"managed","type":"aws_sns_topic","name":"security_alerts","provider_config_key":"aws.audit_primary","expressions":{"kms_master_key_id":{"references":["var.kms_key_logs_arn"]},"name":{"references":["var.context.name_prefix","var.context"]},"tags":{"references":["var.context.common_tags","var.context","var.context.name_prefix","var.context"]}},"schema_version":0},{"address":"aws_sns_topic_subscription.security_email","mode":"managed","type":"aws_sns_topic_subscription","name":"security_email","provider_config_key":"aws.audit_primary","expressions":{"endpoint":{"references":["var.context.notification_email","var.context"]},"protocol":{"constant_value":"email"},"topic_arn":{"references":["aws_sns_topic.security_alerts.arn","aws_sns_topic.security_alerts"]}},"schema_version":0,"count_expression":{"references":["var.context.notification_email","var.context"]}}],"variables":{"cloudtrail_log_group_name":{"default":"","description":"Name of the CloudTrail log group for security monitoring"},"context":{"description":"A single object containing all shared configuration values."},"enable_cloudtrail_monitoring":{"default":true,"description":"Enable CloudTrail error monitoring"},"enable_config_monitoring":{"default":true,"description":"Enable AWS Config compliance monitoring"},"enable_guardduty_monitoring":{"default":false,"description":"Enable AWS GuardDuty findings monitoring. Requires guardduty_detector_id to be set."},"guardduty_detector_id":{"default":"","description":"ID of the GuardDuty detector"},"kms_key_logs_arn":{"description":"ARN of the logs KMS key for encryption"}}}}},"variables":{"allowed_countries":{"default":["GB"],"description":"List of country codes allowed to access the CloudFront distribution"},"api_cors_allowed_origins":{"default":["http://localhost:3000","https://dev.yourapp.com"],"description":"A list of allowed origins for API Gateway CORS configuration."},"app_version":{"description":"The application version, e.g., a git commit hash or release tag."},"audit_account_id":{"description":"AWS Account ID for the Audit Account"},"aws_region":{"default":"eu-west-2","description":"AWS region for resources"},"backup_enabled":{"default":true,"description":"Flag to enable/disable the AWS Backup plan."},"backup_retention_days":{"default":7,"description":"Number of days to retain backups"},"common_tags":{"default":{},"description":"A map of common tags to apply to all resources. These tags will be merged with the default tags and will override them if a key is duplicated."},"cost_centre":{"description":"The chargeable cost centre for resources."},"default_data_classification":{"default":"Internal","description":"The default data classification for resources."},"domain_name":{"default":"","description":"Custom domain name for the CloudFront distribution (optional)"},"enable_advanced_monitoring":{"default":true,"description":"Flag to enable enhanced/detailed monitoring for services like EC2 \u0026 OpenSearch."},"enable_cloudtrail_insights":{"default":true,"description":"Flag to enable CloudTrail Insights for detecting unusual API activity."},"enable_config_remediation":{"default":false,"description":"Flag to enable automatic remediation for non-compliant AWS Config rules."},"enable_conformance_packs":{"default":true,"description":"Flag to enable AWS Config conformance packs for compliance checking."},"enable_cross_region_replication":{"default":false,"description":"Enable cross-region replication for critical resources (CloudTrail logs, backups)"},"enable_deletion_protection":{"default":false,"description":"Flag to enable deletion protection on critical resources like databases."},"environment":{"description":"Environment name (dev, prod)"},"infra_account_id":{"description":"AWS Account ID for the Infrastructure Account"},"lambda_memory_size":{"default":256,"description":"The amount of memory in MB to allocate to the Lambda functions."},"log_archive_account_id":{"description":"AWS Account ID for the Log Archive Account"},"log_retention_days":{"default":14,"description":"The number of days to retain CloudWatch logs."},"managed_by":{"default":"Terraform","description":"The management tool for a given resource."},"nat_gateway_count":{"description":"Number of NAT gateways to create."},"notification_email":{"default":"","description":"Email address for CloudWatch alarm notifications"},"opensearch_instance_count":{"default":1,"description":"The number of data nodes in the OpenSearch cluster."},"opensearch_instance_type":{"default":"t3.small.search","description":"The instance type for the OpenSearch data nodes."},"opensearch_master_instance_count":{"default":0,"description":"The number of dedicated master nodes in the OpenSearch cluster. Set to null to disable dedicated master nodes."},"opensearch_master_instance_type":{"default":"t3.small.search","description":"The instance type for the OpenSearch dedicated master nodes. Required if master_instance_count is not null."},"owner_email":{"description":"The email of the resource owner for billing and operational contact."},"project_name":{"description":"Project name for resource naming"},"replica_aws_region":{"default":"eu-west-1","description":"AWS region for cross-region replication (e.g., for CloudTrail, S3 backups)"},"scraper_image_tag":{"description":"The unique Docker image tag for the Fargate scraper task. It is strongly recommended to use the Git commit SHA for this value to ensure traceability and true immutability."}}}},"relevant_attributes":[{"resource":"module.app_storage.aws_s3_bucket.replica","attribute":[]},{"resource":"module.app_storage.aws_dynamodb_table.main","attribute":["arn"]},{"resource":"module.iam.aws_iam_role.lambda_queue_scraping","attribute":["arn"]},{"resource":"module.audit_foundation.aws_kms_key.logs","attribute":["arn"]},{"resource":"module.app_security.aws_wafv2_web_acl.enhanced_frontend","attribute":["id"]},{"resource":"module.backup.aws_backup_selection.dynamodb[0]","attribute":["id"]},{"resource":"module.central_logging.aws_iam_policy.firehose_waf","attribute":["arn"]},{"resource":"module.governance.aws_cloudwatch_log_group.cloudtrail","attribute":["name"]},{"resource":"module.central_security.aws_guardduty_detector.main","attribute":["id"]},{"resource":"module.security_monitoring.aws_cloudwatch_query_definition.root_usage[0]","attribute":["query_definition_id"]},{"resource":"module.central_logging.aws_kinesis_firehose_delivery_stream.waf_logs","attribute":["arn"]},{"resource":"module.backup.aws_backup_selection.ecs[0]","attribute":["id"]},{"resource":"module.compute.aws_cloudwatch_log_group.scraper","attribute":["arn"]},{"resource":"module.central_logging.aws_cloudwatch_log_group.security_tools","attribute":["name"]},{"resource":"module.app_monitoring.aws_cloudwatch_query_definition.lambda_errors","attribute":["query_definition_id"]},{"resource":"module.central_logging.aws_cloudwatch_log_group.incident_response","attribute":["arn"]},{"resource":"module.api.aws_apigatewayv2_api.main","attribute":["id"]},{"resource":"module.iam.aws_iam_role.lambda_find_artists","attribute":["arn"]},{"resource":"module.audit_governance.aws_iam_role.config_aggregator[0]","attribute":["id"]},{"resource":"module.iam.aws_iam_role.lambda_discover_studios","attribute":["name"]},{"resource":"module.compute.aws_cloudwatch_log_group.ecs_cluster","attribute":["arn"]},{"resource":"module.log_storage.aws_s3_bucket.main[\"cloudtrail\"]","attribute":["arn"]},{"resource":"module.api.aws_apigatewayv2_stage.main","attribute":["invoke_url"]},{"resource":"module.backup.aws_cloudwatch_metric_alarm.backup_job_expired[0]","attribute":["arn"]},{"resource":"module.log_storage.aws_s3_bucket.main[\"config\"]","attribute":["id"]},{"resource":"module.app_storage.aws_dynamodb_table.idempotency","attribute":["name"]},{"resource":"module.compute.data.aws_s3_object.lambda_artifacts[\"queue_scraping\"]","attribute":["version_id"]},{"resource":"module.foundation.data.aws_caller_identity.current","attribute":["account_id"]},{"resource":"module.log_storage.aws_s3_bucket.main[\"vpc_flow_logs\"]","attribute":["arn"]},{"resource":"module.log_storage.aws_s3_bucket.main[\"waf_logs\"]","attribute":["id"]},{"resource":"module.compute.aws_lambda_function.dynamodb_sync","attribute":[]},{"resource":"module.api.aws_apigatewayv2_stage.main","attribute":["name"]},{"resource":"module.app_monitoring.aws_cloudwatch_metric_alarm.api_gateway_4xx_errors","attribute":["arn"]},{"resource":"module.app_storage.aws_dynamodb_table.main","attribute":["stream_arn"]},{"resource":"module.app_storage.aws_s3_bucket.main","attribute":[]},{"resource":"module.app_storage.aws_s3_bucket.main[\"frontend_backup\"]","attribute":["arn"]},{"resource":"module.iam.aws_iam_role.lambda_queue_scraping","attribute":["name"]},{"resource":"module.networking.aws_network_acl.public","attribute":["id"]},{"resource":"module.api.aws_apigatewayv2_deployment.main[0]","attribute":["id"]},{"resource":"module.search.aws_opensearch_domain.main","attribute":["engine_version"]},{"resource":"module.governance.aws_cloudwatch_log_group.cloudtrail","attribute":["arn"]},{"resource":"module.compute.data.aws_s3_object.lambda_artifacts[\"find_artists\"]","attribute":["version_id"]},{"resource":"module.app_storage.aws_dynamodb_table.denylist","attribute":["arn"]},{"resource":"module.iam.aws_iam_role.ecs_task_execution","attribute":["name"]},{"resource":"module.iam.aws_iam_role.lambda_rotate_nat_gateway_eip","attribute":["name"]},{"resource":"module.networking.aws_acm_certificate.cloudfront[0]","attribute":["arn"]},{"resource":"module.audit_governance.aws_config_configuration_aggregator.organization[0]","attribute":["name"]},{"resource":"module.networking.aws_security_group.main[\"lambda_internet\"]","attribute":["arn"]},{"resource":"module.app_monitoring.aws_cloudwatch_metric_alarm.api_gateway_latency","attribute":["arn"]},{"resource":"module.delivery.data.aws_cloudfront_cache_policy.caching_disabled","attribute":["id"]},{"resource":"module.search.aws_opensearch_domain.main","attribute":["endpoint"]},{"resource":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_duration","attribute":[]},{"resource":"aws_iam_user.security_analyst","attribute":["arn"]},{"resource":"module.governance.aws_config_config_rule.managed_rules[\"s3-bucket-public-access-prohibited\"]","attribute":["name"]},{"resource":"module.app_storage.aws_sns_topic.s3_events","attribute":["arn"]},{"resource":"module.log_storage.aws_s3_bucket.main[\"access_logs\"]","attribute":["id"]},{"resource":"module.app_security.aws_secretsmanager_secret.app_secrets","attribute":["arn"]},{"resource":"module.central_logging.aws_cloudwatch_log_group.firehose_waf_errors","attribute":["arn"]},{"resource":"module.compute.aws_lambda_function.rotate_nat_gateway_eip","attribute":["arn"]},{"resource":"module.app_storage.aws_dynamodb_table.idempotency","attribute":["arn"]},{"resource":"module.app_storage.aws_s3_bucket.main[\"frontend\"]","attribute":["arn"]},{"resource":"module.foundation.random_password.app_secrets","attribute":["result"]},{"resource":"module.iam.data.aws_iam_policy.lambda_basic_execution","attribute":["arn"]},{"resource":"module.app_monitoring.aws_cloudwatch_query_definition.performance_analysis","attribute":["query_definition_id"]},{"resource":"module.networking.aws_vpc.main","attribute":["id"]},{"resource":"module.central_security.aws_iam_policy.log_reader","attribute":["arn"]},{"resource":"module.app_security.aws_wafv2_web_acl.enhanced_frontend","attribute":["arn"]},{"resource":"module.log_storage.data.aws_iam_policy_document.log_archive_key","attribute":["json"]},{"resource":"module.central_security.aws_accessanalyzer_analyzer.main","attribute":["arn"]},{"resource":"module.networking.aws_nat_gateway.main","attribute":[]},{"resource":"module.app_storage.aws_s3_bucket.main[\"frontend\"]","attribute":["id"]},{"resource":"module.compute.aws_lambda_function.discover_studios","attribute":[]},{"resource":"module.delivery.aws_cloudfront_response_headers_policy.security_headers","attribute":["id"]},{"resource":"module.log_storage.aws_kms_key.log_archive","attribute":["id"]},{"resource":"module.networking.aws_security_group.main[\"lambda_internal\"]","attribute":["arn"]},{"resource":"aws_ssm_parameter.lambda_artifacts_bucket_name","attribute":["arn"]},{"resource":"module.app_monitoring.aws_cloudwatch_dashboard.main","attribute":["dashboard_name"]},{"resource":"module.app_monitoring.aws_cloudwatch_query_definition.api_errors","attribute":["query_definition_id"]},{"resource":"module.compute.aws_sqs_queue.scraping_dlq","attribute":["arn"]},{"resource":"module.networking.aws_subnet.private","attribute":[]},{"resource":"module.central_logging.aws_cloudwatch_log_group.firehose_waf_errors","attribute":["name"]},{"resource":"module.compute.aws_iam_policy.dynamodb_sync_stream","attribute":["arn"]},{"resource":"module.app_monitoring.aws_cloudwatch_metric_alarm.dynamodb_throttles","attribute":["arn"]},{"resource":"module.compute.aws_lambda_function.discover_studios","attribute":["arn"]},{"resource":"module.app_storage.aws_s3_bucket.main[\"lambda_artifacts\"]","attribute":["arn"]},{"resource":"module.iam.aws_iam_role.config[0]","attribute":["arn"]},{"resource":"module.governance.aws_config_configuration_recorder.main[0]","attribute":["name"]},{"resource":"module.networking.aws_vpc.main","attribute":["cidr_block"]},{"resource":"module.central_logging.aws_cloudwatch_log_group.security_tools","attribute":["arn"]},{"resource":"module.networking.aws_route_table.private","attribute":[]},{"resource":"module.iam.aws_iam_role.ecs_task","attribute":["name"]},{"resource":"module.compute.aws_ecs_cluster.main","attribute":["id"]},{"resource":"module.api.aws_apigatewayv2_api.main","attribute":["execution_arn"]},{"resource":"module.compute.aws_lambda_function.rotate_nat_gateway_eip","attribute":["function_name"]},{"resource":"module.compute.aws_lambda_function.queue_scraping","attribute":["arn"]},{"resource":"module.delivery.data.aws_cloudfront_origin_request_policy.cors_s3_origin","attribute":["id"]},{"resource":"module.security_monitoring.aws_cloudwatch_metric_alarm.config_compliance[0]","attribute":["arn"]},{"resource":"module.search.aws_cloudwatch_log_group.opensearch_slow_search","attribute":["arn"]},{"resource":"module.delivery.aws_cloudfront_origin_access_control.frontend","attribute":["id"]},{"resource":"module.delivery.aws_cloudfront_distribution.frontend","attribute":["arn"]},{"resource":"module.networking.aws_flow_log.vpc","attribute":["id"]},{"resource":"module.central_security.aws_securityhub_account.main","attribute":["id"]},{"resource":"module.backup.aws_cloudwatch_metric_alarm.backup_job_failed[0]","attribute":["arn"]},{"resource":"module.foundation.aws_kms_key.main","attribute":["key_id"]},{"resource":"module.app_storage.aws_s3_bucket.main[\"frontend_backup\"]","attribute":["bucket_regional_domain_name"]},{"resource":"module.central_logging.aws_cloudwatch_log_group.api_gateway","attribute":["arn"]},{"resource":"module.log_storage.aws_s3_bucket.main[\"cloudtrail\"]","attribute":["id"]},{"resource":"module.app_monitoring.aws_cloudwatch_metric_alarm.lambda_errors","attribute":[]},{"resource":"module.compute.aws_lambda_function.api_handler","attribute":["arn"]},{"resource":"module.networking.aws_subnet.public","attribute":[]},{"resource":"module.security_monitoring.aws_cloudwatch_metric_alarm.cloudtrail_security_alerts[0]","attribute":["arn"]},{"resource":"module.app_monitoring.aws_cloudwatch_metric_alarm.opensearch_cluster_status","attribute":["arn"]},{"resource":"module.governance.aws_cloudtrail.main","attribute":["arn"]},{"resource":"module.app_monitoring.aws_cloudwatch_metric_alarm.api_gateway_5xx_errors","attribute":["arn"]},{"resource":"module.iam.aws_iam_role.step_functions","attribute":["arn"]},{"resource":"module.log_storage.aws_s3_bucket.replica","attribute":[]},{"resource":"module.app_monitoring.aws_cloudwatch_metric_alarm.dynamodb_errors","attribute":["arn"]},{"resource":"module.api.aws_apigatewayv2_integration.lambda","attribute":["id"]},{"resource":"module.security_monitoring.aws_cloudwatch_log_metric_filter.cloudtrail_security_alerts[0]","attribute":["metric_transformation",0,"name"]},{"resource":"module.compute.aws_iam_policy.find_artists_dynamodb","attribute":["arn"]},{"resource":"module.compute.aws_lambda_function_url.rotate_eip","attribute":["function_url"]},{"resource":"module.compute.data.aws_s3_object.lambda_artifacts[\"discover_studios\"]","attribute":["version_id"]},{"resource":"module.governance.aws_cloudwatch_dashboard.compliance[0]","attribute":["dashboard_name"]},{"resource":"module.app_monitoring.aws_sns_topic.warning_alerts","attribute":["arn"]},{"resource":"module.compute.aws_iam_policy.ecs_task_dynamodb","attribute":["arn"]},{"resource":"module.networking.aws_security_group.main","attribute":[]},{"resource":"module.compute.aws_lambda_function.find_artists","attribute":[]},{"resource":"module.networking.aws_route_table.public","attribute":["id"]},{"resource":"module.compute.aws_cloudwatch_log_group.scraper","attribute":["name"]},{"resource":"module.iam.aws_iam_policy.ecs_task","attribute":["arn"]},{"resource":"module.central_security.aws_guardduty_detector.main","attribute":["arn"]},{"resource":"module.compute.aws_iam_policy.discover_studios_dynamodb","attribute":["arn"]},{"resource":"module.compute.aws_lambda_function.api_handler","attribute":["invoke_arn"]},{"resource":"module.iam.data.aws_iam_policy.lambda_vpc_access_execution","attribute":["arn"]},{"resource":"module.compute.aws_lambda_function.find_artists","attribute":["arn"]},{"resource":"module.compute.aws_lambda_function.queue_scraping","attribute":[]},{"resource":"module.search.aws_cloudwatch_log_group.opensearch_audit","attribute":["arn"]},{"resource":"module.search.aws_opensearch_domain.main","attribute":["domain_id"]},{"resource":"module.iam.data.aws_iam_policy.config_role_policy","attribute":["arn"]},{"resource":"module.networking.aws_security_group.main[\"fargate\"]","attribute":["arn"]},{"resource":"module.app_security.aws_secretsmanager_secret.opensearch_master","attribute":["id"]},{"resource":"module.search.aws_opensearch_domain.main","attribute":["dashboard_endpoint"]},{"resource":"module.log_storage.aws_s3_bucket.main[\"config\"]","attribute":["arn"]},{"resource":"module.iam.aws_iam_policy.lambda_rotate_nat_gateway_eip","attribute":["arn"]},{"resource":"module.api.aws_apigatewayv2_api.main","attribute":["api_endpoint"]},{"resource":"module.audit_governance.aws_iam_role.config_aggregator[0]","attribute":["arn"]},{"resource":"module.iam.aws_iam_role.config[0]","attribute":["name"]},{"resource":"module.networking.aws_vpc_endpoint.gateway[\"s3\"]","attribute":["id"]},{"resource":"module.compute.aws_ecs_task_definition.scraper","attribute":["arn"]},{"resource":"module.app_security.aws_secretsmanager_secret.opensearch_master","attribute":["arn"]},{"resource":"module.iam.aws_iam_policy.lambda_api","attribute":["arn"]},{"resource":"module.search.aws_opensearch_domain.main","attribute":["domain_name"]},{"resource":"module.compute.aws_ecs_cluster.main","attribute":["name"]},{"resource":"module.compute.aws_ecs_cluster.main","attribute":["arn"]},{"resource":"module.security_monitoring.aws_cloudwatch_metric_alarm.guardduty_findings[0]","attribute":["arn"]},{"resource":"module.compute.aws_iam_policy.step_functions","attribute":["arn"]},{"resource":"module.compute.aws_lambda_function.rotate_nat_gateway_eip","attribute":[]},{"resource":"module.governance.aws_cloudtrail.main","attribute":["name"]},{"resource":"module.app_monitoring.aws_sns_topic.critical_alerts","attribute":["arn"]},{"resource":"module.audit_foundation.aws_kms_key.audit","attribute":["key_id"]},{"resource":"module.compute.data.aws_s3_object.lambda_artifacts[\"rotate_nat_gateway_eip\"]","attribute":["version_id"]},{"resource":"module.iam.aws_iam_role.lambda_api","attribute":["name"]},{"resource":"module.iam.aws_iam_role.lambda_discover_studios","attribute":["arn"]},{"resource":"module.compute.aws_sqs_queue.scraping_queue","attribute":["url"]},{"resource":"module.app_storage.aws_s3_bucket.main[\"frontend\"]","attribute":["bucket_regional_domain_name"]},{"resource":"module.compute.aws_cloudwatch_log_group.step_functions","attribute":["arn"]},{"resource":"module.compute.aws_lambda_function.api_handler","attribute":["function_name"]},{"resource":"module.networking.aws_security_group.main[\"fargate\"]","attribute":["id"]},{"resource":"module.app_storage.aws_s3_bucket.main[\"frontend_backup\"]","attribute":["id"]},{"resource":"module.networking.aws_security_group.main[\"vpc_endpoints\"]","attribute":["arn"]},{"resource":"module.app_storage.aws_s3_bucket.main[\"lambda_artifacts\"]","attribute":["id"]},{"resource":"module.central_logging.aws_cloudwatch_log_group.api_gateway","attribute":["name"]},{"resource":"module.compute.aws_sqs_queue.scraping_queue","attribute":["arn"]},{"resource":"module.delivery.data.aws_cloudfront_origin_request_policy.all_viewer","attribute":["id"]},{"resource":"module.central_logging.aws_cloudwatch_log_group.incident_response","attribute":["name"]},{"resource":"module.governance.aws_config_delivery_channel.main[0]","attribute":["name"]},{"resource":"module.central_logging.aws_iam_role.firehose_waf","attribute":["name"]},{"resource":"module.governance.aws_config_config_rule.managed_rules[\"dynamodb-table-encryption-enabled\"]","attribute":["name"]},{"resource":"module.audit_foundation.aws_kms_key.audit","attribute":["arn"]},{"resource":"module.central_security.aws_accessanalyzer_analyzer.main","attribute":["analyzer_name"]},{"resource":"module.audit_governance.aws_cloudwatch_dashboard.compliance","attribute":["dashboard_name"]},{"resource":"module.compute.aws_sfn_state_machine.data_aggregation","attribute":["arn"]},{"resource":"module.iam.aws_iam_role.ecs_task","attribute":["arn"]},{"resource":"module.compute.aws_cloudwatch_log_group.ecs_cluster","attribute":["name"]},{"resource":"module.iam.data.aws_iam_policy.ecs_task_execution_role","attribute":["arn"]},{"resource":"module.governance.aws_config_config_rule.managed_rules[\"lambda-function-public-access-prohibited\"]","attribute":["name"]},{"resource":"module.networking.aws_security_group.main[\"opensearch\"]","attribute":["arn"]},{"resource":"module.compute.aws_iam_policy.api_handler_dynamodb","attribute":["arn"]},{"resource":"module.search.aws_cloudwatch_log_group.opensearch_audit","attribute":["name"]},{"resource":"module.iam.aws_iam_role.lambda_find_artists","attribute":["name"]},{"resource":"module.iam.aws_iam_role.lambda_sync","attribute":["arn"]},{"resource":"module.search.aws_cloudwatch_log_group.opensearch_slow_search","attribute":["name"]},{"resource":"module.networking.aws_vpc_endpoint.gateway","attribute":[]},{"resource":"module.networking.aws_internet_gateway.main","attribute":["id"]},{"resource":"module.iam.aws_iam_role.ecs_task_execution","attribute":["arn"]},{"resource":"module.search.aws_cloudwatch_log_group.opensearch_slow_index","attribute":["arn"]},{"resource":"module.iam.aws_iam_role.lambda_sync","attribute":["name"]},{"resource":"module.search.aws_opensearch_domain.main","attribute":["arn"]},{"resource":"module.security_monitoring.aws_cloudwatch_metric_alarm.cloudtrail_errors[0]","attribute":["arn"]},{"resource":"module.log_storage.aws_kms_key.log_archive","attribute":["arn"]},{"resource":"module.delivery.aws_cloudfront_distribution.frontend","attribute":["domain_name"]},{"resource":"module.governance.aws_config_config_rule.managed_rules","attribute":[]},{"resource":"module.networking.aws_default_security_group.default","attribute":["id"]},{"resource":"module.foundation.aws_kms_key.main","attribute":["arn"]},{"resource":"module.log_storage.aws_s3_bucket.main","attribute":[]},{"resource":"module.audit_foundation.aws_kms_key.logs","attribute":["key_id"]},{"resource":"module.log_storage.aws_s3_bucket.main[\"access_logs\"]","attribute":["arn"]},{"resource":"module.networking.aws_security_group.main[\"opensearch\"]","attribute":["id"]},{"resource":"module.compute.aws_sqs_queue.scraping_queue","attribute":["id"]},{"resource":"module.governance.aws_config_config_rule.managed_rules[\"cloudfront-viewer-policy-https\"]","attribute":["name"]},{"resource":"module.compute.aws_lambda_function.api_handler","attribute":[]},{"resource":"module.compute.aws_sfn_state_machine.data_aggregation","attribute":["name"]},{"resource":"aws_iam_policy.github_actions_cicd","attribute":["arn"]},{"resource":"module.search.aws_cloudwatch_log_group.opensearch_slow_index","attribute":["name"]},{"resource":"module.networking.aws_vpc_endpoint.interface","attribute":[]},{"resource":"module.iam.aws_iam_role.step_functions","attribute":["name"]},{"resource":"module.iam.aws_iam_role.lambda_api","attribute":["arn"]},{"resource":"module.log_storage.aws_s3_bucket.main[\"access_logs\"]","attribute":["bucket_domain_name"]},{"resource":"module.networking.aws_security_group.main[\"lambda_internet\"]","attribute":["id"]},{"resource":"module.log_storage.aws_s3_bucket.main[\"waf_logs\"]","attribute":["arn"]},{"resource":"module.central_security.aws_iam_role.log_auditor","attribute":["name"]},{"resource":"module.foundation.data.aws_availability_zones.available","attribute":["names"]},{"resource":"module.foundation.data.aws_region.current","attribute":["name"]},{"resource":"module.governance.aws_sns_topic.cloudtrail_notifications","attribute":["name"]},{"resource":"module.app_monitoring.aws_cloudwatch_metric_alarm.opensearch_cpu_utilization","attribute":["arn"]},{"resource":"module.networking.aws_security_group.main[\"vpc_endpoints\"]","attribute":["id"]},{"resource":"module.iam.data.aws_iam_policy.xray_daemon_write_access","attribute":["arn"]},{"resource":"module.app_security.aws_secretsmanager_secret.app_secrets","attribute":["id"]},{"resource":"module.foundation.random_id.suffix","attribute":["hex"]},{"resource":"module.networking.aws_eip.nat","attribute":[]},{"resource":"module.log_storage.aws_s3_bucket.main[\"vpc_flow_logs\"]","attribute":["id"]},{"resource":"module.compute.data.aws_s3_object.lambda_artifacts[\"dynamodb_sync\"]","attribute":["version_id"]},{"resource":"module.api.aws_apigatewayv2_api.main","attribute":["arn"]},{"resource":"module.iam.aws_iam_role.lambda_rotate_nat_gateway_eip","attribute":["arn"]},{"resource":"module.app_storage.aws_dynamodb_table.main","attribute":["name"]},{"resource":"module.delivery.aws_cloudfront_distribution.frontend","attribute":["id"]},{"resource":"module.audit_governance.aws_config_configuration_aggregator.organization[0]","attribute":["arn"]},{"resource":"module.iam.aws_iam_policy.lambda_sync","attribute":["arn"]},{"resource":"module.networking.aws_security_group.main[\"lambda_internal\"]","attribute":["id"]},{"resource":"module.app_storage.data.aws_iam_policy_document.frontend_bucket_policy","attribute":[]},{"resource":"module.networking.aws_vpc_endpoint.gateway[\"dynamodb\"]","attribute":["id"]},{"resource":"module.security_monitoring.aws_cloudwatch_query_definition.failed_logins[0]","attribute":["query_definition_id"]},{"resource":"module.central_logging.aws_iam_role.firehose_waf","attribute":["arn"]},{"resource":"module.security_monitoring.aws_sns_topic.security_alerts","attribute":["arn"]},{"resource":"module.app_storage.aws_dynamodb_table.denylist","attribute":["name"]},{"resource":"module.compute.aws_sqs_queue.lambda_sync_dlq","attribute":["arn"]},{"resource":"module.security_monitoring.aws_cloudwatch_log_metric_filter.cloudtrail_security_alerts[0]","attribute":["metric_transformation",0,"namespace"]},{"resource":"module.compute.data.aws_s3_object.lambda_artifacts[\"api_handler\"]","attribute":["version_id"]},{"resource":"module.security_monitoring.aws_cloudwatch_query_definition.security_events[0]","attribute":["query_definition_id"]},{"resource":"module.delivery.data.aws_cloudfront_cache_policy.caching_optimized","attribute":["id"]},{"resource":"module.networking.aws_network_acl.private","attribute":["id"]},{"resource":"module.foundation.random_password.opensearch_master","attribute":["result"]}],"checks":[{"address":{"kind":"var","module":"module.backup","name":"backup_retention_days","to_display":"module.backup.var.backup_retention_days"},"status":"pass","instances":[{"address":{"module":"module.backup","to_display":"module.backup.var.backup_retention_days"},"status":"pass"}]},{"address":{"kind":"var","module":"module.networking","name":"vpc_cidr","to_display":"module.networking.var.vpc_cidr"},"status":"pass","instances":[{"address":{"module":"module.networking","to_display":"module.networking.var.vpc_cidr"},"status":"pass"}]},{"address":{"kind":"var","name":"allowed_countries","to_display":"var.allowed_countries"},"status":"pass","instances":[{"address":{"to_display":"var.allowed_countries"},"status":"pass"}]},{"address":{"kind":"var","name":"audit_account_id","to_display":"var.audit_account_id"},"status":"pass","instances":[{"address":{"to_display":"var.audit_account_id"},"status":"pass"}]},{"address":{"kind":"var","name":"aws_region","to_display":"var.aws_region"},"status":"pass","instances":[{"address":{"to_display":"var.aws_region"},"status":"pass"}]},{"address":{"kind":"var","name":"backup_retention_days","to_display":"var.backup_retention_days"},"status":"pass","instances":[{"address":{"to_display":"var.backup_retention_days"},"status":"pass"}]},{"address":{"kind":"var","name":"domain_name","to_display":"var.domain_name"},"status":"pass","instances":[{"address":{"to_display":"var.domain_name"},"status":"pass"}]},{"address":{"kind":"var","name":"environment","to_display":"var.environment"},"status":"pass","instances":[{"address":{"to_display":"var.environment"},"status":"pass"}]},{"address":{"kind":"var","name":"infra_account_id","to_display":"var.infra_account_id"},"status":"pass","instances":[{"address":{"to_display":"var.infra_account_id"},"status":"pass"}]},{"address":{"kind":"var","name":"log_archive_account_id","to_display":"var.log_archive_account_id"},"status":"pass","instances":[{"address":{"to_display":"var.log_archive_account_id"},"status":"pass"}]},{"address":{"kind":"var","name":"nat_gateway_count","to_display":"var.nat_gateway_count"},"status":"pass","instances":[{"address":{"to_display":"var.nat_gateway_count"},"status":"pass"}]},{"address":{"kind":"var","name":"notification_email","to_display":"var.notification_email"},"status":"pass","instances":[{"address":{"to_display":"var.notification_email"},"status":"pass"}]},{"address":{"kind":"var","name":"owner_email","to_display":"var.owner_email"},"status":"pass","instances":[{"address":{"to_display":"var.owner_email"},"status":"pass"}]},{"address":{"kind":"var","name":"project_name","to_display":"var.project_name"},"status":"pass","instances":[{"address":{"to_display":"var.project_name"},"status":"pass"}]},{"address":{"kind":"var","name":"replica_aws_region","to_display":"var.replica_aws_region"},"status":"pass","instances":[{"address":{"to_display":"var.replica_aws_region"},"status":"pass"}]}],"timestamp":"2025-08-29T17:18:12Z","applyable":true,"complete":true,"errored":false}
